!(function(){var cb=Object.defineProperty,ub=Object.defineProperties;var lb=Object.getOwnPropertyDescriptors;var hi=Object.getOwnPropertySymbols;var rl=Object.prototype.hasOwnProperty,il=Object.prototype.propertyIsEnumerable;var nl=(It,mt,Q)=>mt in It?cb(It,mt,{enumerable:!0,configurable:!0,writable:!0,value:Q}):It[mt]=Q,A=(It,mt)=>{for(var Q in mt||(mt={}))rl.call(mt,Q)&&nl(It,Q,mt[Q]);if(hi)for(var Q of hi(mt))il.call(mt,Q)&&nl(It,Q,mt[Q]);return It},X=(It,mt)=>ub(It,lb(mt));var pi=(It,mt)=>{var Q={};for(var it in It)rl.call(It,it)&&mt.indexOf(it)<0&&(Q[it]=It[it]);if(It!=null&&hi)for(var it of hi(It))mt.indexOf(it)<0&&il.call(It,it)&&(Q[it]=It[it]);return Q};var Nt=(It,mt,Q)=>new Promise((it,oe)=>{var Pt=Dt=>{try{Vt(Q.next(Dt))}catch(ue){oe(ue)}},jt=Dt=>{try{Vt(Q.throw(Dt))}catch(ue){oe(ue)}},Vt=Dt=>Dt.done?it(Dt.value):Promise.resolve(Dt.value).then(Pt,jt);Vt((Q=Q.apply(It,mt)).next())});(self.webpackChunk_dext7r_docs=self.webpackChunk_dext7r_docs||[]).push([[433],{76236:function(It,mt,Q){"use strict";Q.r(mt),Q.d(mt,{default:function(){return Vt}});var it=Q(93597),oe=Q(52983),Pt=Q(97458);function jt(){return(0,Pt.jsx)(it.zx,{children:"Click"})}var Vt=jt},66513:function(It,mt,Q){"use strict";Q.r(mt),Q.d(mt,{default:function(){return he}});var it=Q(93597);function oe(pt="\u661F\u671F"){const ot=["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],wt=new Date().getDay();return pt+ot[wt]}function Pt(pt){const ot=new Date(pt),wt=ot.getFullYear(),rt=ot.getMonth()+1;return new Date(wt,rt,0).getDate()}function jt(pt){const ot=new Date().getFullYear(),wt=[];for(let rt=ot;rt>=pt;rt--)wt.push(rt);return wt}function Vt(pt){const{type:ot=1,prefix:wt="\u661F\u671F"}=pt||{},rt=new Date,st=rt.getFullYear(),le=String(rt.getMonth()+1).padStart(2,"0"),Se=String(rt.getDate()).padStart(2,"0"),et=String(rt.getHours()).padStart(2,"0"),W=String(rt.getMinutes()).padStart(2,"0"),q=String(rt.getSeconds()).padStart(2,"0"),K=wt+"\u65E5\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D"[rt.getDay()];let B;switch(ot){case 2:B=`${st}-${le}-${Se}`;break;case 3:B=`${st}/${le}/${Se}`;break;default:B=`${st}\u5E74${le}\u6708${Se}\u65E5`}const nt=`${et}:${W}:${q}`;return{ymd:B,hms:nt,week:K}}function Dt(pt){const ot=new Date,wt=ot.getFullYear(),rt=String(ot.getMonth()+1).padStart(2,"0"),st=String(ot.getDate()).padStart(2,"0"),le=String(ot.getHours()).padStart(2,"0"),Se=String(ot.getMinutes()).padStart(2,"0"),et=String(ot.getSeconds()).padStart(2,"0");return pt.replace("YYYY",String(wt)).replace("MM",rt).replace("DD",st).replace("HH",le).replace("mm",Se).replace("ss",et)}function ue(pt,ot=!0){const wt=Math.floor(pt/3600),rt=Math.floor(pt%3600/60),st=Math.floor(pt%60);return{h:ot?String(wt).padStart(2,"0"):wt,m:ot?String(rt).padStart(2,"0"):rt,s:ot?String(st).padStart(2,"0"):st}}function ee(pt){return pt==="win32"||pt==="darwin"||pt==="freebsd"||pt==="openbsd"}function pn(pt,ot,wt){let rt=wt;for(let st=1;st<=pt;st++)rt=ot(rt,st);return rt}function ne(pt,ot){return Math.floor(Math.random()*(ot-pt+1)+pt)}function $e(pt){const ot=pt.length;if(ot===0)return null;const wt=ne(0,ot-1);return pt[wt]}function ut(pt){return pt.map(ot=>({rand:Math.random(),value:ot})).sort((ot,wt)=>ot.rand-wt.rand).map(ot=>ot.value)}function Bn(pt=6,ot=""){const wt=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789${ot}`;return pn(pt,rt=>rt+wt.charAt(ne(0,wt.length-1)),"")}var zn=Q(27860),Fe=Q.n(zn),fn=Q(52983),mn=Q(97458);function _e(){var pt=Vt({type:2}),ot=pt.ymd;return(0,mn.jsx)("div",{className:"App",children:(0,mn.jsx)(it.f,{value:Fe()(ot)})})}var he=_e},63259:function(It,mt,Q){"use strict";Q.r(mt);var it=Q(93597),oe=Q(52983),Pt=Q(97458);function jt(){return(0,Pt.jsx)("div",{className:"App",children:(0,Pt.jsx)(it.iz,{})})}mt.default=jt},14732:function(It,mt,Q){"use strict";Q.r(mt);var it=Q(93597),oe=Q(52983),Pt=Q(97458);function jt(){return(0,Pt.jsx)(it.AL,{children:(0,Pt.jsx)(it.ug,{config:{rollbarKey:"23b8e46f18bd4eecaee8855d44148de4",rollbarEnv:"testenv",debug:!0,fundebugKey:"021cb0b41feaa3c55598f98729163e115a4f5c53c8c6943fb7edec6d9900cec8",sentryOptions:{dsn:"https://41ab9ee3a8eb92a3bdfdb1526de176ce@o933014.ingest.us.sentry.io/4507003679145984"}},children:(0,Pt.jsx)(it.iz,{})})})}mt.default=jt},27860:function(It){(function(mt,Q){It.exports=Q()})(this,function(){"use strict";var mt=1e3,Q=6e4,it=36e5,oe="millisecond",Pt="second",jt="minute",Vt="hour",Dt="day",ue="week",ee="month",pn="quarter",ne="year",$e="date",ut="Invalid Date",Bn=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,zn=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Fe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(et){var W=["th","st","nd","rd"],q=et%100;return"["+et+(W[(q-20)%10]||W[q]||W[0])+"]"}},fn=function(et,W,q){var K=String(et);return!K||K.length>=W?et:""+Array(W+1-K.length).join(q)+et},mn={s:fn,z:function(et){var W=-et.utcOffset(),q=Math.abs(W),K=Math.floor(q/60),B=q%60;return(W<=0?"+":"-")+fn(K,2,"0")+":"+fn(B,2,"0")},m:function et(W,q){if(W.date()<q.date())return-et(q,W);var K=12*(q.year()-W.year())+(q.month()-W.month()),B=W.clone().add(K,ee),nt=q-B<0,ct=W.clone().add(K+(nt?-1:1),ee);return+(-(K+(q-B)/(nt?B-ct:ct-B))||0)},a:function(et){return et<0?Math.ceil(et)||0:Math.floor(et)},p:function(et){return{M:ee,y:ne,w:ue,d:Dt,D:$e,h:Vt,m:jt,s:Pt,ms:oe,Q:pn}[et]||String(et||"").toLowerCase().replace(/s$/,"")},u:function(et){return et===void 0}},_e="en",he={};he[_e]=Fe;var pt="$isDayjsObject",ot=function(et){return et instanceof le||!(!et||!et[pt])},wt=function et(W,q,K){var B;if(!W)return _e;if(typeof W=="string"){var nt=W.toLowerCase();he[nt]&&(B=nt),q&&(he[nt]=q,B=nt);var ct=W.split("-");if(!B&&ct.length>1)return et(ct[0])}else{var kt=W.name;he[kt]=W,B=kt}return!K&&B&&(_e=B),B||!K&&_e},rt=function(et,W){if(ot(et))return et.clone();var q=typeof W=="object"?W:{};return q.date=et,q.args=arguments,new le(q)},st=mn;st.l=wt,st.i=ot,st.w=function(et,W){return rt(et,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var le=function(){function et(q){this.$L=wt(q.locale,null,!0),this.parse(q),this.$x=this.$x||q.x||{},this[pt]=!0}var W=et.prototype;return W.parse=function(q){this.$d=function(K){var B=K.date,nt=K.utc;if(B===null)return new Date(NaN);if(st.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var ct=B.match(Bn);if(ct){var kt=ct[2]-1||0,Mt=(ct[7]||"0").substring(0,3);return nt?new Date(Date.UTC(ct[1],kt,ct[3]||1,ct[4]||0,ct[5]||0,ct[6]||0,Mt)):new Date(ct[1],kt,ct[3]||1,ct[4]||0,ct[5]||0,ct[6]||0,Mt)}}return new Date(B)}(q),this.init()},W.init=function(){var q=this.$d;this.$y=q.getFullYear(),this.$M=q.getMonth(),this.$D=q.getDate(),this.$W=q.getDay(),this.$H=q.getHours(),this.$m=q.getMinutes(),this.$s=q.getSeconds(),this.$ms=q.getMilliseconds()},W.$utils=function(){return st},W.isValid=function(){return this.$d.toString()!==ut},W.isSame=function(q,K){var B=rt(q);return this.startOf(K)<=B&&B<=this.endOf(K)},W.isAfter=function(q,K){return rt(q)<this.startOf(K)},W.isBefore=function(q,K){return this.endOf(K)<rt(q)},W.$g=function(q,K,B){return st.u(q)?this[K]:this.set(B,q)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(q,K){var B=this,nt=!!st.u(K)||K,ct=st.p(q),kt=function(we,Wt){var fe=st.w(B.$u?Date.UTC(B.$y,Wt,we):new Date(B.$y,Wt,we),B);return nt?fe:fe.endOf(Dt)},Mt=function(we,Wt){return st.w(B.toDate()[we].apply(B.toDate("s"),(nt?[0,0,0,0]:[23,59,59,999]).slice(Wt)),B)},$t=this.$W,qt=this.$M,Xt=this.$D,Re="set"+(this.$u?"UTC":"");switch(ct){case ne:return nt?kt(1,0):kt(31,11);case ee:return nt?kt(1,qt):kt(0,qt+1);case ue:var pe=this.$locale().weekStart||0,tn=($t<pe?$t+7:$t)-pe;return kt(nt?Xt-tn:Xt+(6-tn),qt);case Dt:case $e:return Mt(Re+"Hours",0);case Vt:return Mt(Re+"Minutes",1);case jt:return Mt(Re+"Seconds",2);case Pt:return Mt(Re+"Milliseconds",3);default:return this.clone()}},W.endOf=function(q){return this.startOf(q,!1)},W.$set=function(q,K){var B,nt=st.p(q),ct="set"+(this.$u?"UTC":""),kt=(B={},B[Dt]=ct+"Date",B[$e]=ct+"Date",B[ee]=ct+"Month",B[ne]=ct+"FullYear",B[Vt]=ct+"Hours",B[jt]=ct+"Minutes",B[Pt]=ct+"Seconds",B[oe]=ct+"Milliseconds",B)[nt],Mt=nt===Dt?this.$D+(K-this.$W):K;if(nt===ee||nt===ne){var $t=this.clone().set($e,1);$t.$d[kt](Mt),$t.init(),this.$d=$t.set($e,Math.min(this.$D,$t.daysInMonth())).$d}else kt&&this.$d[kt](Mt);return this.init(),this},W.set=function(q,K){return this.clone().$set(q,K)},W.get=function(q){return this[st.p(q)]()},W.add=function(q,K){var B,nt=this;q=Number(q);var ct=st.p(K),kt=function(qt){var Xt=rt(nt);return st.w(Xt.date(Xt.date()+Math.round(qt*q)),nt)};if(ct===ee)return this.set(ee,this.$M+q);if(ct===ne)return this.set(ne,this.$y+q);if(ct===Dt)return kt(1);if(ct===ue)return kt(7);var Mt=(B={},B[jt]=Q,B[Vt]=it,B[Pt]=mt,B)[ct]||1,$t=this.$d.getTime()+q*Mt;return st.w($t,this)},W.subtract=function(q,K){return this.add(-1*q,K)},W.format=function(q){var K=this,B=this.$locale();if(!this.isValid())return B.invalidDate||ut;var nt=q||"YYYY-MM-DDTHH:mm:ssZ",ct=st.z(this),kt=this.$H,Mt=this.$m,$t=this.$M,qt=B.weekdays,Xt=B.months,Re=B.meridiem,pe=function(Wt,fe,He,en){return Wt&&(Wt[fe]||Wt(K,nt))||He[fe].slice(0,en)},tn=function(Wt){return st.s(kt%12||12,Wt,"0")},we=Re||function(Wt,fe,He){var en=Wt<12?"AM":"PM";return He?en.toLowerCase():en};return nt.replace(zn,function(Wt,fe){return fe||function(He){switch(He){case"YY":return String(K.$y).slice(-2);case"YYYY":return st.s(K.$y,4,"0");case"M":return $t+1;case"MM":return st.s($t+1,2,"0");case"MMM":return pe(B.monthsShort,$t,Xt,3);case"MMMM":return pe(Xt,$t);case"D":return K.$D;case"DD":return st.s(K.$D,2,"0");case"d":return String(K.$W);case"dd":return pe(B.weekdaysMin,K.$W,qt,2);case"ddd":return pe(B.weekdaysShort,K.$W,qt,3);case"dddd":return qt[K.$W];case"H":return String(kt);case"HH":return st.s(kt,2,"0");case"h":return tn(1);case"hh":return tn(2);case"a":return we(kt,Mt,!0);case"A":return we(kt,Mt,!1);case"m":return String(Mt);case"mm":return st.s(Mt,2,"0");case"s":return String(K.$s);case"ss":return st.s(K.$s,2,"0");case"SSS":return st.s(K.$ms,3,"0");case"Z":return ct}return null}(Wt)||ct.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(q,K,B){var nt,ct=this,kt=st.p(K),Mt=rt(q),$t=(Mt.utcOffset()-this.utcOffset())*Q,qt=this-Mt,Xt=function(){return st.m(ct,Mt)};switch(kt){case ne:nt=Xt()/12;break;case ee:nt=Xt();break;case pn:nt=Xt()/3;break;case ue:nt=(qt-$t)/6048e5;break;case Dt:nt=(qt-$t)/864e5;break;case Vt:nt=qt/it;break;case jt:nt=qt/Q;break;case Pt:nt=qt/mt;break;default:nt=qt}return B?nt:st.a(nt)},W.daysInMonth=function(){return this.endOf(ee).$D},W.$locale=function(){return he[this.$L]},W.locale=function(q,K){if(!q)return this.$L;var B=this.clone(),nt=wt(q,K,!0);return nt&&(B.$L=nt),B},W.clone=function(){return st.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},et}(),Se=le.prototype;return rt.prototype=Se,[["$ms",oe],["$s",Pt],["$m",jt],["$H",Vt],["$W",Dt],["$M",ee],["$y",ne],["$D",$e]].forEach(function(et){Se[et[1]]=function(W){return this.$g(W,et[0],et[1])}}),rt.extend=function(et,W){return et.$i||(et(W,le,rt),et.$i=!0),rt},rt.locale=wt,rt.isDayjs=ot,rt.unix=function(et){return rt(1e3*et)},rt.en=he[_e],rt.Ls=he,rt.p={},rt})},93597:function(It,mt,Q){"use strict";Q.d(mt,{AL:function(){return B},f:function(){return W},iz:function(){return mn},ug:function(){return sb},zx:function(){return fn}});var it=Q(52983),oe=Q(73656),Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vt={exports:{}},Dt={};var ue;function ee(){if(ue)return Dt;ue=1;var t=it,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(c,s,d){var l,u={},h=null,g=null;d!==void 0&&(h=""+d),s.key!==void 0&&(h=""+s.key),s.ref!==void 0&&(g=s.ref);for(l in s)r.call(s,l)&&!a.hasOwnProperty(l)&&(u[l]=s[l]);if(c&&c.defaultProps)for(l in s=c.defaultProps,s)u[l]===void 0&&(u[l]=s[l]);return{$$typeof:e,type:c,key:h,ref:g,props:u,_owner:i.current}}return Dt.Fragment=n,Dt.jsx=o,Dt.jsxs=o,Dt}var pn={};var ne;function $e(){return ne||(ne=1),pn}Vt.exports=ee();var ut=Vt.exports,Bn={exports:{}};(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var c=arguments[o];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var c in a)e.call(a,c)&&a[c]&&(o=i(o,c));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Bn);var zn=Bn.exports;const Fe=jt(zn),fn=n=>{var r=n,{className:t}=r,e=pi(r,["className"]);return ut.jsx("button",A({className:Fe("sk-button",t)},e))},mn=n=>{var r=n,{className:t}=r,e=pi(r,["className"]);return ut.jsx("div",A({className:Fe("sk-divider",t)},e))};var _e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Pt,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",c="minute",s="hour",d="day",l="week",u="month",h="quarter",g="year",p="date",m="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var D=["th","st","nd","rd"],M=O%100;return"["+O+(D[(M-20)%10]||D[M]||D[0])+"]"}},y=function(O,D,M){var L=String(O);return!L||L.length>=D?O:""+Array(D+1-L.length).join(M)+O},T={s:y,z:function(O){var D=-O.utcOffset(),M=Math.abs(D),L=Math.floor(M/60),P=M%60;return(D<=0?"+":"-")+y(L,2,"0")+":"+y(P,2,"0")},m:function O(D,M){if(D.date()<M.date())return-O(M,D);var L=12*(M.year()-D.year())+(M.month()-D.month()),P=D.clone().add(L,u),F=M-P<0,N=D.clone().add(L+(F?-1:1),u);return+(-(L+(M-P)/(F?P-N:N-P))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:u,y:g,w:l,d,D:p,h:s,m:c,s:o,ms:a,Q:h}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},_="en",x={};x[_]=k;var w="$isDayjsObject",C=function(O){return O instanceof I||!(!O||!O[w])},S=function O(D,M,L){var P;if(!D)return _;if(typeof D=="string"){var F=D.toLowerCase();x[F]&&(P=F),M&&(x[F]=M,P=F);var N=D.split("-");if(!P&&N.length>1)return O(N[0])}else{var $=D.name;x[$]=D,P=$}return!L&&P&&(_=P),P||!L&&_},b=function(O,D){if(C(O))return O.clone();var M=typeof D=="object"?D:{};return M.date=O,M.args=arguments,new I(M)},v=T;v.l=S,v.i=C,v.w=function(O,D){return b(O,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var I=function(){function O(M){this.$L=S(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[w]=!0}var D=O.prototype;return D.parse=function(M){this.$d=function(L){var P=L.date,F=L.utc;if(P===null)return new Date(NaN);if(v.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var N=P.match(E);if(N){var $=N[2]-1||0,j=(N[7]||"0").substring(0,3);return F?new Date(Date.UTC(N[1],$,N[3]||1,N[4]||0,N[5]||0,N[6]||0,j)):new Date(N[1],$,N[3]||1,N[4]||0,N[5]||0,N[6]||0,j)}}return new Date(P)}(M),this.init()},D.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},D.$utils=function(){return v},D.isValid=function(){return this.$d.toString()!==m},D.isSame=function(M,L){var P=b(M);return this.startOf(L)<=P&&P<=this.endOf(L)},D.isAfter=function(M,L){return b(M)<this.startOf(L)},D.isBefore=function(M,L){return this.endOf(L)<b(M)},D.$g=function(M,L,P){return v.u(M)?this[L]:this.set(P,M)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(M,L){var P=this,F=!!v.u(L)||L,N=v.p(M),$=function(at,tt){var xt=v.w(P.$u?Date.UTC(P.$y,tt,at):new Date(P.$y,tt,at),P);return F?xt:xt.endOf(d)},j=function(at,tt){return v.w(P.toDate()[at].apply(P.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(tt)),P)},U=this.$W,z=this.$M,Y=this.$D,Z="set"+(this.$u?"UTC":"");switch(N){case g:return F?$(1,0):$(31,11);case u:return F?$(1,z):$(0,z+1);case l:var J=this.$locale().weekStart||0,V=(U<J?U+7:U)-J;return $(F?Y-V:Y+(6-V),z);case d:case p:return j(Z+"Hours",0);case s:return j(Z+"Minutes",1);case c:return j(Z+"Seconds",2);case o:return j(Z+"Milliseconds",3);default:return this.clone()}},D.endOf=function(M){return this.startOf(M,!1)},D.$set=function(M,L){var P,F=v.p(M),N="set"+(this.$u?"UTC":""),$=(P={},P[d]=N+"Date",P[p]=N+"Date",P[u]=N+"Month",P[g]=N+"FullYear",P[s]=N+"Hours",P[c]=N+"Minutes",P[o]=N+"Seconds",P[a]=N+"Milliseconds",P)[F],j=F===d?this.$D+(L-this.$W):L;if(F===u||F===g){var U=this.clone().set(p,1);U.$d[$](j),U.init(),this.$d=U.set(p,Math.min(this.$D,U.daysInMonth())).$d}else $&&this.$d[$](j);return this.init(),this},D.set=function(M,L){return this.clone().$set(M,L)},D.get=function(M){return this[v.p(M)]()},D.add=function(M,L){var P,F=this;M=Number(M);var N=v.p(L),$=function(z){var Y=b(F);return v.w(Y.date(Y.date()+Math.round(z*M)),F)};if(N===u)return this.set(u,this.$M+M);if(N===g)return this.set(g,this.$y+M);if(N===d)return $(1);if(N===l)return $(7);var j=(P={},P[c]=r,P[s]=i,P[o]=n,P)[N]||1,U=this.$d.getTime()+M*j;return v.w(U,this)},D.subtract=function(M,L){return this.add(-1*M,L)},D.format=function(M){var L=this,P=this.$locale();if(!this.isValid())return P.invalidDate||m;var F=M||"YYYY-MM-DDTHH:mm:ssZ",N=v.z(this),$=this.$H,j=this.$m,U=this.$M,z=P.weekdays,Y=P.months,Z=P.meridiem,J=function(tt,xt,Ut,te){return tt&&(tt[xt]||tt(L,F))||Ut[xt].slice(0,te)},V=function(tt){return v.s($%12||12,tt,"0")},at=Z||function(tt,xt,Ut){var te=tt<12?"AM":"PM";return Ut?te.toLowerCase():te};return F.replace(f,function(tt,xt){return xt||function(Ut){switch(Ut){case"YY":return String(L.$y).slice(-2);case"YYYY":return v.s(L.$y,4,"0");case"M":return U+1;case"MM":return v.s(U+1,2,"0");case"MMM":return J(P.monthsShort,U,Y,3);case"MMMM":return J(Y,U);case"D":return L.$D;case"DD":return v.s(L.$D,2,"0");case"d":return String(L.$W);case"dd":return J(P.weekdaysMin,L.$W,z,2);case"ddd":return J(P.weekdaysShort,L.$W,z,3);case"dddd":return z[L.$W];case"H":return String($);case"HH":return v.s($,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return at($,j,!0);case"A":return at($,j,!1);case"m":return String(j);case"mm":return v.s(j,2,"0");case"s":return String(L.$s);case"ss":return v.s(L.$s,2,"0");case"SSS":return v.s(L.$ms,3,"0");case"Z":return N}return null}(tt)||N.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(M,L,P){var F,N=this,$=v.p(L),j=b(M),U=(j.utcOffset()-this.utcOffset())*r,z=this-j,Y=function(){return v.m(N,j)};switch($){case g:F=Y()/12;break;case u:F=Y();break;case h:F=Y()/3;break;case l:F=(z-U)/6048e5;break;case d:F=(z-U)/864e5;break;case s:F=z/i;break;case c:F=z/r;break;case o:F=z/n;break;default:F=z}return P?F:v.a(F)},D.daysInMonth=function(){return this.endOf(u).$D},D.$locale=function(){return x[this.$L]},D.locale=function(M,L){if(!M)return this.$L;var P=this.clone(),F=S(M,L,!0);return F&&(P.$L=F),P},D.clone=function(){return v.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},O}(),R=I.prototype;return b.prototype=R,[["$ms",a],["$s",o],["$m",c],["$H",s],["$W",d],["$M",u],["$y",g],["$D",p]].forEach(function(O){R[O[1]]=function(D){return this.$g(D,O[0],O[1])}}),b.extend=function(O,D){return O.$i||(O(D,I,b),O.$i=!0),b},b.locale=S,b.isDayjs=C,b.unix=function(O){return b(1e3*O)},b.en=x[_],b.Ls=x,b.p={},b})})(_e);var he=_e.exports;const pt=jt(he),ot=(0,it.createContext)({locale:"zh-CN"}),wt={formatYear:"YYYY \u5E74",formatMonth:"YYYY \u5E74 MM \u6708",today:"\u4ECA\u5929",month:{January:"\u4E00\u6708",February:"\u4E8C\u6708",March:"\u4E09\u6708",April:"\u56DB\u6708",May:"\u4E94\u6708",June:"\u516D\u6708",July:"\u4E03\u6708",August:"\u516B\u6708",September:"\u4E5D\u6708",October:"\u5341\u6708",November:"\u5341\u4E00\u6708",December:"\u5341\u4E8C\u6708"},week:{monday:"\u5468\u4E00",tuesday:"\u5468\u4E8C",wednesday:"\u5468\u4E09",thursday:"\u5468\u56DB",friday:"\u5468\u4E94",saturday:"\u5468\u516D",sunday:"\u5468\u65E5"}},rt={formatYear:"YYYY",formatMonth:"MMM YYYY",today:"Today",month:{January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December"},week:{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}},st={"zh-CN":wt,"en-US":rt};function le(t){const e=t.startOf("month"),n=e.day(),r=Array.from({length:6*7});for(let i=0;i<n;i++)r[i]={date:e.subtract(n-i,"day"),currentMonth:!1};for(let i=n;i<r.length;i++){const a=e.add(i-n,"day");r[i]={date:a,currentMonth:a.month()===t.month()}}return r}function Se(t){const e=(0,it.useContext)(ot),{value:n,curMonth:r,dateRender:i,dateInnerContent:a,selectHandler:o}=t,c=st[e.locale],s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],d=le(r);function l(u){const h=[];for(let g=0;g<6;g++){const p=[];for(let m=0;m<7;m++){const E=u[g*7+m];p[m]=ut.jsx("div",{className:`calendar-month-body-cell ${E.currentMonth?"calendar-month-body-cell-current":""}`,onClick:()=>o==null?void 0:o(E.date),children:i?i(E.date):ut.jsxs("div",{className:"calendar-month-body-cell-date",children:[ut.jsx("div",{className:Fe("calendar-month-body-cell-date-value",n.format("YYYY-MM-DD")===E.date.format("YYYY-MM-DD")?"calendar-month-body-cell-date-selected":""),children:E.date.date()}),ut.jsx("div",{className:"calendar-month-cell-body-date-content",children:a==null?void 0:a(E.date)})]})},`${E.date.format("YYYY-MM-DD")}-${g}-${m}`)}h.push(p)}return h.map((g,p)=>ut.jsx("div",{className:"calendar-month-body-row",children:g},p))}return ut.jsxs("div",{className:"calendar-month",children:[ut.jsx("div",{className:"calendar-month-week-list",children:s.map(u=>ut.jsx("div",{className:"calendar-month-week-list-item",children:c.week[u]},u))}),ut.jsx("div",{className:"calendar-month-body",children:l(d)})]})}function et(t){const{curMonth:e,prevMonthHandler:n,nextMonthHandler:r,todayHandler:i}=t,a=(0,it.useContext)(ot),o=st[a.locale];return ut.jsx("div",{className:"calendar-header",children:ut.jsxs("div",{className:"calendar-header-left",children:[ut.jsx("div",{className:"calendar-header-icon",onClick:n,children:"<"}),ut.jsx("div",{className:"calendar-header-value",children:e.format(o.formatMonth)}),ut.jsx("div",{className:"calendar-header-icon",onClick:r,children:">"}),ut.jsx("button",{className:"calendar-header-btn",onClick:i,children:o.today})]})})}function W(t){const{value:e,style:n,className:r,locale:i,onChange:a}=t,[o,c]=(0,it.useState)(e),[s,d]=(0,it.useState)(e),l=Fe("calendar",r);function u(m){c(m),d(m),a==null||a(m)}function h(){d(s.subtract(1,"month"))}function g(){d(s.add(1,"month"))}function p(){const m=pt(Date.now());c(m),d(m),a==null||a(m)}return ut.jsx(ot.Provider,{value:{locale:i||navigator.language},children:ut.jsxs("div",{className:l,style:n,children:[ut.jsx(et,{curMonth:s,prevMonthHandler:h,nextMonthHandler:g,todayHandler:p}),ut.jsx(Se,X(A({},t),{value:o,curMonth:s,selectHandler:u}))]})})}const q=(0,it.createContext)(void 0),K=()=>{const t=(0,it.useContext)(q);if(!t)throw new Error("useMonitorContext must be used within a MonitorContextProvider");return t},B=({children:t,config:e})=>{const[n,r]=(0,it.useState)("none");return ut.jsx(q.Provider,{value:{monitorType:n,setMonitorType:r,config:e},children:t})};var nt={exports:{}};(function(t,e){var n=["documentElement","location","statusText","monitorHttpResponse","monitorHttpBody","addBreadcrumb","silentBehavior","ifReportHttpError","parse","[Fundebug]: JSON.parse fails","stringify","method","apply","getOwnPropertyDescriptor","warning","exports","fundebug.com","pushState","url","title","silentConsole","addEventListener","silentPerformance","releasestage","sensitives","object","apikey","getBreadcrumbs","name","userAgent","length","getEntriesByType","test","match","previousSibling","nodeType"];(function(i,a){(function(o){for(;--o;)i.push(i.shift())})(++a)})(n,205);var r=function(i,a){return n[i-=0]};(function(i,a){r("0x0")=="object"?t.exports=a():e.fundebug=a()})(window,function(){return function(i){var a={};function o(c){if(a[c])return a[c].exports;var s=a[c]={i:c,l:!1,exports:{}};return i[c].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=i,o.c=a,o.d=function(c,s,d){o.o(c,s)||Object.defineProperty(c,s,{enumerable:!0,get:d})},o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,s){if(1&s&&(c=o(c)),8&s||4&s&&typeof c=="object"&&c&&c.__esModule)return c;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:c}),2&s&&typeof c!="string")for(var l in c)o.d(d,l,function(u){return c[u]}.bind(null,l));return d},o.n=function(c){var s=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(s,"a",s),s},o.o=function(c,s){return Object.prototype.hasOwnProperty.call(c,s)},o.p="",o(o.s=0)}([function(i,a,o){var c=o(1),s=o(8),d=o(10),l=o(11),u=o(14),h=o(15),g=o(16),p=o(17),m=o(18),E=o(19),f=o(20),k=o(21),y=o(22),T=o(23),_=o(24),x=T.getConfig(),w=o(25);c(x,_),s(x,_),d(x,_),l(x,_),u(x,_),h(x,_),g(x),p(x,_),m(x,_),E(x,_),w(x,_),f(x,_),k(x,_),y(x,_),window.fundebug=x,i.exports=x},function(i,a,o){var c=o(2);i.exports=function(s,d){"addEventListener"in window&&window.addEventListener("unhandledrejection",function(l){try{if(s.silentPromise)return;var u={type:"unhandledrejection",name:"unhandledrejection",message:l.reason};c(u,s,d)}catch(h){}})}},function(i,a,o){var c=o(3),s=o(4),d=o(5),l=o(6),u=o(7);function h(g,p,m){var E=p[r("0x1")];if(s.verifyApiKey(E)&&p.maxEventNumber&&!p.silent&&!d(p.silentDev)){var f;p.maxEventNumber-=1,f=p.revideo&&p.revideo.fetchSequence&&p.revideo.fetchSequence();var k,y=m[r("0x2")]();p.silentPerformance||(k=l.getPerformance());var T={notifierVersion:"2.8.7",userAgent:window.navigator.userAgent,locale:window.navigator.language||window.navigator.userLanguage,url:window.location.href,title:document.title,appVersion:p.appversion,apiKey:p[r("0x1")],releaseStage:p.releasestage,metaData:g.metaData||p.metaData,user:g.user||p.user,name:g[r("0x3")],time:new Date().getTime(),message:g.message,fileName:g.fileName,lineNumber:g.lineNumber,columnNumber:g.columnNumber,stacktrace:g.stacktrace,type:g.type,severity:g.severity,target:g.target,req:g.req,res:g.res,httpTimeout:g.httpTimeout,breadcrumbs:y,redo:f,performance:k};T[r("0x4")]&&T.userAgent.match(/Googlebot/)||(p.callback&&p.callback(T),c.isFiltered(T,p.filters)||s.isSampled(p.sampleRate)&&function(_,x){var w=function(S){var b;try{b=u(S)}catch(v){delete S.metaData;try{b=u(S)}catch(I){return}}return b}(_);if(w)if(window.XMLHttpRequest&&window.atob){var C=new XMLHttpRequest;C.sendByFundebug=!0,C.open("POST",x),C.setRequestHeader("Content-Type","application/json"),C.send(w)}else new Image().src=x+"?event="+encodeURIComponent(w)}(T,p.notifierUrl))}}i.exports=function(g,p,m){p.revideo?setTimeout(function(){h(g,p,m)},1e3):h(g,p,m)}},function(i,a){function o(c,s){if(!c||!s||Object.keys&&!Object.keys(s)[r("0x5")])return!1;for(var d in s)if(s.hasOwnProperty(d)){if(s[d].constructor===RegExp){if(!s[d].test(c[d]))return!1}else if(s[d].constructor===Object){if(!o(c[d],s[d]))return!1}else if(s[d].constructor!==String||s[d]!=="inexistence"||c.hasOwnProperty(d))return!1}return!0}a.isFiltered=function(c,s){if(!s||!s.length)return!1;for(var d=0;d<s.length;d++)if(o(c,s[d]))return!0;return!1}},function(i,a){a.isSampled=function(o){return!o&&o!==0||(o=parseFloat(o),!!isNaN(o)||Math.random()<=o)},a.verifyApiKey=function(o,c){return o?!!o.match(/^[0-9a-z]{64}$/i)||(c||console.error("Fundebug: apikey\u683C\u5F0F\u9519\u8BEF"),!1):(c||console.error("Fundebug: \u8BF7\u914D\u7F6Eapikey"),!1)}},function(i,a){i.exports=function(o){return!(!o||!(c=window.location.href)||!/^http:\/\/localhost/.test(c)&&!/^http:\/\/(\d{1,3}\.){3}\d{1,3}/.test(c));var c}},function(i,a){a.getPerformance=function(){if("performance"in window&&r("0x6")in performance)return{navigation:performance.getEntriesByType("navigation")}}},function(i,a){i.exports=function(p,m,E,f){var k,y,T,_,x=f&&f.redactedKeys?f.redactedKeys:[],w=f&&f.redactedPaths?f.redactedPaths:[];return JSON.stringify((k=x,y=w,_=0,function C(S,b,v,I){function R(){return b.length>s&&c<_}if(_++,b.length>o||R())return d;if(!I&&v&&S===void 0)return"fundebug: undefined";if(I&&(I=!1),S===null||typeof S!="object")return S;if(function(U,z){for(var Y=0,Z=U.length;Y<Z;Y++)if(U[Y]===z)return!0;return!1}(T,S))return"[Circular]";if(T.push(S),typeof S.toJSON=="function")try{_--;var O=C(S.toJSON(),b,v,I);return T.pop(),O}catch(U){return l(U)}var D,M;if((D=S)instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(D))){_--;var L=C({name:S.name,message:S.message},b,v,I);return T.pop(),L}if(M=S,Object.prototype.toString.call(M)==="[object Array]"){for(var P=[],F=0,N=S.length;F<N;F++){if(R()){P.push(d);break}P.push(C(S[F],b.concat("[]"),v,I))}return T.pop(),P}var $={};try{for(var j in S)if(Object.prototype.hasOwnProperty.call(S,j))if(u(y,b.join("."))&&h(k,j))$[j]="[REDACTED]";else{if(R()){$[j]=d;break}$[j]=j=="metaData"?C(g(S,j),b.concat(j),!0,!0):C(g(S,j),b.concat(j),v,I)}}catch(U){}return T.pop(),$}(p,[],!(T=[]),!1)),m,E)};var o=20,c=25e3,s=8,d="...";function l(p){return"[Throws: "+(p?p.message:"?")+"]"}function u(p,m){for(var E=0,f=p.length;E<f;E++)if(m.indexOf(p[E])===0)return!0;return!1}function h(p,m){for(var E=0,f=p.length;E<f;E++)if(typeof p[E]=="string"&&p[E].toLowerCase()===m.toLowerCase()||p[E]&&typeof p[E].test=="function"&&p[E][r("0x7")](m))return!0;return!1}function g(p,m){try{return p[m]}catch(E){return l(E)}}},function(i,a,o){var c=o(2),s=o(9);i.exports=function(d,l){window.onerror=function(u,h,g,p,m){var E;p===void 0&&window.event&&(p=window.event.errorCharacter),E=h&&h!==window.location.href?h:null;var f=s(m),k={message:u,lineNumber:g,columnNumber:p,fileName:E||f&&f.fileName,name:f&&f.name||"uncaught error",stacktrace:m&&m.stack||function(){var y,T,_=[];try{T=arguments.callee.caller.caller}catch(w){T=""}for(;T&&_.length<10;){var x=T.toString()[r("0x8")](/function\s*([\w\_$]+)?\s*\(/i);y=x&&x[1]||"[anonymous]",_.push(y),T=T.caller}return`generated-stack:
`+_.join(`
`)}(),severity:"error",type:"uncaught"};return c(k,d,l),!1}}},function(i,a){i.exports=function(o){if(!o)return null;var c={};return window.XMLHttpRequest?c=typeof o=="string"?{message:o}:{name:o.name,message:o.message,fileName:o.fileName||o.sourceURL,lineNumber:o.lineNumber||o.line,columnNumber:o.columnNumber||o.column}:c.message=o.message,c}},function(i,a,o){var c=o(2);i.exports=function(s,d){window.addEventListener&&window.addEventListener("error",function(l){try{if(s.silentResource||l.message)return;var u,h=(u=l.target?l.target:l.srcElement)&&u.outerHTML;h&&200<h.length&&(h=h.slice(0,200));var g={type:"resourceError",target:{outerHTML:h,src:u&&u.src,tagName:u&&u.tagName,id:u&&u.id,className:u&&u.className,name:u&&u.name,type:u&&u.type,XPath:function(m){for(var E=[];m&&m.nodeType===Node.ELEMENT_NODE;m=m.parentNode){var f,k=0,y=!1;for(f=m[r("0x9")];f;f=f.previousSibling)f[r("0xa")]!==Node.DOCUMENT_TYPE_NODE&&f.nodeName===m.nodeName&&++k;for(f=m.nextSibling;f&&!y;f=f.nextSibling)f.nodeName===m.nodeName&&(y=!0);var T=(m.prefix?m.prefix+":":"")+m.localName,_=k||y?"["+(k+1)+"]":"";E.splice(0,0,T+_)}return E.length?"/"+E.join("/"):null}(u),selector:function(m){for(var E=[];m.parentNode;){if(m.id){E.unshift("#"+m.id);break}if(m===m.ownerDocument[r("0xb")])E.unshift(m.tagName);else{for(var f=1,k=m;k.previousElementSibling;k=k.previousElementSibling,f++);E.unshift(m.tagName+":nth-child("+f+")")}m=m.parentNode}return E.join(" > ")}(u),timeStamp:l.timeStamp}};if(u.src===window[r("0xc")].href||u.src&&u.src.match(/.*\/(.*)$/)&&!u.src.match(/.*\/(.*)$/)[1])return;if(g.target.src&&window.XMLHttpRequest){var p=new XMLHttpRequest;p.sendByFundebug=!0,p.open("HEAD",g.target.src),p.send(),p.onload=function(m){m.target.status!==200&&(g.target.status=m.target.status,g.target[r("0xd")]=m.target.statusText,c(g,s,d))}}}catch(m){}},!0)}},function(i,a,o){var c=o(12),s=o(13),d=o(7);i.exports=function(l,u){if(window.fetch){var h=window.fetch;window.fetch=function(m,E){var f=new Date().getTime();return h.apply(this,arguments).then(function(k){return function(y){try{var T=new Date().getTime()-f,_=E&&E.method||"GET",x=y.url,w=y.status,C=y.statusText,S=void 0;l.monitorHttpBody&&(S=s.copyWithoutPrivacy(E&&E.body,l.sensitives));var b=y.headers.get("content-type");b.startsWith("application/json;")?y.json().then(function(v){var I=void 0;l.monitorHttpResponse&&4e4<(I=d(v)).length&&(I.response=I.substring(0,4e4)),p(_,x,w,C,T,S,I),g(_,x,w,C,T,f,S,I)}):b.startsWith("text/")?y.text().then(function(v){l[r("0xe")]?4e4<v.length&&(v=v.substring(0,4e4)):v=void 0,p(_,x,w,C,T,S,v),g(_,x,w,C,T,f,S,v)}):(p(_,x,w,C,T,S,void 0),g(_,x,w,C,T,f,S,void 0))}catch(v){}}(k.clone()),k})}}function g(m,E,f,k,y,T,_,x){if(!l.silentBehavior){var w={type:"fetch",page:{url:window.location.href,title:document.title},detail:{method:m,url:E,status:f,statusText:k},elapsedTime:y,time:T};l[r("0xf")]&&(w.detail.body=_),l.monitorHttpResponse&&(w.detail.response=x),u[r("0x10")](w,l[r("0x11")],l.breadcrumbSize)}}function p(m,E,f,k,y,T,_){if(!l.silentHttp&&(c.ifReportHttpError(f,E)||c.ifReportHttpTimout(y,l.httpTimeout))){var x={method:m,url:E};l[r("0xf")]&&(x.body=T);var w,C={status:f,statusText:k,elapsedTime:y};l[r("0xe")]&&(C.response=_),w=c[r("0x12")](f,E)?"httpError":"httpTimeout",c.sendHttpErrorToFundebug(w,x,C,l,u)}}}},function(i,a,o){var c=o(2);a.ifReportHttpTimout=function(s,d){return typeof d=="number"&&d<s},a.ifReportHttpError=function(s,d){return!(s===0&&/^file:\/\/\//.test(d)||/^2\d\d$/.test(s))},a.sendHttpErrorToFundebug=function(s,d,l,u,h){var g={type:s,req:d,res:l};typeof u.httpTimeout=="number"&&(g.httpTimeout=u.httpTimeout),c(g,u,h)}},function(i,a){function o(c,s,d){if(c===void 0||!c||-1<["string","number","boolean"].indexOf(typeof c))return c;try{var l={};return Object.entries(c).forEach(function(u){var h=u[0],g=u[1];typeof g=="object"&&g!==null?s.has(g)?l[h]="property removed because of circular structure":10<s.size?l[h]="property removed to avoid deep recursion":(s.add(g),l[h]=o(g,s,d)):-1<d.indexOf(h)?l[h]="property removed for protecting privacy":l[h]=g}),l}catch(u){return{notice:"[Fundebug]: deep copy failed"}}}a.copyWithoutPrivacy=function(c,s){try{return typeof c=="string"&&(c=JSON[r("0x13")](c)),s.indexOf("password")==-1&&s.push("password"),"entries"in Object?o(c,new Set([c]),s):{notice:"[Fundebug]: IE 11 not supported"}}catch(d){return{notice:r("0x14")}}},a.copyWithoutCircle=function(c){return c&&typeof c=="object"&&function(s){try{JSON[r("0x15")](s)}catch(d){return!!(d.message.includes("Converting circular structure to JSON")||d.message.includes("JSON.stringify cannot serialize cyclic structures")||d.message.includes("cyclic object value")||d.message.includes("Circular reference in value argument not supported")||d.message.includes("\u5FAA\u73AF\u5F15\u7528"))}return!1}(c)?"entries"in Object?o(c,new Set([c]),[]):{}:c}},function(i,a,o){var c=o(13),s=o(12),d=o(7);i.exports=function(l,u){if(window.XMLHttpRequest&&window.XMLHttpRequest.prototype){var h=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(p,m){try{this.fundebugTemp={method:p,url:m,startTime:new Date().getTime()}}catch(E){}h&&h.apply(this,arguments)};var g=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(p){try{if(!this.sendByFundebug){var m=this;m.fundebugTemp.fundebugHttpRecorded=!1;var E=m.onloadend;m.isOnloadendInjectedByFundebug?E&&E.apply(this,arguments):(m.isOnloadendInjectedByFundebug=!0,m.onloadend=function(){(function(f,k){try{var y,T=new Date().getTime(),_=f.fundebugTemp.startTime,x=T-_,w=f.fundebugTemp[r("0x16")],C=f.responseURL||f.fundebugTemp.url,S=f.status,b=f.statusText,v=f.response;l.monitorHttpBody&&(y=c.copyWithoutPrivacy(k,l.sensitives)),f.fundebugTemp.fundebugHttpRecorded||(function(I,R,O,D,M,L,P){if(!l.silentHttp&&(s.ifReportHttpError(D,R)||s.ifReportHttpTimout(P,l.httpTimeout))){var F={method:I,url:R};l.monitorHttpBody&&(F.body=O);var N,$={status:D,statusText:M,elapsedTime:P};l.monitorHttpResponse&&($.response=L),N=s.ifReportHttpError(D,R)?"httpError":"httpTimeout",s.sendHttpErrorToFundebug(N,F,$,l,u)}}(w,C,y,S,b,v,x),function(I,R,O,D,M,L,P,F){if(!l.silentBehavior){var N={type:"XMLHttpRequest",page:{url:window.location.href},detail:{method:I,url:R,status:O,statusText:D},elapsedTime:M,time:L};if(l.monitorHttpResponse)try{var $=d(P);4e4<$.length?N.detail.response=$.substring(0,4e4):N.detail.response=P}catch(j){N.detail.response="[Fundebug] response's size exceeds limitation"}l.monitorHttpBody&&(N.detail.body=F),u.addBreadcrumb(N,l.silentBehavior,l.breadcrumbSize)}}(w,C,S,b,x,_,v,y),f.fundebugTemp.fundebugHttpRecorded=!0)}catch(I){}})(m,p),E&&E.apply(this,arguments)})}}catch(f){}g&&g[r("0x17")](this,arguments)}}}},function(i,a,o){var c=o(2);i.exports=function(s,d){try{if(s.silentWebsocket||!("WebSocket"in window))return;var l=Object[r("0x18")](WebSocket.prototype,"onerror");if(!l||!l.configurable)return;Object.defineProperty(WebSocket.prototype,"onerror",{set:function(){if(s.silentWebsocket)return l.set.apply(this,arguments);try{var u=arguments[0];return l.set.apply(this,[function(h){try{var g={type:"websocketError",target:{type:"onerror",url:h.target.url,timeStamp:h.timeStamp}};c(g,s,d),typeof u=="function"&&u.apply(this,arguments)}catch(p){typeof u=="function"&&u.apply(this,arguments)}}])}catch(h){return l.set.apply(this,arguments)}}})}catch(u){}}},function(i,a){i.exports=function(o){o.init=function(c){for(var s=0,d=["apikey","appversion","releasestage","user","metaData","callback","monitorHttpBody","httpTimeout","filters","silent","silentDev","silentResource","silentHttp","silentWebsocket","silentConsole","silentPerformance","sampleRate","domain","notifierUrl","breadcrumbSize","silentPromise","maxRevideoSizeInByte","maxEventNumber","monitorHttpResponse","sensitives"];s<d.length;s++){var l=d[s];c[l]&&(o[l]=c[l])}o.sensitives==null&&(o.sensitives=[])}}},function(i,a,o){var c=o(2),s=o(9);i.exports=function(d,l){d.notifyError=function(u,h){if(u){window.console&&console.error(u);var g=s(u),p={name:g.name||h&&h.name||"caught error",message:g.message||h&&h.message,stacktrace:u.stack,fileName:g.fileName,lineNumber:g.lineNumber,columnNumber:g.columnNumber,severity:h&&h.severity||"error",type:"caught",user:h&&h.user,metaData:h&&h.metaData};c(p,d,l)}}}},function(i,a,o){var c=o(2),s=o(4);i.exports=function(d,l){d.notify=function(u,h,g){if(u){var p={message:h||g&&g.message,name:u||g&&g.name,severity:g&&g.message||r("0x19"),stacktrace:function(){var E;try{throw new Error("")}catch(f){E=f.stack}if(E)return`generated-stack:
`+(E=E.replace(/(.*?)fundebug(.*?)\.js(.*)\n?/gm,"")).replace(/^Error\n/g,"")}(),type:"notification",user:g&&g.user,metaData:g&&g.metaData},m=d.apikey;return s.verifyApiKey(m,!0)?(c(p,d,l),location.host==="fundebug.com"||location.host==="www.fundebug.com"?"\u4EB2\uFF0C\u4E0D\u8981\u5728Fundebug\u7F51\u7AD9\u6D4B\u8BD5\u54E6\uFF1B\u8BF7\u5C06Fundebug\u63D2\u4EF6\u96C6\u6210\u5230\u60A8\u7684\u7F51\u7AD9\uFF0C\u7136\u540E\u8FDB\u884C\u6D4B\u8BD5!":"\u8BF7\u67E5\u770B\u90AE\u7BB1\u4EE5\u53CAFundebug\u63A7\u5236\u53F0!"):m?"apikey\u683C\u5F0F\u9519\u8BEF":"\u8BF7\u914D\u7F6Eapikey"}}}},function(i,a,o){var c=o(2),s=o(4);i[r("0x1a")]=function(d,l){d.test=function(u,h){var g={name:u||"Test",message:h||"Hello, Fundebug!",severity:"test",type:"test"},p=d.apikey;return s.verifyApiKey(p,!0)?(c(g,d,l),r("0x1b")===location.host||location.host==="www.fundebug.com"?"\u4EB2\uFF0C\u4E0D\u8981\u5728Fundebug\u7F51\u7AD9\u6D4B\u8BD5\u54E6\uFF1B\u8BF7\u5C06Fundebug\u63D2\u4EF6\u96C6\u6210\u5230\u60A8\u7684\u7F51\u7AD9\uFF0C\u7136\u540E\u8FDB\u884C\u6D4B\u8BD5!":"\u8BF7\u67E5\u770B\u90AE\u7BB1\u4EE5\u53CAFundebug\u63A7\u5236\u53F0!"):p?"apikey\u683C\u5F0F\u9519\u8BEF":"\u8BF7\u914D\u7F6Eapikey"}}},function(i,a){i.exports=function(o,c){function s(d){var l,u=(l=d.target?d.target:d.srcElement)&&l.outerHTML;u&&200<u.length&&(u=u.slice(0,200));var h={type:"click",page:{url:window.location.href,title:document.title},detail:{outerHTML:u,tagName:l&&l.tagName,id:l&&l.id,className:l&&l.className,name:l&&l.name},time:new Date().getTime()};c[r("0x10")](h,o.silentBehavior,o.breadcrumbSize)}window.addEventListener?window.addEventListener("click",s,!0):document.attachEvent("onclick",s)}},function(i,a){i.exports=function(o,c){var s={url:window.location.href,title:""};document.addEventListener?document.addEventListener("DOMContentLoaded",function(){s={url:window.location.href,title:document.title}}):document.attachEvent("onreadystatechange",function(){s={url:window.location.href,title:document.title}});var d=window.onpopstate;window.onpopstate=function(){var g={url:window.location.href};if(s.title||(s.title=document.title),s.url!==g.url&&h(s,g),d)return d.apply(this,arguments)};var l=window.history[r("0x1c")];l&&(window.history.pushState=function(){s={url:window.location.href,title:document.title};var g={};if(arguments.length===3&&(g.url=arguments[2]),s[r("0x1d")]!==g.url&&h(s,g),l)return l.apply(this,arguments)});var u=window.onhashchange;function h(g,p){var m={type:"navigation",detail:{from:g,to:s=p},time:new Date().getTime()};JSON.stringify(m,null,4),c.addBreadcrumb(m,o.silentBehavior,o.breadcrumbSize)}window.onhashchange=function(){var g={url:window.location.href,title:document[r("0x1e")]};if(s.url!==g.url&&h(s,g),u)return u.apply(this,arguments)}}},function(i,a,o){var c=o(13);i.exports=function(s,d){function l(p){var m=console[p];console[p]=function(){try{var E={type:"console",page:{url:window.location.href,title:document.title},detail:{level:p,arguments:(f=arguments,f[0]instanceof Error?[].slice.apply(f).join(" "):c.copyWithoutCircle(f))},time:new Date().getTime()};s.silentConsole||d.addBreadcrumb(E,s.silentBehavior,s.breadcrumbSize)}catch(y){}var f;if(typeof m=="function")if(m[r("0x17")])m[r("0x17")](console,arguments);else{var k=Array.prototype.slice[r("0x17")](arguments).join(" ");m(k)}}}for(var u=["log","warn","debug","info"],h={},g=0;g<u.length;g++)window.console&&(h[u[g]]=console[u[g]],s[r("0x1f")]||l(u[g]));document[r("0x20")]&&document.addEventListener("DOMContentLoaded",function(){for(var p=0;p<u.length;p++)window.console&&s.silentConsole&&h[u[p]]&&(console[u[p]]=h[u[p]])})}},function(i,a){var o=function(){var c=document.currentScript;if(!c){var s=document.scripts;c=s[s.length-1]}return c}();a.getConfig=function(){var c={};return c.silent=o.getAttribute("silent")||!1,c.silent==="false"&&(c.silent=!1),c.maxEventNumber=o.getAttribute("maxEventNumber")||o.getAttribute("maxeventnumber")||10,c.monitorHttpBody=o.getAttribute("monitorHttpBody")||o.getAttribute("monitorhttpbody")||!1,c.monitorHttpBody==="false"&&(c.monitorHttpBody=!1),c.silentResource=o.getAttribute("silentResource")||o.getAttribute("silentresource")||!1,c.silentResource==="false"&&(c.silentResource=!1),c.silentWebsocket=o.getAttribute("silentWebsocket")||o.getAttribute("silentWebsocket")||!1,c.silentWebsocket==="false"&&(c.silentWebsocket=!1),c.silentHttp=o.getAttribute("silentHttp")||o.getAttribute("silenthttp")||!1,c.silentHttp==="false"&&(c.silentHttp=!1),c.silentConsole=o.getAttribute("silentConsole")||o.getAttribute("silentconsole")||!1,c.silentConsole==="false"&&(c.silentConsole=!1),c.sampleRate=o.getAttribute("sampleRate")||o.getAttribute("samplerate"),c.silentBehavior=o.getAttribute("silentBehavior")||o.getAttribute("silentbehavior")||!1,c.silentBehavior==="false"&&(c.silentBehavior=!1),c.silentPerformance=o.getAttribute("silentPerformance")||o.getAttribute("silentperformance")||!1,c[r("0x21")]==="false"&&(c.silentPerformance=!1),c.silentDev=o.getAttribute("silentDev")||o.getAttribute("silentdev")||!1,c.silentDev==="false"&&(c.silentDev=!1),c.apikey=o.getAttribute("apikey"),c.appversion=o.getAttribute("appversion"),c.releasestage=o.getAttribute(r("0x22")),c.notifierUrl=o.getAttribute("notifierUrl")||"https://web.fundebug.net/event/",o.getAttribute("breadcrumbSize")&&(c.breadcrumbSize=parseInt(o.getAttribute("breadcrumbSize"))),c.silentPromise=o.getAttribute("silentPromise")||o.getAttribute("silentPromise")||!1,c.silentPromise==="false"&&(c.silentPromise=!1),c.monitorHttpResponse=o.getAttribute("monitorHttpResponse")||!1,c.monitorHttpResponse==="false"&&(c.monitorHttpResponse=!1),c[r("0x23")]=[],c}},function(i,a){var o=20,c=[],s=0;function d(l,u,h){u||(c[s]=l,h&&h<100&&(o=h),++s===o&&(s=0))}a.getBreadcrumbs=function(){return c},a.addBreadcrumb=d,a.leaveBreadcrumb=function(l){d({type:"userDefined",detail:{userdefined:l},time:new Date().getTime()},!1,o)}},function(i,a){i.exports=function(o,c){o.leaveBreadcrumb=function(s){c.leaveBreadcrumb(s)}}}])})})(nt,nt.exports);var ct=nt.exports;const kt=jt(ct);var Mt={exports:{}};(function(t,e){var n=["previousElementSibling","input","getInput","defineProperty","call","target","fun_recording_start","isRecording","getVedio","left","innerHeight","emit","scrollTop","parentNode","pushNewFrame","slice","value","key","Super expression must either be null or a function"," listeners added. Use emitter.setMaxListeners() to increase limit","removeListener","listener","addListener","once","_events","removeAllListeners","eventNames","symbol","writable","scrollY","scene","rootOpts","setFrames","frames","timestamp","width","Cannot call a class as a function","vedio","status","charCodeAt","_decompress","pow","val","amd","__esModule","DOMContentLoaded","fromList","init","addInputListenterToNodeList","default","radio","timeSpanCount","length","calculateSequenceLen","redoIntervalId","nodes","values","node","characterData","attributeOldValues","removedNodes","oldValue","getIsReachable","treeChanges","STAYED_IN","set","keys","added","getOldParentNode","prototype","toLowerCase","reachabilityChange","getOldCharacterData","delete","maybeMoved","has","tagName","Invalid or unsupported selector syntax.","attrName","match","function","createQueryValidator","reconnect","attributeList","queries","element","elementFilter","checkpointQueryValidators","connected","map","removed","selfSelector","isSmallContent","concat","-->","enumerable","actionType","nextElementSibling","funId","push","index","selector","type","name","changedAttributeList"];(function(i,a){(function(o){for(;--o;)i.push(i.shift())})(++a)})(n,358);var r=function(i,a){return n[i-=0]};(function(i,a){t.exports=a()})(window,function(){return function(i){var a={};function o(c){if(a[c])return a[c].exports;var s=a[c]={i:c,l:!1,exports:{}};return i[c].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=i,o.c=a,o.d=function(c,s,d){o.o(c,s)||Object.defineProperty(c,s,{enumerable:!0,get:d})},o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,s){if(1&s&&(c=o(c)),8&s||4&s&&typeof c=="object"&&c&&c.__esModule)return c;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:c}),2&s&&typeof c!="string")for(var l in c)o.d(d,l,function(u){return c[u]}.bind(null,l));return d},o.n=function(c){var s=c&&c[r("0x1")]?function(){return c.default}:function(){return c};return o.d(s,"a",s),s},o.o=function(c,s){return Object.prototype.hasOwnProperty.call(c,s)},o.p="",o(o.s=0)}([function(i,a,o){o.r(a);var c=o(1),s=o(3);function d(){var l=new s.default;l.init(),fundebug&&(fundebug.revideo=l)}document.documentMode==null&&fundebug&&!fundebug.silentVideo&&document.addEventListener&&(c.initConfig(),/comp|inter|loaded/.test(document.readyState)?d():document.addEventListener(r("0x2"),d))},function(i,a,o){o.r(a),o.d(a,"initConfig",function(){return s});var c=o(2),s=function(){var d=c.getCurrentScript(),l=d.getAttribute("domain");fundebug.domain=l||document.location.origin,fundebug.maxRevideoSizeInByte=fundebug.maxRevideoSizeInByte||d.getAttribute("maxRevideoSizeInByte"),fundebug.maxRevideoSizeInByte||(fundebug.maxRevideoSizeInByte=150)}},function(i,a,o){o.r(a),o.d(a,"isEmptyObject",function(){return c}),o.d(a,r("0x3"),function(){return s}),o.d(a,"uniqueID",function(){return d}),o.d(a,"extractNodeName",function(){return l}),o.d(a,"isSafari",function(){return u}),o.d(a,"isSafariOrWKWebview",function(){return h}),o.d(a,"getCurrentScript",function(){return g}),o.d(a,"knuthMorrisPratt",function(){return p});var c=function(m){var E;for(E in m)if(m.hasOwnProperty(E))return!1;return!0},s=function(m){for(var E=new Array(m.length),f=0,k=m.length;f<k;f++)E[f]=m[f];return E},d=function(){function m(){return Math.random().toString(16).slice(-4)}return m()+m()+"-"+m()+"-"+m()+"-"+m()+"-"+m()+m()+m()},l=function(m){return m&&m.nodeName?m.nodeName.toLowerCase():null},u=function(){return!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)},h=function(){return u()||(m=!1,navigator.platform.substr(0,2)==="iP"&&window.webkit&&window.webkit.messageHandlers&&(m=!0),m);var m},g=function(){var m=document.currentScript;if(!m){var E=document.scripts;m=E[E.length-1]}return m},p=function(m,E){if(E.length===0)return 0;for(var f=0,k=0,y=function(T){for(var _=[0],x=0,w=1;w<T.length;)T[x]===T[w]?(_[w]=x+1,w+=1,x+=1):x===0?(_[w]=0,w+=1):x=_[x-1];return _}(E);f<m.length;)if(m[f]===E[k]){if(k===E.length-1)return f-E.length+1;k+=1,f+=1}else 0<k?k=y[k-1]:(k=0,f+=1);return-1}},function(i,a,o){o.r(a);var c=o(4),s=o.n(c),d=o(5),l=o(13),u=o(7),h=o(14),g=o(15),p=o(21),m=o(2),E=o(6),f=o(22),k=o(23),y=o.n(k);function T(x,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}var _=function(){function x(){(function(S,b){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")})(this),this.revideoVersion="0.8.0",this.url="http://localhost:3000/summary",this.MAX_SEQUENCE_FULL_SIZE_BY_LENGTH=1024e4,this.MAX_SINGLE_FRAGMENT_LENGTH=1e3,this.MAX_TOTAL_FRAGMENT_LENGTH=1e4,this.MAX_TOTAL_LENGTH=1e4,this.MAX_TIME_SPAN_PER_FRAGMENT=20,this.timeSpanCount=0,this.lengthOverflowCheckTimeSpan=5e3,this.recorder=null,this.redoIntervalId=null,this.observer=null,this.vedio=null,this.inputInterValIds=[],this.sequence=[],this.actions=[],this.isStop=!1}var w,C;return w=x,C=[{key:"send",value:function(){var S=this.fetchSequence(),b=JSON.stringify(S);f.sendToServer(this.url,b)}},{key:"fetchSequence",value:function(){this.pushFragmentToSequence(0);var S=this.calculateSequenceSize();S>this.MAX_SEQUENCE_FULL_SIZE_BY_LENGTH&&(1<this.calculateSequenceLen()?(this.shiftFragment(),S=this.calculateSequenceSize()):this.sequence=[]),S>this.MAX_SEQUENCE_FULL_SIZE_BY_LENGTH&&(this.sequence=[]);var b=[];try{b=JSON.stringify(this.sequence)}catch(I){this.sequence}var v="";try{v=m.isSafariOrWKWebview()?y.a.compressToBase64(b):y.a.compress(b)}catch(I){}return{domain:fundebug.domain,isSafariOrWKWebview:m.isSafariOrWKWebview(),sequence:v,revideoVersion:this.revideoVersion}}},{key:"getSequence",value:function(){return this.sequence}},{key:"calculateSequenceSize",value:function(){return this.sequence.reduce(function(S,b){var v=b.actions.reduce(function(I,R){var O=0;return R.actionData.outerHTML?O=R.actionData.outerHTML.length:R.actionData.redoableElement&&R.actionData.redoableElement.outerHTML&&(O=R.actionData.redoableElement.outerHTML.len),I+O},0);return b.vedio.scene?S+b.vedio.scene.length+v:S+v},0)}},{key:r("0x4"),value:function(){this.initRecorder(),this.initAction(),this.monitorRedo()}},{key:"stop",value:function(){var S=this;this.isStop=!0,this.recorder&&this.recorder.stop(),this.observer&&this.observer.disconnect(),setTimeout(function(){S.inputInterValIds.map(function(b){clearInterval(b)}),S.inputInterValIds=[]},0)}},{key:"initRecorder",value:function(){if(this.vedio=null,this.recorder)this.recorder.restart();else{this.recorder=new g.default({target:document.documentElement});var S=this;this.recorder.on("fun_recording",function(){S.vedio=S.recorder.getVedio()}),this.recorder.start()}}},{key:"initAction",value:function(){this.actions=[],this.initMutationObserver(),this.initInput()}},{key:"initMutationObserver",value:function(){this.observer&&this.observer.disconnect();var S=this;try{this.observer=new s.a({callback:function(b){S[r("0x5")](b);var v=d.parseMutations(b);S.actions=S.actions.concat(v)},queries:[{all:!0}],oldPreviousSibling:!0})}catch(b){return this.stop(),null}}},{key:"initInput",value:function(){this.injectAllInputIn(document)}},{key:"injectAllInputIn",value:function(S){var b=this;["input","textarea","select"].map(function(v){function I(F,N,$,j){var U=j.actions.length;if(0<U){var z=j.actions[U-1];if(z.getActionType()===4&&z.getActionData().getInput().getValue()===$)return}var Y=new l[r("0x6")](N,F.type,$),Z=new E.default,J=new E.default,V=new h.default(F,Y,Z,J),at=new u.default(4,V);j.actions.push(at)}if(S&&S.querySelectorAll){var R,O,D,M,L=S.querySelectorAll(v),P=m.fromList(L);P.length!==0&&(R=v,O=P,D={},M=setInterval(function(){(O=O.filter(function(F){return F.funRemoved&&delete D[F.funId],!F.funRemoved})).length===0&&(clearInterval(M),b.inputInterValIds.splice(b.inputInterValIds.indexOf(M),1)),O.map(function(F){var N;N=F&&F.type==="password"?F.value?"XXXXXXXX":F.value:r("0x7")===F.type||F.type==="checkbox"?F.checked:F.value;var $=F.funId;if($){if(D[$]===N)return;D[F.funId]=N,I(F,R,N,b)}else F.funId=m.uniqueID(),D[F.funId]=N,I(F,R,N,b)})},100),b.inputInterValIds.push(M))}})}},{key:"addInputListenterToNodeList",value:function(S){var b=this;S.map(function(v){var I=d.extractCleanNodes(v.added);(v.added=I).map(function(R){b.injectAllInputIn(R)})})}},{key:"monitorRedo",value:function(){if(this.redoIntervalId&&window.clearInterval(this.redoIntervalId),!this.isStop){var S=this;this.redoIntervalId=setInterval(function(){if(S.timeSpanCount++,2<=S[r("0x8")])return S.timeSpanCount=0,100<S.calculateSequenceLen()&&this.shiftFragment(),void S.pushFragmentToSequence(0);(S.vedio&&S.vedio.getFramesLength())+S.actions.length>S.MAX_SINGLE_FRAGMENT_LENGTH&&S.pushFragmentToSequence(0)},this.lengthOverflowCheckTimeSpan)}}},{key:"shiftFragment",value:function(){this.sequence.shift()}},{key:"pushFragmentToSequence",value:function(S){this.vedio=this.recorder.getVedio();var b=new p.default(S,this.vedio,this.actions);this.sequence.push(b),this.mergeSequence(),this.init()}},{key:"mergeSequence",value:function(){for(var S=[],b=this.sequence[0],v=1;v<this.sequence.length;v++){var I=this.sequence[v];if(b.type===0&&b.type===I.type){var R=b.vedio.frames;b.vedio.frames=R.concat(I.vedio.frames),b.actions=b.actions.concat(I.actions)}else S.push(b),b=I}S.push(b),this.sequence=S}},{key:"calculateTotalLength",value:function(){return this.sequence.reduce(function(S,b){return S+b.getVedioFrameLength()+b.getActionsLength()},0)}},{key:"calculateSequenceLen",value:function(){return this.sequence[r("0x9")]}},{key:"calculateTotalLastTime",value:function(){var S=this[r("0xa")]();if(S===0)return 0;var b=this.sequence[0].getVedioTimestamp(),v=this.sequence[S-1];return((v.getLastActionTimestamp()||v.getVedioTimestamp())-b)/1e3}},{key:"clear",value:function(){window.clearInterval(this.redoIntervalId),this.sequence=[],this.vedio=null,this.actions=[],this.recorder=null,this[r("0xb")]=null}}],T(w.prototype,C),x}();a.default=_},function(i,a){var o,c=this.__extends||function(S,b){for(var v in b)b.hasOwnProperty(v)&&(S[v]=b[v]);function I(){this.constructor=S}I.prototype=b.prototype,S.prototype=new I};if(typeof WebKitMutationObserver<"u"?o=WebKitMutationObserver:document.all||(o=MutationObserver),o===void 0)throw Error("MutationObserver is undefined");var s,d,l=function(){function S(){this.nodes=[],this.values=[]}return S.prototype.isIndex=function(b){return+b==b>>>0},S.prototype.nodeId=function(b){var v=b[S.ID_PROP];return v||(v=b[S.ID_PROP]=S.nextId_++),v},S.prototype.set=function(b,v){var I=this.nodeId(b);this.nodes[I]=b,this.values[I]=v},S.prototype.get=function(b){var v=this.nodeId(b);return this.values[v]},S.prototype.has=function(b){return this.nodeId(b)in this[r("0xc")]},S.prototype.delete=function(b){var v=this.nodeId(b);delete this.nodes[v],this[r("0xd")][v]=void 0},S.prototype.keys=function(){var b=[];for(var v in this[r("0xc")])this.isIndex(v)&&b.push(this.nodes[v]);return b},S.ID_PROP="__mutation_summary_node_map_id__",S.nextId_=1,S}();(d=s||(s={}))[d.STAYED_OUT=0]="STAYED_OUT",d[d.ENTERED=1]="ENTERED",d[d.STAYED_IN=2]="STAYED_IN",d[d.REPARENTED=3]="REPARENTED",d[d.REORDERED=4]="REORDERED",d[d.EXITED=5]="EXITED";var u=function(){function S(b,v,I,R,O,D,M,L){v===void 0&&(v=!1),I===void 0&&(I=!1),R===void 0&&(R=!1),O===void 0&&(O=null),D===void 0&&(D=!1),M===void 0&&(M=null),L===void 0&&(L=null),this[r("0xe")]=b,this.childList=v,this.attributes=I,this[r("0xf")]=R,this.oldParentNode=O,this.added=D,this.attributeOldValues=M,this.characterDataOldValue=L,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}return S.prototype.getAttributeOldValue=function(b){if(this.attributeOldValues)return this.isCaseInsensitive&&(b=b.toLowerCase()),this.attributeOldValues[b]},S.prototype.getAttributeNamesMutated=function(){var b=[];if(!this.attributeOldValues)return b;for(var v in this.attributeOldValues)b.push(v);return b},S.prototype.attributeMutated=function(b,v){this.attributes=!0,this.attributeOldValues=this[r("0x10")]||{},b in this.attributeOldValues||(this.attributeOldValues[b]=v)},S.prototype.characterDataMutated=function(b){this.characterData||(this.characterData=!0,this.characterDataOldValue=b)},S.prototype.removedFromParent=function(b){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=b},S.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},S.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},S}(),h=function(){this.added=new l,this.removed=new l,this.maybeMoved=new l,this.oldPrevious=new l,this.moved=void 0},g=function(S){function b(v,I){S.call(this),this.rootNode=v,this.reachableCache=void 0,this.wasReachableCache=void 0,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1;for(var R=0;R<I.length;R++){var O=I[R];switch(O.type){case"childList":this.anyParentsChanged=!0;for(var D=0;D<O[r("0x11")].length;D++){var M=O.removedNodes[D];this.getChange(M).removedFromParent(O.target)}for(D=0;D<O.addedNodes.length;D++)M=O.addedNodes[D],this.getChange(M).insertedIntoParent();break;case"attributes":this.anyAttributesChanged=!0,this.getChange(O.target).attributeMutated(O.attributeName,O[r("0x12")]);break;case"characterData":this.anyCharacterDataChanged=!0,this.getChange(O.target).characterDataMutated(O.oldValue)}}}return c(b,S),b.prototype.getChange=function(v){var I=this.get(v);return I||(I=new u(v),this.set(v,I)),I},b.prototype.getOldParent=function(v){var I=this.get(v);return I?I.getOldParent():v.parentNode},b.prototype[r("0x13")]=function(v){if(v===this.rootNode)return!0;if(!v)return!1;this.reachableCache=this.reachableCache||new l;var I=this.reachableCache.get(v);return I===void 0&&(I=this.getIsReachable(v.parentNode),this.reachableCache.set(v,I)),I},b.prototype.getWasReachable=function(v,I){if(200<=++I)return!1;if(v===this.rootNode)return!0;if(!v)return!1;this.wasReachableCache=this.wasReachableCache||new l;var R=this.wasReachableCache.get(v);return R===void 0&&(R=this.getWasReachable(this.getOldParent(v),I),this.wasReachableCache.set(v,R)),R},b.prototype.reachabilityChange=function(v){return this.getIsReachable(v)?this.getWasReachable(v,0)?s.STAYED_IN:s.ENTERED:this.getWasReachable(v,0)?s.EXITED:s.STAYED_OUT},b}(l),p=function(){function S(b,v,I,R,O){this.rootNode=b,this.mutations=v,this.selectors=I,this.calcReordered=R,this.calcOldPreviousSibling=O,this.treeChanges=new g(b,v),this.entered=[],this.exited=[],this.stayedIn=new l,this.visited=new l,this.childListChangeMap=void 0,this.characterDataOnly=void 0,this.matchCache=void 0,this.processMutations()}return S.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var b=this[r("0x14")].keys(),v=0;v<b.length;v++)this.visitNode(b[v],void 0)},S.prototype.visitNode=function(b,v){if(!this.visited.has(b)){this.visited.set(b,!0);var I=this.treeChanges.get(b),R=v;if((I&&I.childList||R==null)&&(R=this.treeChanges.reachabilityChange(b)),R!==s.STAYED_OUT){if(this.matchabilityChange(b),R===s.ENTERED)this.entered.push(b);else if(R===s.EXITED)this.exited.push(b),this.ensureHasOldPreviousSiblingIfNeeded(b);else if(R===s[r("0x15")]){var O=s.STAYED_IN;I&&I.childList&&(I.oldParentNode!==b.parentNode?(O=s.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(b)):this.calcReordered&&this.wasReordered(b)&&(O=s.REORDERED)),this.stayedIn[r("0x16")](b,O)}if(R!==s.STAYED_IN)for(var D=b.firstChild;D;D=D.nextSibling)this.visitNode(D,R)}}},S.prototype.ensureHasOldPreviousSiblingIfNeeded=function(b){if(this.calcOldPreviousSibling){this.processChildlistChanges();var v=b.parentNode,I=this.treeChanges.get(b);I&&I.oldParentNode&&(v=I.oldParentNode);var R=this.childListChangeMap.get(v);R||(R=new h,this.childListChangeMap.set(v,R)),R.oldPrevious.has(b)||R.oldPrevious.set(b,b.previousSibling)}},S.prototype.getChanged=function(b,v,I){this.selectors=v,this.characterDataOnly=I;for(var R=0;R<this.entered.length;R++){var O=this.entered[R];(L=this.matchabilityChange(O))!==s.ENTERED&&L!==s.STAYED_IN||b.added.push(O)}var D=this.stayedIn[r("0x17")]();for(R=0;R<D.length;R++)if(O=D[R],(L=this.matchabilityChange(O))===s.ENTERED)b[r("0x18")].push(O);else if(L===s.EXITED)b.removed.push(O);else if(L===s.STAYED_IN&&(b.reparented||b.reordered)){var M=this.stayedIn.get(O);b.reparented&&M===s.REPARENTED?b.reparented.push(O):b.reordered&&M===s.REORDERED&&b.reordered.push(O)}for(R=0;R<this.exited.length;R++){var L;O=this.exited[R],(L=this.matchabilityChange(O))!==s.EXITED&&L!==s.STAYED_IN||b.removed.push(O)}},S.prototype[r("0x19")]=function(b){var v=this.treeChanges.get(b);if(v&&v.childList)return v.oldParentNode?v.oldParentNode:null;var I=this.treeChanges.reachabilityChange(b);if(I===s.STAYED_OUT||I===s.ENTERED)throw Error("getOldParentNode requested on invalid node.");return b.parentNode},S.prototype.getOldPreviousSibling=function(b){var v=b.parentNode,I=this.treeChanges.get(b);I&&I.oldParentNode&&(v=I.oldParentNode);var R=this.childListChangeMap.get(v);if(!R)throw Error("getOldPreviousSibling requested on invalid node.");return R.oldPrevious.get(b)},S[r("0x1a")].getOldAttribute=function(b,v){var I=this.treeChanges.get(b);if(!I||!I.attributes)throw Error("getOldAttribute requested on invalid node.");var R=I.getAttributeOldValue(v);if(R===void 0)throw Error("getOldAttribute requested for unchanged attribute name.");return R},S[r("0x1a")].attributeChangedNodes=function(b){if(!this.treeChanges.anyAttributesChanged)return{};var v,I;if(b){v={},I={};for(var R=0;R<b.length;R++)v[$=b[R]]=!0,I[$[r("0x1b")]()]=$}var O={},D=this.treeChanges.keys();for(R=0;R<D.length;R++){var M=D[R],L=this.treeChanges.get(M);if(L.attributes&&s.STAYED_IN===this.treeChanges[r("0x1c")](M)&&s[r("0x15")]===this.matchabilityChange(M))for(var P=M,F=L.getAttributeNamesMutated(),N=0;N<F.length;N++){var $=F[N];(!v||v[$]||L.isCaseInsensitive&&I[$])&&L.getAttributeOldValue($)!==P.getAttribute($)&&(I&&L.isCaseInsensitive&&($=I[$]),O[$]=O[$]||[],O[$].push(P))}}return O},S.prototype[r("0x1d")]=function(b){var v=this[r("0x14")].get(b);if(!v||!v.characterData)throw Error("getOldCharacterData requested on invalid node.");return v.characterDataOldValue},S.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var b=this.treeChanges.keys(),v=[],I=0;I<b.length;I++){var R=b[I];if(s.STAYED_IN===this.treeChanges.reachabilityChange(R)){var O=this.treeChanges.get(R);O.characterData&&R.textContent!=O.characterDataOldValue&&v.push(R)}}return v},S.prototype.computeMatchabilityChange=function(b,v){this.matchCache||(this.matchCache=[]),this.matchCache[b.uid]||(this.matchCache[b.uid]=new l);var I=this.matchCache[b.uid],R=I.get(v);return R===void 0&&(R=b.matchabilityChange(v,this.treeChanges.get(v)),I.set(v,R)),R},S.prototype.matchabilityChange=function(b){var v=this;if(this.characterDataOnly)switch(b.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return s.STAYED_IN;default:return s.STAYED_OUT}if(!this.selectors)return s.STAYED_IN;if(b.nodeType!==Node.ELEMENT_NODE)return s.STAYED_OUT;for(var I=b,R=this.selectors.map(function(M){return v.computeMatchabilityChange(M,I)}),O=s.STAYED_OUT,D=0;O!==s.STAYED_IN&&D<R.length;){switch(R[D]){case s.STAYED_IN:O=s.STAYED_IN;break;case s.ENTERED:O=O===s.EXITED?s.STAYED_IN:s.ENTERED;break;case s.EXITED:O=O===s.ENTERED?s.STAYED_IN:s.EXITED}D++}return O},S.prototype.getChildlistChange=function(b){var v=this.childListChangeMap.get(b);return v||(v=new h,this.childListChangeMap.set(b,v)),v},S.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new l;for(var b=0;b<this.mutations.length;b++){let M=function(L,P){!L||I.oldPrevious.has(L)||I.added.has(L)||I[r("0x1f")].has(L)||P&&(I[r("0x18")].has(P)||I.maybeMoved.has(P))||I.oldPrevious.set(L,P)};var v=this.mutations[b];if(v.type=="childList"&&(this.treeChanges.reachabilityChange(v.target)===s.STAYED_IN||this.calcOldPreviousSibling)){for(var I=this.getChildlistChange(v.target),R=v.previousSibling,O=0;O<v.removedNodes.length;O++)M(D=v.removedNodes[O],R),I.added.has(D)?I.added.delete(D):(I.removed.set(D,!0),I.maybeMoved[r("0x1e")](D)),R=D;for(M(v.nextSibling,R),O=0;O<v.addedNodes.length;O++){var D=v.addedNodes[O];I.removed.has(D)?(I.removed.delete(D),I[r("0x1f")].set(D,!0)):I.added.set(D,!0)}}}}},S.prototype.wasReordered=function(b){if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var v=b.parentNode,I=this.treeChanges.get(b);I&&I.oldParentNode&&(v=I.oldParentNode);var R=this.childListChangeMap.get(v);if(!R)return!1;if(R.moved)return R.moved.get(b);R.moved=new l;var O=new l,D=new l,M=new l;return R.maybeMoved.keys().forEach(function L(P){if(!P||!R.maybeMoved.has(P))return!1;var F=R.moved.get(P);return F!==void 0||(O.has(P)?F=!0:(O.set(P,!0),F=function(N){if(M.has(N))return M.get(N);for(var $=N.previousSibling;$&&(R.added[r("0x20")]($)||L($));)$=$.previousSibling;return M[r("0x16")](N,$),$}(P)!==function N($){var j=D.get($);if(j!==void 0)return j;for(j=R.oldPrevious.get($);j&&(R.removed.has(j)||L(j));)j=N(j);return j===void 0&&(j=$.previousSibling),D.set($,j),j}(P)),O.has(P)?(O.delete(P),R.moved.set(P,F)):F=R.moved.get(P)),F}),R.moved.get(b)},S}(),m=function(){function S(b,v){var I=this;if(this.projection=b,this.added=[],this.removed=[],this.reparented=v.all||v.element||v.characterData?[]:void 0,this.reordered=v.all?[]:void 0,b.getChanged(this,v.elementFilter,v.characterData),v.all||v.attribute||v.attributeList){var R=v.attribute?[v.attribute]:v.attributeList,O=b.attributeChangedNodes(R);v.attribute?this.valueChanged=O[v.attribute]||[]:(this.attributeChanged=O,v.attributeList&&v.attributeList.forEach(function(M){I.attributeChanged.hasOwnProperty(M)||(I.attributeChanged[M]=[])}))}if(v.all||v.characterData){var D=b.getCharacterDataChanged();v.characterData?this.valueChanged=D:this.characterDataChanged=D}this.reordered&&(this.getOldPreviousSibling=b.getOldPreviousSibling.bind(b))}return S.prototype.getOldParentNode=function(b){return this.projection.getOldParentNode(b)},S[r("0x1a")].getOldAttribute=function(b,v){return this.projection.getOldAttribute(b,v)},S.prototype.getOldCharacterData=function(b){return this.projection.getOldCharacterData(b)},S.prototype.getOldPreviousSibling=function(b){return this.projection.getOldPreviousSibling(b)},S}(),E=/[a-zA-Z_]+/,f=/[a-zA-Z0-9_\-]+/;function k(S){return'"'+S.replace(/"/,'\\"')+'"'}var y=function(){function S(){}return S.prototype.matches=function(b){if(b===null)return!1;if(this.attrValue===void 0)return!0;if(!this.contains)return this.attrValue==b;for(var v=b.split(" "),I=0;I<v.length;I++)if(this.attrValue===v[I])return!0;return!1},S.prototype.toString=function(){return this.attrName==="class"&&this.contains?"."+this.attrValue:this.attrName!=="id"||this.contains?this.contains?"["+this.attrName+"~="+k(this.attrValue)+"]":"attrValue"in this?"["+this.attrName+"="+k(this.attrValue)+"]":"["+this.attrName+"]":"#"+this.attrValue},S}(),T=function(){function S(){this.uid=S.nextUid++,this.qualifiers=[]}var b;return Object.defineProperty(S.prototype,"caseInsensitiveTagName",{get:function(){return this[r("0x21")].toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),S.prototype.isMatching=function(v){return v[S.matchesSelector](this.selectorString)},S.prototype.wasMatching=function(v,I,R){if(!I||!I.attributes)return R;var O=I.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if(O!=="*"&&O!==v.tagName)return!1;for(var D=[],M=!1,L=0;L<this.qualifiers.length;L++){var P=this.qualifiers[L],F=I.getAttributeOldValue(P.attrName);D.push(F),M=M||F!==void 0}if(!M)return R;for(L=0;L<this.qualifiers.length;L++)if(P=this.qualifiers[L],(F=D[L])===void 0&&(F=v.getAttribute(P.attrName)),!P.matches(F))return!1;return!0},S.prototype.matchabilityChange=function(v,I){var R=this.isMatching(v);return R?this.wasMatching(v,I,R)?s.STAYED_IN:s.ENTERED:this.wasMatching(v,I,R)?s.EXITED:s.STAYED_OUT},S.parseSelectors=function(v){var I,R,O=[];function D(){I&&(R&&(I.qualifiers.push(R),R=void 0),O.push(I)),I=new S}function M(){R&&I.qualifiers.push(R),R=new y}for(var L,P=/\s/,F=r("0x22"),N=1,$=0;$<v.length;){var j=v[$++];switch(N){case 1:if(j.match(E)){D(),I.tagName=j,N=2;break}if(j=="*"){D(),I.tagName="*",N=3;break}if(j=="."){D(),M(),I.tagName="*",R[r("0x23")]="class",R.contains=!0,N=4;break}if(j=="#"){D(),M(),I.tagName="*",R.attrName="id",N=4;break}if(j=="["){D(),M(),I.tagName="*",R.attrName="",N=6;break}if(j.match(P))break;throw Error(F);case 2:if(j[r("0x24")](f)){I.tagName+=j;break}if(j=="."){M(),R.attrName="class",R.contains=!0,N=4;break}if(j=="#"){M(),R.attrName="id",N=4;break}if(j=="["){M(),R.attrName="",N=6;break}if(j.match(P)){N=14;break}if(j==","){N=1;break}throw Error(F);case 3:if(j=="."){M(),R.attrName="class",R.contains=!0,N=4;break}if(j=="#"){M(),R.attrName="id",N=4;break}if(j=="["){M(),R.attrName="",N=6;break}if(j[r("0x24")](P)){N=14;break}if(j==","){N=1;break}throw Error(F);case 4:if(j.match(E)){R.attrValue=j,N=5;break}throw Error(F);case 5:if(j.match(f)){R.attrValue+=j;break}if(j=="."){M(),R.attrName="class",R.contains=!0,N=4;break}if(j=="#"){M(),R.attrName="id",N=4;break}if(j=="["){M(),N=6;break}if(j.match(P)){N=14;break}if(j==","){N=1;break}throw Error(F);case 6:if(j.match(E)){R.attrName=j,N=7;break}if(j.match(P))break;throw Error(F);case 7:if(j.match(f)){R.attrName+=j;break}if(j.match(P)){N=8;break}if(j=="~"){R.contains=!0,N=9;break}if(j=="="){R.attrValue="",N=11;break}if(j=="]"){N=3;break}throw Error(F);case 8:if(j=="~"){R.contains=!0,N=9;break}if(j=="="){R.attrValue="",N=11;break}if(j=="]"){N=3;break}if(j.match(P))break;throw Error(F);case 9:if(j=="="){R.attrValue="",N=11;break}throw Error(F);case 10:if(j=="]"){N=3;break}if(j.match(P))break;throw Error(F);case 11:if(j.match(P))break;if(j=='"'||j=="'"){L=j,N=13;break}R.attrValue+=j,N=12;break;case 12:if(j.match(P)){N=10;break}if(j=="]"){N=3;break}if(j=="'"||j=='"')throw Error(F);R.attrValue+=j;break;case 13:if(j==L){N=10;break}R.attrValue+=j;break;case 14:if(j.match(P))break;if(j==","){N=1;break}throw Error(F)}}switch(N){case 1:case 2:case 3:case 5:case 14:D();break;default:throw Error(F)}if(!O.length)throw Error(F);return O},S.nextUid=1,S.matchesSelector=r("0x25")==typeof(b=document.createElement("div")).webkitMatchesSelector?"webkitMatchesSelector":typeof b.mozMatchesSelector=="function"?"mozMatchesSelector":typeof b.msMatchesSelector=="function"?"msMatchesSelector":"matchesSelector",S}(),_=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;function x(S){if(typeof S!="string"||!(S=S.trim()))throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!S.match(_))throw Error("Invalid request option. invalid attribute name: "+S);return S}function w(S){if(!S.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var b={},v={},I=S.split(/\s+/),R=0;R<I.length;R++)if(O=I[R]){var O,D=(O=x(O))[r("0x1b")]();if(b[D])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");v[O]=!0,b[D]=!0}return Object.keys(v)}var C=function(){function S(b){if(o===void 0)throw new Error("No Engine");var v=this;this.connected=!1,this.options=S.validateOptions(b),this.observerOptions=S.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(I){return I.elementFilter?I.elementFilter:[]})),this.elementFilter.length||(this.elementFilter=void 0),this.calcReordered=this.options.queries.some(function(I){return I.all}),this.queryValidators=[],S.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(I){return S[r("0x26")](v.root,I)})),this.observer=new o(function(I){v.observerCallback(I)}),this[r("0x27")]()}return S.createObserverOptions=function(b){var v,I={childList:!0,subtree:!0};function R(O){I.attributes&&!v||(I.attributes=!0,I.attributeOldValue=!0,O?(v=v||{},O.forEach(function(D){v[D]=!0,v[D.toLowerCase()]=!0})):v=void 0)}return b.forEach(function(O){if(O.characterData)return I.characterData=!0,void(I.characterDataOldValue=!0);if(O.all)return R(),I.characterData=!0,void(I.characterDataOldValue=!0);if(O.attribute)R([O.attribute.trim()]);else{var D,M,L=(D=O.elementFilter,M={},D.forEach(function(P){P.qualifiers.forEach(function(F){M[F.attrName]=!0})}),Object.keys(M)).concat(O[r("0x28")]||[]);L.length&&R(L)}}),v&&(I.attributeFilter=Object.keys(v)),I},S.validateOptions=function(b){for(var v in b)if(!(v in S.optionKeys))throw Error("Invalid option: "+v);if(r("0x25")!=typeof b.callback)throw Error("Invalid options: callback is required and must be a function");if(!b.queries||!b.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(var I={callback:b.callback,rootNode:b.rootNode||document,observeOwnChanges:!!b.observeOwnChanges,oldPreviousSibling:!!b.oldPreviousSibling,queries:[]},R=0;R<b[r("0x29")].length;R++){var O=b.queries[R];if(O.all){if(1<Object.keys(O).length)throw Error("Invalid request option. all has no options.");I.queries.push({all:!0})}else if("attribute"in O){if((M={attribute:x(O.attribute)}).elementFilter=T.parseSelectors("*["+M.attribute+"]"),1<Object.keys(O)[r("0x9")])throw Error("Invalid request option. attribute has no options.");I.queries.push(M)}else if("element"in O){var D=Object.keys(O).length,M={element:O.element,elementFilter:T.parseSelectors(O[r("0x2a")])};if(O.hasOwnProperty("elementAttributes")&&(M.attributeList=w(O.elementAttributes),D--),1<D)throw Error("Invalid request option. element only allows elementAttributes option.");I.queries.push(M)}else{if(!O.characterData)throw Error("Invalid request option. Unknown query request.");if(1<Object.keys(O).length)throw Error("Invalid request option. characterData has no options.");I.queries.push({characterData:!0})}}return I},S.prototype.createSummaries=function(b){if(!b||!b[r("0x9")])return[];for(var v=new p(this.root,b,this[r("0x2b")],this.calcReordered,this.options.oldPreviousSibling),I=[],R=0;R<this.options.queries.length;R++)I.push(new m(v,this.options.queries[R]));return I},S.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(b){b&&b.recordPreviousState()})},S.prototype.runQueryValidators=function(b){this.queryValidators.forEach(function(v,I){v&&v.validate(b[I])})},S.prototype.changesToReport=function(b){return b.some(function(v){return!![r("0x18"),"removed","reordered","reparented","valueChanged","characterDataChanged"].some(function(I){return v[I]&&v[I].length})||!(!v.attributeChanged||!Object.keys(v.attributeChanged).some(function(I){return!!v.attributeChanged[I].length}))})},S.prototype.observerCallback=function(b){this.options.observeOwnChanges||this.observer.disconnect();var v=this.createSummaries(b);if(this.runQueryValidators(v),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(v)&&this.callback(v),!this.options.observeOwnChanges&&this.connected){this[r("0x2c")]();try{this.observer.observe(this.root,this.observerOptions)}catch(I){}}},S.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");try{this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()}catch(b){}},S.prototype.takeSummaries=function(){if(!this[r("0x2d")])throw Error("Not connected");var b=this.createSummaries(this.observer.takeRecords());return this.changesToReport(b)?b:void 0},S.prototype.disconnect=function(){var b=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,b},S.NodeMap=l,S.parseElementFilter=T.parseSelectors,S.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},S}();i.exports=C},function(i,a,o){o.r(a),o.d(a,"parseMutations",function(){return g}),o.d(a,"extractCleanNodes",function(){return p});var c=o(2),s=o(6),d=o(7),l=o(8),u=o(11),h=o(12),g=function(k){return k[r("0x2e")](function(y){var T,_=y[r("0x2f")];(T=_).map(function(R){R.funRemoved=!0});var x=m(y,1,_=T),w=m(y,0,y.added);w=function(R){var O=R.length;if(O<=1)return R;R.map(function(j){j.actionData.nodeType===3?j.funContent="No-SelfSelector":j.funContent=j.actionData.selfSelector?j.actionData[r("0x30")].parentSelector+" > "+j.actionData.selfSelector.localSelector:"No-SelfSelector"});for(var D=0;D<O;D++)if(!R[D].isSmallContent){var M=0;t:for(var L=D+1;L<O;L++)if(!R[L][r("0x31")]){var P=R[D].funContent,F=R[L].funContent;if(P==="No-SelfSelector"||F==="No-SelfSelector")break t;if(P&&P.indexOf(F)===0){R[D].isSmallContent=!0;break t}if(F&&F.indexOf(P)===0&&(R[L].isSmallContent=!0),300<++M)break t}}for(var N=[],$=0;$<O;$++)R[$].isSmallContent||N.push(R[$]),delete R[$].isSmallContent,delete R[$].funContent;return N}(w);var C,S,b,v=function(R){var O=new s.default,D=new s.default;if(c.isEmptyObject(R))return[];var M=[],L=function(F){var N=R[F].map(function($){var j=new l.default(2,$,O,D),U=function(Y,Z){for(var J=$.attributes,V="",at=J[r("0x9")],tt=0;tt<at;tt++){var xt=J[tt];if(xt.name===Y){V=xt.value;break}}return new u.default(Y,V)}(F),z=new h.default(j,[U]);return new d.default(2,z)});M=M.concat(N)};for(var P in R)L(P);return M}(y.attributeChanged),I=(C=y.characterDataChanged,S=new s.default,b=new s.default,C.map(function(R){var O=new l.default(3,R,S,b);return new d.default(3,O)}));return[].concat(x).concat(w).concat(v).concat(I)}).reduce(function(y,T){return y.concat(T)},[])};function p(k){return function(y){var T=y.length;if(T<=1)return y;y.map(function(R){R.funContent=f(R)});var _=0;y.map(function(R,O){if(O!==0){var D=y[_].funContent,M=y[O-1].funContent,L=R.funContent;M!==L&&D!==L?D&&D.indexOf(L)!=-1?R.isSmallContent=!0:(L&&L.indexOf(D)!=-1&&(y[_].isSmallContent=!0),_=O):_=O}}),T=(y=y.filter(function(R){return R.isSmallContent!=1})).length;for(var x=0;x<T;x++)if(!y[x].isSmallContent){var w=0;t:for(var C=x+1;C<T;C++)if(!y[C].isSmallContent){var S=y[x].funContent,b=y[C].funContent;if(S!==b){if(S&&S.indexOf(b)!=-1)y[C].isSmallContent=!0;else if(b&&b.indexOf(S)!=-1){y[x],y[C];break t}if(300<++w)break t}}}for(var v=[],I=0;I<T;I++)y[I].isSmallContent||v.push(y[I]),y[I].isSmallContent=!1;return v}(k)}function m(k,y,T){return T.length===0?[]:(y!=0&&(T=p(T)),y===1&&T.map(function(_){var x=k.getOldPreviousSibling(_);_.oldPreviousSibling=x;var w=k.getOldParentNode(_);_.oldParentNode=w,_.isRemovedNode=!0}),function(_,x,w){for(var C=new s.default,S=new s.default,b=[];0<w.length;){var v=w.shift(),I=new l.default(x,v,C,S);if(I.getPinpoint()||x!==0){var R=new d.default(x,I);b.push(R)}else{var O=v.parentNode,D=new d.default(1,new l.default(1,O,C,S));w=E(O,w),w=[O][r("0x32")](w),b.push(D)}}return x===1&&b.reverse(),b}(0,y,T))}function E(k,y){if(!k)return y;for(var T=f(k),_=y.length,x=0;x<_;x++){var w=y[x].funContent;if(!T||T.indexOf(w)==-1)break;y[x].isSmallContent=!0}return y.filter(function(C){return C.isSmallContent!=1})}function f(k){var y=k.outerHTML||k.textContent;return k.nodeType===8&&(y="<!--"+y+r("0x33")),y.replace(/&amp;/g,"&")}},function(i,a,o){function c(d,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}o.r(a),o.d(a,"default",function(){return s});var s=function(){function d(){(function(l,u){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this),this.cache={}}return c(d.prototype,[{key:"clearCache",value:function(){this.cache={}}},{key:"hasId",value:function(l){return this.cache[l]!=null}},{key:"getValue",value:function(l){return this.cache[l]}},{key:"push",value:function(l,u){this.cache[l]=u}},{key:"getCache",value:function(){return this.cache}}]),d}()},function(i,a,o){function c(d,l){for(var u=0;u<l.length;u++){var h=l[u];h[r("0x34")]=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}o.r(a),o.d(a,"default",function(){return s});var s=function(){function d(l,u){(function(g,p){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")})(this),this.actionType=l,this.actionData=u;var h=new Date;this.timestamp=h.getTime()}return c(d.prototype,[{key:"getActionType",value:function(){return this[r("0x35")]}},{key:"getActionData",value:function(){return this.actionData}},{key:"show",value:function(){this.actionType,this.actionData}}]),d}()},function(i,a,o){o.r(a),o.d(a,"default",function(){return d});var c=o(9);function s(l,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,g.key,g)}}var d=function(){function l(u,h,g,p){(function(k,y){if(!(k instanceof l))throw new TypeError("Cannot call a class as a function")})(this),this.nodeType=h.nodeType,u!==0&&u!==3||(this.outerHTML=h.outerHTML||h.textContent);var m=u!=1?h.previousSibling:h.oldPreviousSibling,E=h.parentNode;E||(E=h.oldParentNode||m&&m.parentNode);var f={selfNode:h,parentNode:E,previousElementSibling:h.previousElementSibling,previousSibling:m,nextElementSibling:h[r("0x36")],nextSibling:h.nextSibling};try{this.selfSelector=c.calculateSelfSelector(f,g,p)}catch(k){this.selfSelector=null}try{this.pinpoint=c.calculatePinpoint(f,g,p)}catch(k){this.pinpoint=null}}return s(l.prototype,[{key:"getPinpoint",value:function(){return this.pinpoint}},{key:"show",value:function(){this.selfSelector,this.pinpoint.show(),this.outerHTML}}]),l}()},function(i,a,o){o.r(a),o.d(a,"calculatePinpoint",function(){return l}),o.d(a,"calculateSelfSelector",function(){return h});var c=o(10),s=o(2),d=1e4,l=function(_,x,w){var C=_.nextSibling||_.nextElementSibling;if(C){var S=s.extractNodeName(C);return S==="#comment"||S==="#text"&&C.textContent.trim()===""?u(_,C,x,w):g(_,x,w)}var b=E(_.parentNode,x,w);return new c.default(b,2)},u=function(_,x,w,C){return _[r("0x36")]=x.nextElementSibling,_.nextSibling=x.nextSibling,l(_,w,C)},h=function(_,x,w){return{parentSelector:E(_.parentNode,x,w),localSelector:function(C,S,b){C.funLocalSelector||(C.funLocalSelector=m(C));var v=k(S,C.funLocalSelector,0,b);if(C.funId||(C.funId=s.uniqueID()),b.push(C.funId,{funLocalSelector:C.funLocalSelector,index:v}),d<=v)throw new Error("too deep for calculateElementLocalSelector");return C.funLocalSelector+":eq("+v+")"}(_.selfNode,_.previousSibling,w)}};function g(_,x,w){var C=y(_);if(C){var S=s.extractNodeName(C);if(S==="#comment")return p(_,C,x,w);if(S==="#text"){if(C.textContent.trim()==="")return p(_,C,x,w);var b=E(_.parentNode,x,w),v={textContent:O=(R=C).textContent.trim(),textIndex:function M(L,P,F){var N=y(L);return N?M(N,P,s.extractNodeName(N)==="#text"&&N.textContent.trim()===P?F+1:F):F}(R,O,0)};return new c.default(b,5,v)}var I=E(_.parentNode,x,w)+" > "+f(C,w);return new c.default(I,3)}var R,O,D=E(_.parentNode,x,w);return new c.default(D,1)}function p(_,x,w,C){return _.previousElementSibling=x.previousElementSibling,_.previousSibling=x.previousSibling,g(_,w,C)}function m(_){return _&&_?""+_.nodeName.toLowerCase():""}function E(_,x,w){if(!_)return"";var C=_.funId;if(C){if(x.hasId(C))return x.getValue(C)}else _[r("0x37")]=s.uniqueID();var S=f(_,w),b=_.nodeName;if(b==="BODY"||b==="HEAD")return S;if(S){var v=_.parentNode;v||(v=_.oldParentNode);var I=E(v,x,w),R=I?I+" > "+S:S;return x[r("0x38")](_.funId,R),R}throw new Error("current node has no selector..")}function f(_,x){_.funLocalSelector||(_.funLocalSelector=m(_));var w=k(y(_),_.funLocalSelector,0,x);if(_.funId||(_[r("0x37")]=s.uniqueID()),x.push(_.funId,{funLocalSelector:_.funLocalSelector,index:w}),d<=w)throw new Error("too deep for calculateElementLocalSelector");return _.funLocalSelector+":eq("+w+")"}function k(_,x,w,C){var S=0;if(!_)return S;if(_.funId&&C.hasId(_.funId)){var b=C.getValue(_.funId);if(T(b.funLocalSelector,x))return b[r("0x39")]+1}if(d<=w)return S;_.funId||(_.funId=s.uniqueID()),_.funLocalSelector||(_.funLocalSelector=m(_));var v=y(_);return v&&(S+=k(v,x,++w,C)),T(_.funLocalSelector,x)&&(C.push(_.funId,{funLocalSelector:_.funLocalSelector,index:S}),S++),S}function y(_){if(!_)return _;var x=_.previousSibling||_.previousElementSibling;return _.isRemovedNode&&(x=_.oldPreviousSibling),x}function T(_,x){var w=/[#\.]/,C=_.split(w),S=x.split(w);return S[r("0x9")]!==0&&C[r("0x9")]!==0&&S.map(function(b){return C.indexOf(b)!==-1}).reduce(function(b,v){return b&&v},!0)}},function(i,a,o){function c(d,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h[r("0x34")]||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}o.r(a),o.d(a,"default",function(){return s});var s=function(){function d(l,u,h){(function(g,p){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")})(this),this.type=u,this[r("0x3a")]=l,u===5&&(this.textNode=h)}return c(d.prototype,[{key:"show",value:function(){this.type,this.selector,this[r("0x3b")]===5&&this.textNode}},{key:"getSelector",value:function(){return this.selector}},{key:"getTextNode",value:function(){return this.textNode}},{key:"getType",value:function(){return this.type}}]),d}()},function(i,a,o){function c(d,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}o.r(a),o.d(a,"default",function(){return s});var s=function(){function d(l,u){(function(h,g){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")})(this),this.name=l,this.value=u}return c(d.prototype,[{key:"getName",value:function(){return this[r("0x3c")]}},{key:"getValue",value:function(){return this.value}},{key:"show",value:function(){this.name,this.value}}]),d}()},function(i,a,o){function c(d,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}o.r(a),o.d(a,"default",function(){return s});var s=function(){function d(l,u){(function(h,g){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")})(this),this.redoableElement=l,this.changedAttributeList=u}return c(d.prototype,[{key:"setElement",value:function(l){this.redoableElement=l}},{key:"setAttributeList",value:function(l){this.changedAttributeList=l}},{key:"appendAttribute",value:function(l){this.changedAttributeList=this.changedAttributeList.concat([l])}},{key:"show",value:function(){this.redoableElement.show(),this[r("0x3d")].map(function(l){l.show()})}}]),d}()},function(i,a,o){function c(d,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}o.r(a),o.d(a,"default",function(){return s});var s=function(){function d(l,u,h){(function(g,p){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")})(this),this.inputType=l,this.eleType=u,this.value=h}return c(d.prototype,[{key:"getEleType",value:function(){return this.eleType}},{key:"getInputType",value:function(){return this.inputType}},{key:"getValue",value:function(){return this.value}}]),d}()},function(i,a,o){o.r(a),o.d(a,"default",function(){return d});var c=o(9);function s(l,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,g.key,g)}}var d=function(){function l(g,p,m,E){(function(k,y){if(!(k instanceof l))throw new TypeError("Cannot call a class as a function")})(this);var f={selfNode:g,parentNode:g.parentNode,previousElementSibling:g[r("0x3e")],previousSibling:g.previousSibling,nextElementSibling:g.nextElementSibling,nextSibling:g.nextSibling};try{this.selfSelector=c.calculateSelfSelector(f,m,E)}catch(k){this.selfSelector=null}this[r("0x3f")]=p}var u,h;return u=l,h=[{key:"getSelfSelector",value:function(){return this.selfSelector}},{key:r("0x40"),value:function(){return this.input}},{key:"show",value:function(){this.selfSelector,this.pinpoint.show(),this.outerHTML}}],s(u.prototype,h),l}()},function(i,a,o){o.r(a);var c=o(16);a.default=c.default},function(i,a,o){o.r(a),o.d(a,"default",function(){return p});var c=o(17),s=o(19),d=o(9),l=o(6),u=o(2);function h(m){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(m)}function g(m,E){for(var f=0;f<E.length;f++){var k=E[f];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object[r("0x41")](m,k.key,k)}}var p=function(m){function E(){var y,T,_,x,w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return function(C,S){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}(this),(T=this,_=(x=E,(Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(x))[r("0x42")](this,w),y=!_||h(_)!=="object"&&typeof _!="function"?function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(T):_).events=["mousemove","click","scroll","resize"],y.eventHandlers=[],y.vedio=null,y.isRecording=!1,y.mousemoveSamplingFrequence=0,y.MaxMousemoveSamplingFrequence=5,y[r("0x43")]instanceof window.HTMLHtmlElement&&(y.listeners={scroll:window,resize:window}),y.on(r("0x44"),function(){y.isRecording=!0}),y.on("fun_recording_stop",function(){y[r("0x45")]=!1}),y.on("fun_recording",function(){}),y}var f,k;return function(y,T){if(r("0x25")!=typeof T&&T!==null)throw new TypeError("Super expression must either be null or a function");var _,x;y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),T&&(_=y,x=T,(Object.setPrototypeOf||function(w,C){return w.__proto__=C,w})(_,x))}(E,c.default),f=E,k=[{key:r("0x46"),value:function(){return this.vedio}},{key:"getListener",value:function(y){return this.listeners[y]||this.getTarget()}},{key:"restart",value:function(){this.init(),this.emit("fun_recording_start")}},{key:"start",value:function(){var y=this;this.init(),this.emit("fun_recording_start");for(var T=function(x){var w=y.events[x],C=y.onEvents[w];C||(C=y.defaultEventCallback);var S=function(b){y.onEventCallback(C,b)};y.eventHandlers.splice(x,0,S),w==="scroll"?y.getListener(w).addEventListener(w,S,!0):y.getListener(w).addEventListener(w,S)},_=0;_<this.events.length;_++)T(_)}},{key:"stop",value:function(){for(var y=0;y<this.events.length;y++){var T=this.events[y],_=this.eventHandlers[y];_&&this.getListener(T).removeEventListener(T,_)}return this.emit("fun_recording_stop"),this.vedio}},{key:"init",value:function(){var y=this.getTarget(),T=this.getTargetPosition(),_=new s.default;_.top=T.top,_.left=T[r("0x47")];var x=y.innerHTML,w=this.removeHideElement(x);w="<!DOCTYPE html>"+w,_.scene=w,_.rootOpts={style:y.getAttribute("style"),class:y.getAttribute("class")},_.scrollX=y.scrollLeft,_.scrollY=y.scrollTop;var C=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,S=window[r("0x48")]||document.documentElement.clientHeight||document.body.clientHeight;return _.width=C,_.height=S,this.vedio=_,this.vedio}},{key:"getTargetPosition",value:function(){var y=this.getTarget().getBoundingClientRect(),T=document.documentElement,_=window.pageYOffset||T.scrollTop||0,x=window.pageXOffset||T.scrollLeft||0;return{top:y.top+_,left:y.left+x}}},{key:"onEventCallback",value:function(y,T){this.emit("fun_recording",T),this[r("0x49")](T.type,T),y(this,this.vedio,T)}},{key:"defaultEventCallback",value:function(y,T,_){if(_.type==="mousemove"){if(!(y.mousemoveSamplingFrequence>=y.MaxMousemoveSamplingFrequence))return void y.mousemoveSamplingFrequence++;y.mousemoveSamplingFrequence=0}var x=_.target,w=x.body,C={scrollY:w?w.parentNode.scrollTop||w[r("0x4a")]:x.scrollTop,scrollX:w?w.parentNode.scrollLeft||w.scrollLeft:x.scrollLeft,cursorX:_.pageX,cursorY:_.pageY,width:y.target.clientWidth,height:y.target.clientHeight,eventType:_.type};if(_.type==="scroll"){var S={selfNode:x,parentNode:x[r("0x4b")],previousElementSibling:x.previousElementSibling,previousSibling:x.previousSibling,nextElementSibling:x.nextElementSibling,nextSibling:x.nextSibling};try{C.selfSelector=d.calculateSelfSelector(S,new l.default,new l.default)}catch(b){C.selfSelector=null}}T[r("0x4c")](C)}},{key:"removeHideElement",value:function(y){if(u.knuthMorrisPratt(y,"_fun-hide")<=0)return y;try{for(var T=new DOMParser().parseFromString(y,"text/html"),_=T.getElementsByClassName("_fun-hide"),x=[][r("0x4d")].call(_),w=0;w<x.length;w++)x[w].remove();return T.documentElement.innerHTML}catch(C){return y}}}],g(f.prototype,k),E}()},function(i,a,o){o.r(a),o.d(a,"default",function(){return l});var c=o(18);function s(u){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}function d(u,h){for(var g=0;g<h.length;g++){var p=h[g];p.enumerable=p.enumerable||!1,p.configurable=!0,r("0x4e")in p&&(p.writable=!0),Object.defineProperty(u,p[r("0x4f")],p)}}var l=function(u){function h(){var g,p,m,E,f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return function(k,y){if(!(k instanceof h))throw new TypeError("Cannot call a class as a function")}(this),p=this,g=!(m=(E=h,(Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)})(E)).call(this))||s(m)!=="object"&&typeof m!="function"?function(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(p):m,f[r("0x43")]?g.setTarget(f.target):g.target=null,g.onEvents=f.onEvents||g.onEvents(),g}return function(g,p){if(typeof p!="function"&&p!==null)throw new TypeError(r("0x50"));var m,E;g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),p&&(m=g,E=p,(Object.setPrototypeOf||function(f,k){return f.__proto__=k,f})(m,E))}(h,c.EventEmitter),d(h.prototype,[{key:"onEvents",value:function(){return{}}},{key:"setTarget",value:function(g){if(!(g instanceof window.HTMLElement))throw new Error("Target\u4E0D\u662FHTMLElement\u7C7B\u578B");this.target=g}},{key:"getTarget",value:function(){if(!this.target)throw new Error("\u672A\u5B9A\u4E49\u8981\u76D1\u542C\u7684Target");return this.target}}]),h}()},function(i,a,o){var c,s=typeof Reflect=="object"?Reflect:null,d=s&&typeof s.apply=="function"?s.apply:function(y,T,_){return Function.prototype.apply.call(y,T,_)};c=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:function(y){return Object.getOwnPropertyNames(y)};var l=Number.isNaN||function(y){return y!=y};function u(){u.init.call(this)}((i.exports=u).EventEmitter=u).prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var h=10;function g(y){return y._maxListeners===void 0?u.defaultMaxListeners:y._maxListeners}function p(y,T,_,x){var w,C,S;if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _);if((C=y._events)===void 0?(C=y._events=Object.create(null),y._eventsCount=0):(C.newListener!==void 0&&(y.emit("newListener",T,_.listener?_.listener:_),C=y._events),S=C[T]),S===void 0)S=C[T]=_,++y._eventsCount;else if(typeof S=="function"?S=C[T]=x?[_,S]:[S,_]:x?S.unshift(_):S.push(_),0<(w=g(y))&&S[r("0x9")]>w&&!S.warned){S.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(T)+r("0x51"));b.name="MaxListenersExceededWarning",b.emitter=y,b.type=T,b.count=S.length}return y}function m(y,T,_){var x={fired:!1,wrapFn:void 0,target:y,type:T,listener:_},w=function(){for(var C=[],S=0;S<arguments.length;S++)C.push(arguments[S]);this.fired||(this.target[r("0x52")](this.type,this.wrapFn),this.fired=!0,d(this.listener,this.target,C))}.bind(x);return w.listener=_,x.wrapFn=w}function E(y,T,_){var x=y._events;if(x===void 0)return[];var w=x[T];return w===void 0?[]:typeof w=="function"?_?[w[r("0x53")]||w]:[w]:_?function(C){for(var S=new Array(C.length),b=0;b<S.length;++b)S[b]=C[b].listener||C[b];return S}(w):k(w,w.length)}function f(y){var T=this._events;if(T!==void 0){var _=T[y];if(typeof _=="function")return 1;if(_!==void 0)return _.length}return 0}function k(y,T){for(var _=new Array(T),x=0;x<T;++x)_[x]=y[x];return _}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(y){if(typeof y!="number"||y<0||l(y))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+y+".");h=y}}),u.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||l(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this},u.prototype.getMaxListeners=function(){return g(this)},u.prototype.emit=function(y){for(var T=[],_=1;_<arguments.length;_++)T.push(arguments[_]);var x=y==="error",w=this._events;if(w!==void 0)x=x&&w.error===void 0;else if(!x)return!1;if(x){var C;if(0<T.length&&(C=T[0]),C instanceof Error)throw C;var S=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw S.context=C,S}var b=w[y];if(b===void 0)return!1;if(typeof b=="function")d(b,this,T);else{var v=b.length,I=k(b,v);for(_=0;_<v;++_)d(I[_],this,T)}return!0},u.prototype.on=u.prototype[r("0x54")]=function(y,T){return p(this,y,T,!1)},u.prototype.prependListener=function(y,T){return p(this,y,T,!0)},u.prototype[r("0x55")]=function(y,T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T);return this.on(y,m(this,y,T)),this},u.prototype.prependOnceListener=function(y,T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T);return this.prependListener(y,m(this,y,T)),this},u.prototype.off=u.prototype.removeListener=function(y,T){var _,x,w,C,S;if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T);if((x=this._events)===void 0)return this;if((_=x[y])===void 0)return this;if(_===T||_.listener===T)--this._eventsCount==0?this._events=Object.create(null):(delete x[y],x.removeListener&&this.emit("removeListener",y,_.listener||T));else if(typeof _!="function"){for(w=-1,C=_.length-1;0<=C;C--)if(_[C]===T||_[C].listener===T){S=_[C].listener,w=C;break}if(w<0)return this;w===0?_.shift():function(b,v){for(;v+1<b.length;v++)b[v]=b[v+1];b.pop()}(_,w),_.length===1&&(x[y]=_[0]),x.removeListener!==void 0&&this.emit("removeListener",y,S||T)}return this},u.prototype.removeAllListeners=function(y){var T,_,x;if((_=this._events)===void 0)return this;if(_.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_[y]!==void 0&&(--this._eventsCount==0?this[r("0x56")]=Object.create(null):delete _[y]),this;if(arguments.length===0){var w,C=Object.keys(_);for(x=0;x<C.length;++x)(w=C[x])!=="removeListener"&&this.removeAllListeners(w);return this[r("0x57")]("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(T=_[y])=="function")this[r("0x52")](y,T);else if(T!==void 0)for(x=T.length-1;0<=x;x--)this.removeListener(y,T[x]);return this},u.prototype.listeners=function(y){return E(this,y,!0)},u.prototype.rawListeners=function(y){return E(this,y,!1)},u.listenerCount=function(y,T){return typeof y.listenerCount=="function"?y.listenerCount(T):f.call(y,T)},u.prototype.listenerCount=f,u.prototype[r("0x58")]=function(){return 0<this._eventsCount?c(this._events):[]}},function(i,a,o){o.r(a),o.d(a,"default",function(){return d});var c=o(20);function s(l,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g[r("0x5a")]=!0),Object.defineProperty(l,g[r("0x4f")],g)}}var d=function(){function l(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};(function(p,m){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")})(this),this.top=u.top||0,this.left=u.left||0,this.scrollX=u.scrollX||0,this[r("0x5b")]=u.scrollY||0,this.width=u.width||0,this.height=u.height||0,this.scene=u[r("0x5c")]||"",this.rootOpts=u[r("0x5d")]||null;var h=new Date;this.timestamp=h.getTime();var g=u.frames||[];this[r("0x5e")](g)}return s(l.prototype,[{key:"getFrames",value:function(){return this.frames}},{key:"getFramesLength",value:function(){return this[r("0x5f")]&&this.frames.length}},{key:"setFrames",value:function(u){this.frames=[];for(var h=0;h<u.length;h++)this.pushNewFrame(u[h]);return this}},{key:"pushNewFrame",value:function(){var u,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(h!==null&&(u=h,(typeof Symbol=="function"&&r("0x59")==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(u)==="object")&&!(h=new c.default(h)).timestamp){var g=new Date;h.timestamp=g.getTime()}h&&this.frames.push(h)}},{key:"toJSON",value:function(){return{top:this.top,left:this.left,scrollX:this.scrollX,scrollY:this[r("0x5b")],width:this.width,height:this.height,timestamp:this.timestamp,scene:this.scene,rootOpts:this.rootOpts,frames:this.frames}}},{key:"getScene",value:function(){return this.scene}}]),l}()},function(i,a,o){function c(d,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}o.r(a),o.d(a,"default",function(){return s});var s=function(){function d(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};(function(u,h){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")})(this),this.cursorX=l.cursorX||0,this.cursorY=l.cursorY||0,this.scrollX=l.scrollX||0,this.scrollY=l.scrollY||0,this.height=l.height||0,this.width=l.width||0,this[r("0x60")]=l.timestamp||0,this.options=l.options||{},this.eventType=l.eventType||"",this.selfSelector=l.selfSelector||null}return c(d.prototype,[{key:"toJSON",value:function(){return{eventType:this.eventType,options:this.options,scrollX:this.scrollX,scrollY:this.scrollY,cursorX:this.cursorX,cursorY:this.cursorY,height:this.height,width:this[r("0x61")],timestamp:this.timestamp,selfSelector:this.selfSelector}}}]),d}()},function(i,a,o){function c(d,l){for(var u=0;u<l.length;u++){var h=l[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}o.r(a),o.d(a,"default",function(){return s});var s=function(){function d(l,u,h){(function(g,p){if(!(g instanceof d))throw new TypeError(r("0x62"))})(this),this.type=l,this.vedio=u,this.actions=h}return c(d.prototype,[{key:"getType",value:function(){return this.type}},{key:"getVedio",value:function(){return this.vedio}},{key:"getVedioTimestamp",value:function(){return this[r("0x63")].timestamp}},{key:"getVedioFrameLength",value:function(){return this.vedio?this.vedio.getFramesLength():0}},{key:"getActions",value:function(){return this.actions}},{key:"getLastActionTimestamp",value:function(){return this.actions.length?this.actions[this.actions.length-1].timestamp:0}},{key:"getActionsLength",value:function(){return this.actions.length}}]),d}()},function(i,a,o){o.r(a),o.d(a,"sendToServer",function(){return c});var c=function(s,d){var l=new XMLHttpRequest;l.open("POST",s),l.setRequestHeader("Content-Type","application/json"),l.onreadystatechange=function(){l.readyState==XMLHttpRequest.DONE&&l[r("0x64")]},l.send(d)}},function(i,a,o){var c,s=function(){var d=String.fromCharCode,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",h={};function g(m,E){if(!h[m]){h[m]={};for(var f=0;f<m.length;f++)h[m][m.charAt(f)]=f}return h[m][E]}var p={compressToBase64:function(m){if(m==null)return"";var E=p._compress(m,6,function(f){return l.charAt(f)});switch(E.length%4){default:case 0:return E;case 1:return E+"===";case 2:return E+"==";case 3:return E+"="}},decompressFromBase64:function(m){return m==null?"":m==""?null:p._decompress(m.length,32,function(E){return g(l,m.charAt(E))})},compressToUTF16:function(m){return m==null?"":p._compress(m,15,function(E){return d(E+32)})+" "},decompressFromUTF16:function(m){return m==null?"":m==""?null:p._decompress(m.length,16384,function(E){return m[r("0x65")](E)-32})},compressToUint8Array:function(m){for(var E=p.compress(m),f=new Uint8Array(2*E.length),k=0,y=E.length;k<y;k++){var T=E.charCodeAt(k);f[2*k]=T>>>8,f[2*k+1]=T%256}return f},decompressFromUint8Array:function(m){if(m==null)return p.decompress(m);for(var E=new Array(m[r("0x9")]/2),f=0,k=E.length;f<k;f++)E[f]=256*m[2*f]+m[2*f+1];var y=[];return E.forEach(function(T){y.push(d(T))}),p.decompress(y.join(""))},compressToEncodedURIComponent:function(m){return m==null?"":p._compress(m,6,function(E){return u.charAt(E)})},decompressFromEncodedURIComponent:function(m){return m==null?"":m==""?null:(m=m.replace(/ /g,"+"),p[r("0x66")](m.length,32,function(E){return g(u,m.charAt(E))}))},compress:function(m){return p._compress(m,16,function(E){return d(E)})},_compress:function(m,E,f){if(m==null)return"";var k,y,T,_={},x={},w="",C="",S="",b=2,v=3,I=2,R=[],O=0,D=0;for(T=0;T<m.length;T+=1)if(w=m.charAt(T),Object.prototype.hasOwnProperty.call(_,w)||(_[w]=v++,x[w]=!0),C=S+w,Object[r("0x1a")].hasOwnProperty.call(_,C))S=C;else{if(Object.prototype.hasOwnProperty.call(x,S)){if(S.charCodeAt(0)<256){for(k=0;k<I;k++)O<<=1,D==E-1?(D=0,R.push(f(O)),O=0):D++;for(y=S.charCodeAt(0),k=0;k<8;k++)O=O<<1|1&y,D==E-1?(D=0,R.push(f(O)),O=0):D++,y>>=1}else{for(y=1,k=0;k<I;k++)O=O<<1|y,D==E-1?(D=0,R.push(f(O)),O=0):D++,y=0;for(y=S.charCodeAt(0),k=0;k<16;k++)O=O<<1|1&y,D==E-1?(D=0,R.push(f(O)),O=0):D++,y>>=1}--b==0&&(b=Math.pow(2,I),I++),delete x[S]}else for(y=_[S],k=0;k<I;k++)O=O<<1|1&y,D==E-1?(D=0,R.push(f(O)),O=0):D++,y>>=1;--b==0&&(b=Math.pow(2,I),I++),_[C]=v++,S=String(w)}if(S!==""){if(Object.prototype.hasOwnProperty.call(x,S)){if(S.charCodeAt(0)<256){for(k=0;k<I;k++)O<<=1,D==E-1?(D=0,R.push(f(O)),O=0):D++;for(y=S.charCodeAt(0),k=0;k<8;k++)O=O<<1|1&y,D==E-1?(D=0,R.push(f(O)),O=0):D++,y>>=1}else{for(y=1,k=0;k<I;k++)O=O<<1|y,D==E-1?(D=0,R.push(f(O)),O=0):D++,y=0;for(y=S.charCodeAt(0),k=0;k<16;k++)O=O<<1|1&y,D==E-1?(D=0,R.push(f(O)),O=0):D++,y>>=1}--b==0&&(b=Math[r("0x67")](2,I),I++),delete x[S]}else for(y=_[S],k=0;k<I;k++)O=O<<1|1&y,D==E-1?(D=0,R.push(f(O)),O=0):D++,y>>=1;--b==0&&(b=Math.pow(2,I),I++)}for(y=2,k=0;k<I;k++)O=O<<1|1&y,D==E-1?(D=0,R.push(f(O)),O=0):D++,y>>=1;for(;;){if(O<<=1,D==E-1){R.push(f(O));break}D++}return R.join("")},decompress:function(m){return m==null?"":m==""?null:p._decompress(m.length,32768,function(E){return m[r("0x65")](E)})},_decompress:function(m,E,f){var k,y,T,_,x,w,C,S=[],b=4,v=4,I=3,R="",O=[],D={val:f(0),position:E,index:1};for(k=0;k<3;k+=1)S[k]=k;for(T=0,x=Math.pow(2,2),w=1;w!=x;)_=D.val&D.position,D.position>>=1,D.position==0&&(D.position=E,D.val=f(D.index++)),T|=(0<_?1:0)*w,w<<=1;switch(T){case 0:for(T=0,x=Math.pow(2,8),w=1;w!=x;)_=D.val&D.position,D.position>>=1,D.position==0&&(D.position=E,D.val=f(D.index++)),T|=(0<_?1:0)*w,w<<=1;C=d(T);break;case 1:for(T=0,x=Math.pow(2,16),w=1;w!=x;)_=D.val&D.position,D.position>>=1,D.position==0&&(D.position=E,D.val=f(D.index++)),T|=(0<_?1:0)*w,w<<=1;C=d(T);break;case 2:return""}for(y=S[3]=C,O.push(C);;){if(D.index>m)return"";for(T=0,x=Math.pow(2,I),w=1;w!=x;)_=D.val&D.position,D.position>>=1,D.position==0&&(D.position=E,D[r("0x68")]=f(D.index++)),T|=(0<_?1:0)*w,w<<=1;switch(C=T){case 0:for(T=0,x=Math.pow(2,8),w=1;w!=x;)_=D.val&D.position,D.position>>=1,D.position==0&&(D.position=E,D.val=f(D.index++)),T|=(0<_?1:0)*w,w<<=1;S[v++]=d(T),C=v-1,b--;break;case 1:for(T=0,x=Math[r("0x67")](2,16),w=1;w!=x;)_=D.val&D.position,D.position>>=1,D.position==0&&(D.position=E,D.val=f(D.index++)),T|=(0<_?1:0)*w,w<<=1;S[v++]=d(T),C=v-1,b--;break;case 2:return O.join("")}if(b==0&&(b=Math.pow(2,I),I++),S[C])R=S[C];else{if(C!==v)return null;R=y+y.charAt(0)}O.push(R),S[v++]=y+R.charAt(0),y=R,--b==0&&(b=Math.pow(2,I),I++)}}};return p}();(c=function(){return s}.call(a,o,a,i))===void 0||(i.exports=c)}])})})(Mt);class $t extends it.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidMount(){const{fundebugKey:e,debug:n}=this.props;n&&console.log("\u5F00\u542F\u8C03\u8BD5\u6A21\u5F0F"),e&&(console.log(`fundebugKey: ${e}`),kt.init({apikey:e}),console.log("fundebug \u521D\u59CB\u5316\u6210\u529F"))}componentDidCatch(e,n){this.setState({hasError:!0}),kt.notifyError(e,{metaData:{info:n.componentStack}})}render(){return this.state.hasError?null:ut.jsx(ut.Fragment,{children:this.props.children})}}function qt(t,e,n){return e=fr(e),ol(t,Xt()?Reflect.construct(e,n||[],fr(t).constructor):e.apply(t,n))}function Xt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Xt=function(){return!!t})()}function Re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Re(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tn(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function we(t){var e=tn(t,"string");return typeof e=="symbol"?e:String(e)}function Wt(t){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(t)}function fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,we(r.key),r)}}function en(t,e,n){return e&&He(t.prototype,e),n&&He(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function re(t,e,n){return e=we(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ko(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fi(t,e)}function fr(t){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fr(t)}function fi(t,e){return fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fi(t,e)}function Go(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ol(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Go(t)}var Zo="debug",sl="info",al="warn",mi="error",Qo="critical",cl=re(re(re(re(re({},Zo,1),sl,2),al,3),mi,4),Qo,5),ts={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Pt,()=>{return n={276:function(){(function(i){i.console||(i.console={});for(var a,o,c=i.console,s=function(){},d=["memory"],l="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");a=d.pop();)c[a]||(c[a]={});for(;o=l.pop();)c[o]||(c[o]=s)})(typeof window>"u"?this:window)},180:function(i,a,o){var c,s,d;(function(l,u){s=[o(124)],(d=typeof(c=function(h){var g=/(^|@)\S+:\d+/,p=/^\s*at .*(\S+:\d+|\(native\))/m,m=/^(eval@)?(\[native code])?$/;return{parse:function(E){if(E.stacktrace!==void 0||E["opera#sourceloc"]!==void 0)return this.parseOpera(E);if(E.stack&&E.stack.match(p))return this.parseV8OrIE(E);if(E.stack)return this.parseFFOrSafari(E);throw new Error("Cannot parse given Error object")},extractLocation:function(E){if(E.indexOf(":")===-1)return[E];var f=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(E.replace(/[()]/g,""));return[f[1],f[2]||void 0,f[3]||void 0]},parseV8OrIE:function(E){return E.stack.split(`
`).filter(function(f){return!!f.match(p)},this).map(function(f){f.indexOf("(eval ")>-1&&(f=f.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var k=f.replace(/^\s+/,"").replace(/\(eval code/g,"("),y=k.match(/ (\((.+):(\d+):(\d+)\)$)/),T=(k=y?k.replace(y[0],""):k).split(/\s+/).slice(1),_=this.extractLocation(y?y[1]:T.pop()),x=T.join(" ")||void 0,w=["eval","<anonymous>"].indexOf(_[0])>-1?void 0:_[0];return new h({functionName:x,fileName:w,lineNumber:_[1],columnNumber:_[2],source:f})},this)},parseFFOrSafari:function(E){return E.stack.split(`
`).filter(function(f){return!f.match(m)},this).map(function(f){if(f.indexOf(" > eval")>-1&&(f=f.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),f.indexOf("@")===-1&&f.indexOf(":")===-1)return new h({functionName:f});var k=/((.*".+"[^@]*)?[^@]*)(?:@)/,y=f.match(k),T=y&&y[1]?y[1]:void 0,_=this.extractLocation(f.replace(k,""));return new h({functionName:T,fileName:_[0],lineNumber:_[1],columnNumber:_[2],source:f})},this)},parseOpera:function(E){return!E.stacktrace||E.message.indexOf(`
`)>-1&&E.message.split(`
`).length>E.stacktrace.split(`
`).length?this.parseOpera9(E):E.stack?this.parseOpera11(E):this.parseOpera10(E)},parseOpera9:function(E){for(var f=/Line (\d+).*script (?:in )?(\S+)/i,k=E.message.split(`
`),y=[],T=2,_=k.length;T<_;T+=2){var x=f.exec(k[T]);x&&y.push(new h({fileName:x[2],lineNumber:x[1],source:k[T]}))}return y},parseOpera10:function(E){for(var f=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,k=E.stacktrace.split(`
`),y=[],T=0,_=k.length;T<_;T+=2){var x=f.exec(k[T]);x&&y.push(new h({functionName:x[3]||void 0,fileName:x[2],lineNumber:x[1],source:k[T]}))}return y},parseOpera11:function(E){return E.stack.split(`
`).filter(function(f){return!!f.match(g)&&!f.match(/^Error created at/)},this).map(function(f){var k,y=f.split("@"),T=this.extractLocation(y.pop()),_=y.shift()||"",x=_.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;_.match(/\(([^)]*)\)/)&&(k=_.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var w=k===void 0||k==="[arguments not available]"?void 0:k.split(",");return new h({functionName:x,args:w,fileName:T[0],lineNumber:T[1],columnNumber:T[2],source:f})},this)}}})=="function"?c.apply(a,s):c)===void 0||(i.exports=d)})()},124:function(i,a){var o,c,s;(function(d,l){c=[],(s=typeof(o=function(){function u(C){return!isNaN(parseFloat(C))&&isFinite(C)}function h(C){return C.charAt(0).toUpperCase()+C.substring(1)}function g(C){return function(){return this[C]}}var p=["isConstructor","isEval","isNative","isToplevel"],m=["columnNumber","lineNumber"],E=["fileName","functionName","source"],f=["args"],k=["evalOrigin"],y=p.concat(m,E,f,k);function T(C){if(C)for(var S=0;S<y.length;S++)C[y[S]]!==void 0&&this["set"+h(y[S])](C[y[S]])}T.prototype={getArgs:function(){return this.args},setArgs:function(C){if(Object.prototype.toString.call(C)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=C},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(C){if(C instanceof T)this.evalOrigin=C;else{if(!(C instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new T(C)}},toString:function(){var C=this.getFileName()||"",S=this.getLineNumber()||"",b=this.getColumnNumber()||"",v=this.getFunctionName()||"";return this.getIsEval()?C?"[eval] ("+C+":"+S+":"+b+")":"[eval]:"+S+":"+b:v?v+" ("+C+":"+S+":"+b+")":C+":"+S+":"+b}},T.fromString=function(C){var S=C.indexOf("("),b=C.lastIndexOf(")"),v=C.substring(0,S),I=C.substring(S+1,b).split(","),R=C.substring(b+1);if(R.indexOf("@")===0)var O=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(R,""),D=O[1],M=O[2],L=O[3];return new T({functionName:v,args:I||void 0,fileName:D,lineNumber:M||void 0,columnNumber:L||void 0})};for(var _=0;_<p.length;_++)T.prototype["get"+h(p[_])]=g(p[_]),T.prototype["set"+h(p[_])]=function(C){return function(S){this[C]=!!S}}(p[_]);for(var x=0;x<m.length;x++)T.prototype["get"+h(m[x])]=g(m[x]),T.prototype["set"+h(m[x])]=function(C){return function(S){if(!u(S))throw new TypeError(C+" must be a Number");this[C]=Number(S)}}(m[x]);for(var w=0;w<E.length;w++)T.prototype["get"+h(E[w])]=g(E[w]),T.prototype["set"+h(E[w])]=function(C){return function(S){this[C]=String(S)}}(E[w]);return T})=="function"?o.apply(a,c):o)===void 0||(i.exports=s)})()},815:(i,a,o)=>{var c=o(702),s=o(817),d={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function l(h,g,p,m,E){this.options=h,this.transport=g,this.url=p,this.truncation=m,this.jsonBackup=E,this.accessToken=h.accessToken,this.transportOptions=u(h,p)}function u(h,g){return s.getTransportFromOptions(h,d,g)}l.prototype.postItem=function(h,g){var p=s.transportOptions(this.transportOptions,"POST"),m=s.buildPayload(this.accessToken,h,this.jsonBackup),E=this;setTimeout(function(){E.transport.post(E.accessToken,p,m,g)},0)},l.prototype.buildJsonPayload=function(h,g){var p,m=s.buildPayload(this.accessToken,h,this.jsonBackup);return(p=this.truncation?this.truncation.truncate(m):c.stringify(m)).error?(g&&g(p.error),null):p.value},l.prototype.postJsonPayload=function(h,g){var p=s.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,p,h,g)},l.prototype.configure=function(h){var g=this.oldOptions;return this.options=c.merge(g,h),this.transportOptions=u(this.options,this.url),this.options.accessToken!==void 0&&(this.accessToken=this.options.accessToken),this},i.exports=l},817:(i,a,o)=>{var c=o(702);i.exports={buildPayload:function(s,d,l){if(!c.isType(d.context,"string")){var u=c.stringify(d.context,l);u.error?d.context="Error: could not serialize 'context'":d.context=u.value||"",d.context.length>255&&(d.context=d.context.substr(0,255))}return{access_token:s,data:d}},getTransportFromOptions:function(s,d,l){var u=d.hostname,h=d.protocol,g=d.port,p=d.path,m=d.search,E=s.timeout,f=function(T){var _=typeof window<"u"&&window||typeof self<"u"&&self,x=T.defaultTransport||"xhr";return _.fetch===void 0&&(x="xhr"),_.XMLHttpRequest===void 0&&(x="fetch"),x}(s),k=s.proxy;if(s.endpoint){var y=l.parse(s.endpoint);u=y.hostname,h=y.protocol,g=y.port,p=y.pathname,m=y.search}return{timeout:E,hostname:u,protocol:h,port:g,path:p,search:m,proxy:k,transport:f}},transportOptions:function(s,d){var l=s.protocol||"https:",u=s.port||(l==="http:"?80:l==="https:"?443:void 0),h=s.hostname,g=s.path,p=s.timeout,m=s.transport;return s.search&&(g+=s.search),s.proxy&&(g=l+"//"+h+g,h=s.proxy.host||s.proxy.hostname,u=s.proxy.port,l=s.proxy.protocol||l),{timeout:p,protocol:l,hostname:h,path:g,port:u,method:d,transport:m}},appendPathToPath:function(s,d){var l=/\/$/.test(s),u=/^\//.test(d);return l&&u?d=d.substring(1):l||u||(d="/"+d),s+d}}},409:(i,a,o)=>{var c=o(343),s=typeof window<"u"&&window._rollbarConfig,d=s&&s.globalAlias||"Rollbar",l=typeof window<"u"&&window[d]&&typeof window[d].shimId=="function"&&window[d].shimId()!==void 0;if(typeof window>"u"||window._rollbarStartTime||(window._rollbarStartTime=new Date().getTime()),!l&&s){var u=new c(s);window[d]=u}else typeof window<"u"?(window.rollbar=c,window._rollbarDidLoad=!0):typeof self<"u"&&(self.rollbar=c,self._rollbarDidLoad=!0);i.exports=c},403:(i,a,o)=>{var c=o(562),s=o(702),d=o(815),l=o(802),u=o(349),h=o(477),g=o(509),p=o(860),m=o(417),E=o(172),f=o(61),k=o(303);function y(v,I){this.options=s.handleOptions(b,v,null,l),this.options._configuredOptions=v;var R=this.components.telemeter,O=this.components.instrumenter,D=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var M=this.components.truncation,L=new h(M),P=new d(this.options,L,g,M);R&&(this.telemeter=new R(this.options)),this.client=I||new c(this.options,P,l,this.telemeter,"browser");var F=w(),N=typeof document<"u"&&document;this.isChrome=F.chrome&&F.chrome.runtime,this.anonymousErrorsPending=0,function($,j,U){$.addTransform(p.handleDomException).addTransform(p.handleItemWithError).addTransform(p.ensureItemHasSomethingToSay).addTransform(p.addBaseInfo).addTransform(p.addRequestInfo(U)).addTransform(p.addClientInfo(U)).addTransform(p.addPluginInfo(U)).addTransform(p.addBody).addTransform(m.addMessageWithError).addTransform(m.addTelemetryData).addTransform(m.addConfigToPayload).addTransform(p.addScrubber(j.scrub)).addTransform(m.addPayloadOptions).addTransform(m.userTransform(l)).addTransform(m.addConfiguredOptions).addTransform(m.addDiagnosticKeys).addTransform(m.itemToPayload)}(this.client.notifier,this,F),this.client.queue.addPredicate(f.checkLevel).addPredicate(E.checkIgnore).addPredicate(f.userCheckIgnore(l)).addPredicate(f.urlIsNotBlockListed(l)).addPredicate(f.urlIsSafeListed(l)).addPredicate(f.messageIsIgnored(l)),this.setupUnhandledCapture(),O&&(this.instrumenter=new O(this.options,this.client.telemeter,this,F,N),this.instrumenter.instrument()),s.setupJSON(D),this.rollbar=this}var T=null;function _(v){var I="Rollbar is not initialized";l.error(I),v&&v(new Error(I))}function x(v){for(var I=0,R=v.length;I<R;++I)if(s.isFunction(v[I]))return v[I]}function w(){return typeof window<"u"&&window||typeof self<"u"&&self}y.init=function(v,I){return T?T.global(v).configure(v):T=new y(v,I)},y.prototype.components={},y.setComponents=function(v){y.prototype.components=v},y.prototype.global=function(v){return this.client.global(v),this},y.global=function(v){if(T)return T.global(v);_()},y.prototype.configure=function(v,I){var R=this.options,O={};return I&&(O={payload:I}),this.options=s.handleOptions(R,v,O,l),this.options._configuredOptions=s.handleOptions(R._configuredOptions,v,O),this.client.configure(this.options,I),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},y.configure=function(v,I){if(T)return T.configure(v,I);_()},y.prototype.lastError=function(){return this.client.lastError},y.lastError=function(){if(T)return T.lastError();_()},y.prototype.log=function(){var v=this._createItem(arguments),I=v.uuid;return this.client.log(v),{uuid:I}},y.log=function(){if(T)return T.log.apply(T,arguments);_(x(arguments))},y.prototype.debug=function(){var v=this._createItem(arguments),I=v.uuid;return this.client.debug(v),{uuid:I}},y.debug=function(){if(T)return T.debug.apply(T,arguments);_(x(arguments))},y.prototype.info=function(){var v=this._createItem(arguments),I=v.uuid;return this.client.info(v),{uuid:I}},y.info=function(){if(T)return T.info.apply(T,arguments);_(x(arguments))},y.prototype.warn=function(){var v=this._createItem(arguments),I=v.uuid;return this.client.warn(v),{uuid:I}},y.warn=function(){if(T)return T.warn.apply(T,arguments);_(x(arguments))},y.prototype.warning=function(){var v=this._createItem(arguments),I=v.uuid;return this.client.warning(v),{uuid:I}},y.warning=function(){if(T)return T.warning.apply(T,arguments);_(x(arguments))},y.prototype.error=function(){var v=this._createItem(arguments),I=v.uuid;return this.client.error(v),{uuid:I}},y.error=function(){if(T)return T.error.apply(T,arguments);_(x(arguments))},y.prototype.critical=function(){var v=this._createItem(arguments),I=v.uuid;return this.client.critical(v),{uuid:I}},y.critical=function(){if(T)return T.critical.apply(T,arguments);_(x(arguments))},y.prototype.buildJsonPayload=function(v){return this.client.buildJsonPayload(v)},y.buildJsonPayload=function(){if(T)return T.buildJsonPayload.apply(T,arguments);_()},y.prototype.sendJsonPayload=function(v){return this.client.sendJsonPayload(v)},y.sendJsonPayload=function(){if(T)return T.sendJsonPayload.apply(T,arguments);_()},y.prototype.setupUnhandledCapture=function(){var v=w();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(u.captureUncaughtExceptions(v,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(v,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(u.captureUnhandledRejections(v,this),this.unhandledRejectionsInitialized=!0)},y.prototype.handleUncaughtException=function(v,I,R,O,D,M){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&D===null&&I==="")return"anonymous";var L,P=s.makeUnhandledStackInfo(v,I,R,O,D,"onerror","uncaught exception",k);s.isError(D)?(L=this._createItem([v,D,M]))._unhandledStackInfo=P:s.isError(I)?(L=this._createItem([v,I,M]))._unhandledStackInfo=P:(L=this._createItem([v,M])).stackInfo=P,L.level=this.options.uncaughtErrorLevel,L._isUncaught=!0,this.client.log(L)}},y.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var v=this;try{Error.prepareStackTrace=function(I,R){if(v.options.inspectAnonymousErrors&&v.anonymousErrorsPending){if(v.anonymousErrorsPending-=1,!I)return;I._isAnonymous=!0,v.handleUncaughtException(I.message,null,null,null,I)}return I.stack}}catch(I){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",I)}}},y.prototype.handleUnhandledRejection=function(v,I){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var R="unhandled rejection was null or undefined!";if(v)if(v.message)R=v.message;else{var O=s.stringify(v);O.value&&(R=O.value)}var D,M=v&&v._rollbarContext||I&&I._rollbarContext;s.isError(v)?D=this._createItem([R,v,M]):(D=this._createItem([R,v,M])).stackInfo=s.makeUnhandledStackInfo(R,"",0,0,null,"unhandledrejection","",k),D.level=this.options.uncaughtErrorLevel,D._isUncaught=!0,D._originalArgs=D._originalArgs||[],D._originalArgs.push(I),this.client.log(D)}},y.prototype.wrap=function(v,I,R){try{var O;if(O=s.isFunction(I)?I:function(){return I||{}},!s.isFunction(v)||v._isWrap)return v;if(!v._rollbar_wrapped&&(v._rollbar_wrapped=function(){R&&s.isFunction(R)&&R.apply(this,arguments);try{return v.apply(this,arguments)}catch(L){var M=L;throw M&&window._rollbarWrappedError!==M&&(s.isType(M,"string")&&(M=new String(M)),M._rollbarContext=O()||{},M._rollbarContext._wrappedSource=v.toString(),window._rollbarWrappedError=M),M}},v._rollbar_wrapped._isWrap=!0,v.hasOwnProperty))for(var D in v)v.hasOwnProperty(D)&&D!=="_rollbar_wrapped"&&(v._rollbar_wrapped[D]=v[D]);return v._rollbar_wrapped}catch(M){return v}},y.wrap=function(v,I){if(T)return T.wrap(v,I);_()},y.prototype.captureEvent=function(){var v=s.createTelemetryEvent(arguments);return this.client.captureEvent(v.type,v.metadata,v.level)},y.captureEvent=function(){if(T)return T.captureEvent.apply(T,arguments);_()},y.prototype.captureDomContentLoaded=function(v,I){return I||(I=new Date),this.client.captureDomContentLoaded(I)},y.prototype.captureLoad=function(v,I){return I||(I=new Date),this.client.captureLoad(I)},y.prototype.loadFull=function(){l.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},y.prototype._createItem=function(v){return s.createItem(v,l,this)};var C=o(948),S=o(677),b={version:C.version,scrubFields:S.scrubFields,logLevel:C.logLevel,reportLevel:C.reportLevel,uncaughtErrorLevel:C.uncaughtErrorLevel,endpoint:C.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};i.exports=y},677:i=>{i.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},616:i=>{var a={ieVersion:function(){var o;if(typeof document>"u")return o;for(var c=3,s=document.createElement("div"),d=s.getElementsByTagName("i");s.innerHTML="<!--[if gt IE "+ ++c+"]><i></i><![endif]-->",d[0];);return c>4?c:o}};i.exports=a},300:i=>{function a(s){return(s.getAttribute("type")||"").toLowerCase()}function o(s){if(!s||!s.tagName)return"";var d=[s.tagName];s.id&&d.push("#"+s.id),s.classes&&d.push("."+s.classes.join("."));for(var l=0;l<s.attributes.length;l++)d.push("["+s.attributes[l].key+'="'+s.attributes[l].value+'"]');return d.join("")}function c(s){if(!s||!s.tagName)return null;var d,l,u,h,g={};g.tagName=s.tagName.toLowerCase(),s.id&&(g.id=s.id),(d=s.className)&&typeof d=="string"&&(g.classes=d.split(/\s+/));var p=["type","name","title","alt"];for(g.attributes=[],h=0;h<p.length;h++)l=p[h],(u=s.getAttribute(l))&&g.attributes.push({key:l,value:u});return g}i.exports={describeElement:c,descriptionToString:o,elementArrayToString:function(s){for(var d,l,u=[],h=0,g=s.length-1;g>=0;g--){if(d=o(s[g]),l=h+3*u.length+d.length,g<s.length-1&&l>=83){u.unshift("...");break}u.unshift(d),h+=d.length}return u.join(" > ")},treeToArray:function(s){for(var d,l=[],u=0;s&&u<5&&(d=c(s)).tagName!=="html";u++)l.unshift(d),s=s.parentNode;return l},getElementFromEvent:function(s,d){return s.target?s.target:d&&d.elementFromPoint?d.elementFromPoint(s.clientX,s.clientY):void 0},isDescribedElement:function(s,d,l){if(s.tagName.toLowerCase()!==d.toLowerCase())return!1;if(!l)return!0;s=a(s);for(var u=0;u<l.length;u++)if(l[u]===s)return!0;return!1},getElementType:a}},349:i=>{i.exports={captureUncaughtExceptions:function(a,o,c){if(a){var s;if(typeof o._rollbarOldOnError=="function")s=o._rollbarOldOnError;else if(a.onerror){for(s=a.onerror;s._rollbarOldOnError;)s=s._rollbarOldOnError;o._rollbarOldOnError=s}o.handleAnonymousErrors();var d=function(){var l=Array.prototype.slice.call(arguments,0);(function(u,h,g,p){u._rollbarWrappedError&&(p[4]||(p[4]=u._rollbarWrappedError),p[5]||(p[5]=u._rollbarWrappedError._rollbarContext),u._rollbarWrappedError=null);var m=h.handleUncaughtException.apply(h,p);g&&g.apply(u,p),m==="anonymous"&&(h.anonymousErrorsPending+=1)})(a,o,s,l)};c&&(d._rollbarOldOnError=s),a.onerror=d}},captureUnhandledRejections:function(a,o,c){if(a){typeof a._rollbarURH=="function"&&a._rollbarURH.belongsToShim&&a.removeEventListener("unhandledrejection",a._rollbarURH);var s=function(d){var l,u,h;try{l=d.reason}catch(g){l=void 0}try{u=d.promise}catch(g){u="[unhandledrejection] error getting `promise` from event"}try{h=d.detail,!l&&h&&(l=h.reason,u=h.promise)}catch(g){}l||(l="[unhandledrejection] error getting `reason` from event"),o&&o.handleUnhandledRejection&&o.handleUnhandledRejection(l,u)};s.belongsToShim=c,a._rollbarURH=s,a.addEventListener("unhandledrejection",s)}}}},802:(i,a,o)=>{o(276);var c=o(616),s=o(702);i.exports={error:function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("Rollbar:"),c.ieVersion()<=8?console.error(s.formatArgsAsString(d)):console.error.apply(console,d)},info:function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("Rollbar:"),c.ieVersion()<=8?console.info(s.formatArgsAsString(d)):console.info.apply(console,d)},log:function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("Rollbar:"),c.ieVersion()<=8?console.log(s.formatArgsAsString(d)):console.log.apply(console,d)}}},172:(i,a,o)=>{var c=o(702);i.exports={checkIgnore:function(s,d){return!c.get(d,"plugins.jquery.ignoreAjaxErrors")||!c.get(s,"body.message.extra.isAjax")}}},343:(i,a,o)=>{var c=o(403),s=o(773),d=o(568),l=o(876),u=o(965),h=o(369),g=o(473);c.setComponents({telemeter:s,instrumenter:d,polyfillJSON:l,wrapGlobals:u,scrub:h,truncation:g}),i.exports=c},568:(i,a,o)=>{var c=o(702),s=o(650),d=o(297),l=o(369),u=o(509),h=o(300),g={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function p(f,k){for(var y;f[k].length;)(y=f[k].shift())[0][y[1]]=y[2]}function m(f,k,y,T,_){this.options=f;var x=f.autoInstrument;f.enabled===!1||x===!1?this.autoInstrument={}:(c.isType(x,"object")||(x=g),this.autoInstrument=c.merge(g,x)),this.scrubTelemetryInputs=!!f.scrubTelemetryInputs,this.telemetryScrubber=f.telemetryScrubber,this.defaultValueScrubber=function(w){for(var C=[],S=0;S<w.length;++S)C.push(new RegExp(w[S],"i"));return function(b){var v=function(R){if(!R||!R.attributes)return null;for(var O=R.attributes,D=0;D<O.length;++D)if(O[D].key==="name")return O[D].value;return null}(b);if(!v)return!1;for(var I=0;I<C.length;++I)if(C[I].test(v))return!0;return!1}}(f.scrubFields),this.telemeter=k,this.rollbar=y,this.diagnostic=y.client.notifier.diagnostic,this._window=T||{},this._document=_||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}function E(f){return typeof URL<"u"&&f instanceof URL}m.prototype.configure=function(f){this.options=c.merge(this.options,f);var k=f.autoInstrument,y=c.merge(this.autoInstrument);f.enabled===!1||k===!1?this.autoInstrument={}:(c.isType(k,"object")||(k=g),this.autoInstrument=c.merge(g,k)),this.instrument(y),f.scrubTelemetryInputs!==void 0&&(this.scrubTelemetryInputs=!!f.scrubTelemetryInputs),f.telemetryScrubber!==void 0&&(this.telemetryScrubber=f.telemetryScrubber)},m.prototype.instrument=function(f){!this.autoInstrument.network||f&&f.network?!this.autoInstrument.network&&f&&f.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||f&&f.log?!this.autoInstrument.log&&f&&f.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||f&&f.dom?!this.autoInstrument.dom&&f&&f.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||f&&f.navigation?!this.autoInstrument.navigation&&f&&f.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||f&&f.connectivity?!this.autoInstrument.connectivity&&f&&f.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||f&&f.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&f&&f.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},m.prototype.deinstrumentNetwork=function(){p(this.replacements,"network")},m.prototype.instrumentNetwork=function(){var f=this;function k(T,_){T in _&&c.isFunction(_[T])&&d(_,T,function(x){return f.rollbar.wrap(x)})}if("XMLHttpRequest"in this._window){var y=this._window.XMLHttpRequest.prototype;d(y,"open",function(T){return function(_,x){var w=E(x);return(c.isType(x,"string")||w)&&(x=w?x.toString():x,this.__rollbar_xhr?(this.__rollbar_xhr.method=_,this.__rollbar_xhr.url=x,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=c.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:_,url:x,status_code:null,start_time_ms:c.now(),end_time_ms:null}),T.apply(this,arguments)}},this.replacements,"network"),d(y,"setRequestHeader",function(T){return function(_,x){return this.__rollbar_xhr||(this.__rollbar_xhr={}),c.isType(_,"string")&&c.isType(x,"string")&&(f.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[_]=x),_.toLowerCase()==="content-type"&&(this.__rollbar_xhr.request_content_type=x)),T.apply(this,arguments)}},this.replacements,"network"),d(y,"send",function(T){return function(_){var x=this;function w(){if(x.__rollbar_xhr&&(x.__rollbar_xhr.status_code===null&&(x.__rollbar_xhr.status_code=0,f.autoInstrument.networkRequestBody&&(x.__rollbar_xhr.request=_),x.__rollbar_event=f.captureNetwork(x.__rollbar_xhr,"xhr",void 0)),x.readyState<2&&(x.__rollbar_xhr.start_time_ms=c.now()),x.readyState>3)){x.__rollbar_xhr.end_time_ms=c.now();var C=null;if(x.__rollbar_xhr.response_content_type=x.getResponseHeader("Content-Type"),f.autoInstrument.networkResponseHeaders){var S=f.autoInstrument.networkResponseHeaders;C={};try{var b,v;if(S===!0){var I=x.getAllResponseHeaders();if(I){var R,O,D=I.trim().split(/[\r\n]+/);for(v=0;v<D.length;v++)b=(R=D[v].split(": ")).shift(),O=R.join(": "),C[b]=O}}else for(v=0;v<S.length;v++)C[b=S[v]]=x.getResponseHeader(b)}catch(F){}}var M=null;if(f.autoInstrument.networkResponseBody)try{M=x.responseText}catch(F){}var L=null;(M||C)&&(L={},M&&(f.isJsonContentType(x.__rollbar_xhr.response_content_type)?L.body=f.scrubJson(M):L.body=M),C&&(L.headers=C)),L&&(x.__rollbar_xhr.response=L);try{var P=x.status;P=P===1223?204:P,x.__rollbar_xhr.status_code=P,x.__rollbar_event.level=f.telemeter.levelFromStatus(P),f.errorOnHttpStatus(x.__rollbar_xhr)}catch(F){}}}return k("onload",x),k("onerror",x),k("onprogress",x),"onreadystatechange"in x&&c.isFunction(x.onreadystatechange)?d(x,"onreadystatechange",function(C){return f.rollbar.wrap(C,void 0,w)}):x.onreadystatechange=w,x.__rollbar_xhr&&f.trackHttpErrors()&&(x.__rollbar_xhr.stack=new Error().stack),T.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&d(this._window,"fetch",function(T){return function(_,x){for(var w=new Array(arguments.length),C=0,S=w.length;C<S;C++)w[C]=arguments[C];var b,v=w[0],I="GET",R=E(v);c.isType(v,"string")||R?b=R?v.toString():v:v&&(b=v.url,v.method&&(I=v.method)),w[1]&&w[1].method&&(I=w[1].method);var O={method:I,url:b,status_code:null,start_time_ms:c.now(),end_time_ms:null};if(w[1]&&w[1].headers){var D=s(w[1].headers);O.request_content_type=D.get("Content-Type"),f.autoInstrument.networkRequestHeaders&&(O.request_headers=f.fetchHeaders(D,f.autoInstrument.networkRequestHeaders))}return f.autoInstrument.networkRequestBody&&(w[1]&&w[1].body?O.request=w[1].body:w[0]&&!c.isType(w[0],"string")&&w[0].body&&(O.request=w[0].body)),f.captureNetwork(O,"fetch",void 0),f.trackHttpErrors()&&(O.stack=new Error().stack),T.apply(this,w).then(function(M){O.end_time_ms=c.now(),O.status_code=M.status,O.response_content_type=M.headers.get("Content-Type");var L=null;f.autoInstrument.networkResponseHeaders&&(L=f.fetchHeaders(M.headers,f.autoInstrument.networkResponseHeaders));var P=null;return f.autoInstrument.networkResponseBody&&typeof M.text=="function"&&(P=M.clone().text()),(L||P)&&(O.response={},P&&(typeof P.then=="function"?P.then(function(F){F&&f.isJsonContentType(O.response_content_type)?O.response.body=f.scrubJson(F):O.response.body=F}):O.response.body=P),L&&(O.response.headers=L)),f.errorOnHttpStatus(O),M})}},this.replacements,"network")},m.prototype.captureNetwork=function(f,k,y){return f.request&&this.isJsonContentType(f.request_content_type)&&(f.request=this.scrubJson(f.request)),this.telemeter.captureNetwork(f,k,y)},m.prototype.isJsonContentType=function(f){return!!(f&&c.isType(f,"string")&&f.toLowerCase().includes("json"))},m.prototype.scrubJson=function(f){return JSON.stringify(l(JSON.parse(f),this.options.scrubFields))},m.prototype.fetchHeaders=function(f,k){var y={};try{var T;if(k===!0){if(typeof f.entries=="function")for(var _=f.entries(),x=_.next();!x.done;)y[x.value[0]]=x.value[1],x=_.next()}else for(T=0;T<k.length;T++){var w=k[T];y[w]=f.get(w)}}catch(C){}return y},m.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},m.prototype.errorOnHttpStatus=function(f){var k=f.status_code;if(k>=500&&this.autoInstrument.networkErrorOnHttp5xx||k>=400&&this.autoInstrument.networkErrorOnHttp4xx||k===0&&this.autoInstrument.networkErrorOnHttp0){var y=new Error("HTTP request failed with Status "+k);y.stack=f.stack,this.rollbar.error(y,{skipFrames:1})}},m.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var f;this.replacements.log.length;)f=this.replacements.log.shift(),this._window.console[f[0]]=f[1]},m.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var f=this,k=this._window.console,y=["debug","info","warn","error","log"];try{for(var T=0,_=y.length;T<_;T++)x(y[T])}catch(w){this.diagnostic.instrumentConsole={error:w.message}}}function x(w){var C=k[w],S=k,b=w==="warn"?"warning":w;k[w]=function(){var v=Array.prototype.slice.call(arguments),I=c.formatArgsAsString(v);f.telemeter.captureLog(I,b),C&&Function.prototype.apply.call(C,S,v)},f.replacements.log.push([w,C])}},m.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},m.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var f=this.handleClick.bind(this),k=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",f,!0),this.addListener("dom",this._window,"blur","onfocusout",k,!0)}},m.prototype.handleClick=function(f){try{var k=h.getElementFromEvent(f,this._document),y=k&&k.tagName,T=h.isDescribedElement(k,"a")||h.isDescribedElement(k,"button");y&&(T||h.isDescribedElement(k,"input",["button","submit"]))?this.captureDomEvent("click",k):h.isDescribedElement(k,"input",["checkbox","radio"])&&this.captureDomEvent("input",k,k.value,k.checked)}catch(_){}},m.prototype.handleBlur=function(f){try{var k=h.getElementFromEvent(f,this._document);k&&k.tagName&&(h.isDescribedElement(k,"textarea")?this.captureDomEvent("input",k,k.value):h.isDescribedElement(k,"select")&&k.options&&k.options.length?this.handleSelectInputChanged(k):h.isDescribedElement(k,"input")&&!h.isDescribedElement(k,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",k,k.value))}catch(y){}},m.prototype.handleSelectInputChanged=function(f){if(f.multiple)for(var k=0;k<f.options.length;k++)f.options[k].selected&&this.captureDomEvent("input",f,f.options[k].value);else f.selectedIndex>=0&&f.options[f.selectedIndex]&&this.captureDomEvent("input",f,f.options[f.selectedIndex].value)},m.prototype.captureDomEvent=function(f,k,y,T){if(y!==void 0)if(this.scrubTelemetryInputs||h.getElementType(k)==="password")y="[scrubbed]";else{var _=h.describeElement(k);this.telemetryScrubber?this.telemetryScrubber(_)&&(y="[scrubbed]"):this.defaultValueScrubber(_)&&(y="[scrubbed]")}var x=h.elementArrayToString(h.treeToArray(k));this.telemeter.captureDom(f,x,y,T)},m.prototype.deinstrumentNavigation=function(){var f=this._window.chrome;!(f&&f.app&&f.app.runtime)&&this._window.history&&this._window.history.pushState&&p(this.replacements,"navigation")},m.prototype.instrumentNavigation=function(){var f=this._window.chrome;if(!(f&&f.app&&f.app.runtime)&&this._window.history&&this._window.history.pushState){var k=this;d(this._window,"onpopstate",function(y){return function(){var T=k._location.href;k.handleUrlChange(k._lastHref,T),y&&y.apply(this,arguments)}},this.replacements,"navigation"),d(this._window.history,"pushState",function(y){return function(){var T=arguments.length>2?arguments[2]:void 0;return T&&k.handleUrlChange(k._lastHref,T+""),y.apply(this,arguments)}},this.replacements,"navigation")}},m.prototype.handleUrlChange=function(f,k){var y=u.parse(this._location.href),T=u.parse(k),_=u.parse(f);this._lastHref=k,y.protocol===T.protocol&&y.host===T.host&&(k=T.path+(T.hash||"")),y.protocol===_.protocol&&y.host===_.host&&(f=_.path+(_.hash||"")),this.telemeter.captureNavigation(f,k)},m.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):p(this.replacements,"connectivity"))},m.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var f=this;d(this._document.body,"ononline",function(k){return function(){f.telemeter.captureConnectivityChange("online"),k&&k.apply(this,arguments)}},this.replacements,"connectivity"),d(this._document.body,"onoffline",function(k){return function(){f.telemeter.captureConnectivityChange("offline"),k&&k.apply(this,arguments)}},this.replacements,"connectivity")}},m.prototype.handleCspEvent=function(f){var k="Security Policy Violation: blockedURI: "+f.blockedURI+", violatedDirective: "+f.violatedDirective+", effectiveDirective: "+f.effectiveDirective+", ";f.sourceFile&&(k+="location: "+f.sourceFile+", line: "+f.lineNumber+", col: "+f.columnNumber+", "),k+="originalPolicy: "+f.originalPolicy,this.telemeter.captureLog(k,"error"),this.handleCspError(k)},m.prototype.handleCspError=function(f){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(f)},m.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._document&&this.removeListeners("contentsecuritypolicy")},m.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._document){var f=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,"securitypolicyviolation",null,f,!1)}},m.prototype.addListener=function(f,k,y,T,_,x){k.addEventListener?(k.addEventListener(y,_,x),this.eventRemovers[f].push(function(){k.removeEventListener(y,_,x)})):T&&(k.attachEvent(T,_),this.eventRemovers[f].push(function(){k.detachEvent(T,_)}))},m.prototype.removeListeners=function(f){for(;this.eventRemovers[f].length;)this.eventRemovers[f].shift()()},i.exports=m},860:(i,a,o)=>{var c=o(702),s=o(303),d=o(802);function l(p,m,E){var f=p.message,k=p.custom;f||(f="Item sent with null or missing arguments.");var y={body:f};k&&(y.extra=c.merge(k)),c.set(p,"data.body",{message:y}),E(null,p)}function u(p){var m=p.stackInfo.stack;return m&&m.length===0&&p._unhandledStackInfo&&p._unhandledStackInfo.stack&&(m=p._unhandledStackInfo.stack),m}function h(p,m,E){var f=p&&p.data.description,k=p&&p.custom,y=u(p),T=s.guessErrorClass(m.message),_={exception:{class:g(m,T[0],E),message:T[1]}};if(f&&(_.exception.description=f),y){var x,w,C,S,b,v,I,R;for(y.length===0&&(_.exception.stack=m.rawStack,_.exception.raw=String(m.rawException)),_.frames=[],I=0;I<y.length;++I)w={filename:(x=y[I]).url?c.sanitizeUrl(x.url):"(unknown)",lineno:x.line||null,method:x.func&&x.func!=="?"?x.func:"[anonymous]",colno:x.column},E.sendFrameUrl&&(w.url=x.url),w.method&&w.method.endsWith&&w.method.endsWith("_rollbar_wrapped")||(C=S=b=null,(v=x.context?x.context.length:0)&&(R=Math.floor(v/2),S=x.context.slice(0,R),C=x.context[R],b=x.context.slice(R)),C&&(w.code=C),(S||b)&&(w.context={},S&&S.length&&(w.context.pre=S),b&&b.length&&(w.context.post=b)),x.args&&(w.args=x.args),_.frames.push(w));_.frames.reverse(),k&&(_.extra=c.merge(k))}return _}function g(p,m,E){return p.name?p.name:E.guessErrorClass?m:"(unknown)"}i.exports={handleDomException:function(p,m,E){if(p.err&&s.Stack(p.err).name==="DOMException"){var f=new Error;f.name=p.err.name,f.message=p.err.message,f.stack=p.err.stack,f.nested=p.err,p.err=f}E(null,p)},handleItemWithError:function(p,m,E){if(p.data=p.data||{},p.err)try{p.stackInfo=p.err._savedStackTrace||s.parse(p.err,p.skipFrames),m.addErrorContext&&function(f){var k=[],y=f.err;for(k.push(y);y.nested||y.cause;)y=y.nested||y.cause,k.push(y);c.addErrorContext(f,k)}(p)}catch(f){d.error("Error while parsing the error object.",f);try{p.message=p.err.message||p.err.description||p.message||String(p.err)}catch(k){p.message=String(p.err)||String(k)}delete p.err}E(null,p)},ensureItemHasSomethingToSay:function(p,m,E){p.message||p.stackInfo||p.custom||E(new Error("No message, stack info, or custom data"),null),E(null,p)},addBaseInfo:function(p,m,E){var f=m.payload&&m.payload.environment||m.environment;p.data=c.merge(p.data,{environment:f,level:p.level,endpoint:m.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:p.uuid,notifier:{name:"rollbar-browser-js",version:m.version},custom:p.custom}),E(null,p)},addRequestInfo:function(p){return function(m,E,f){var k={};p&&p.location&&(k.url=p.location.href,k.query_string=p.location.search);var y="$remote_ip";E.captureIp?E.captureIp!==!0&&(y+="_anonymize"):y=null,y&&(k.user_ip=y),Object.keys(k).length>0&&c.set(m,"data.request",k),f(null,m)}},addClientInfo:function(p){return function(m,E,f){if(!p)return f(null,m);var k=p.navigator||{},y=p.screen||{};c.set(m,"data.client",{runtime_ms:m.timestamp-p._rollbarStartTime,timestamp:Math.round(m.timestamp/1e3),javascript:{browser:k.userAgent,language:k.language,cookie_enabled:k.cookieEnabled,screen:{width:y.width,height:y.height}}}),f(null,m)}},addPluginInfo:function(p){return function(m,E,f){if(!p||!p.navigator)return f(null,m);for(var k,y=[],T=p.navigator.plugins||[],_=0,x=T.length;_<x;++_)k=T[_],y.push({name:k.name,description:k.description});c.set(m,"data.client.javascript.plugins",y),f(null,m)}},addBody:function(p,m,E){p.stackInfo?p.stackInfo.traceChain?function(f,k,y){for(var T=f.stackInfo.traceChain,_=[],x=T.length,w=0;w<x;w++){var C=h(f,T[w],k);_.push(C)}c.set(f,"data.body",{trace_chain:_}),y(null,f)}(p,m,E):function(f,k,y){var T=u(f);if(T){var _=h(f,f.stackInfo,k);c.set(f,"data.body",{trace:_}),y(null,f)}else{var x=f.stackInfo,w=s.guessErrorClass(x.message),C=g(x,w[0],k),S=w[1];f.message=C+": "+S,l(f,0,y)}}(p,m,E):l(p,0,E)},addScrubber:function(p){return function(m,E,f){if(p){var k=E.scrubFields||[],y=E.scrubPaths||[];m.data=p(m.data,k,y)}f(null,m)}}}},477:(i,a,o)=>{var c=o(702),s=o(656),d=o(86);function l(u){this.truncation=u}l.prototype.get=function(u,h,g,p,m){p&&c.isFunction(p)||(p=function(){}),c.addParamsAndAccessTokenToPath(u,h,g);var E=c.formatUrl(h);this._makeZoneRequest(u,E,"GET",null,p,m,h.timeout,h.transport)},l.prototype.post=function(u,h,g,p,m){if(p&&c.isFunction(p)||(p=function(){}),!g)return p(new Error("Cannot send empty request"));var E;if((E=this.truncation?this.truncation.truncate(g):c.stringify(g)).error)return p(E.error);var f=E.value,k=c.formatUrl(h);this._makeZoneRequest(u,k,"POST",f,p,m,h.timeout,h.transport)},l.prototype.postJsonPayload=function(u,h,g,p,m){p&&c.isFunction(p)||(p=function(){});var E=c.formatUrl(h);this._makeZoneRequest(u,E,"POST",g,p,m,h.timeout,h.transport)},l.prototype._makeZoneRequest=function(){var u=typeof window<"u"&&window||m!==void 0&&m,h=u&&u.Zone&&u.Zone.current,g=Array.prototype.slice.call(arguments);if(h&&h._name==="angular"){var p=h._parent,m=this;p.run(function(){m._makeRequest.apply(void 0,g)})}else this._makeRequest.apply(void 0,g)},l.prototype._makeRequest=function(u,h,g,p,m,E,f,k){if(typeof RollbarProxy<"u")return function(y,T){new RollbarProxy().sendJsonPayload(y,function(_){},function(_){T(new Error(_))})}(p,m);k==="fetch"?s(u,h,g,p,m,f):d(u,h,g,p,m,E,f)},i.exports=l},656:(i,a,o)=>{var c=o(802),s=o(702);i.exports=function(d,l,u,h,g,p){var m,E;s.isFiniteNumber(p)&&(m=new AbortController,E=setTimeout(function(){m.abort()},p)),fetch(l,{method:u,headers:{"Content-Type":"application/json","X-Rollbar-Access-Token":d,signal:m&&m.signal},body:h}).then(function(f){return E&&clearTimeout(E),f.json()}).then(function(f){g(null,f)}).catch(function(f){c.error(f.message),g(f)})}},86:(i,a,o)=>{var c=o(702),s=o(802);function d(l,u){var h=new Error(l);return h.code=u||"ENOTFOUND",h}i.exports=function(l,u,h,g,p,m,E){var f;if(!(f=m?m():function(){var T,_,x=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],w=x.length;for(_=0;_<w;_++)try{T=x[_]();break}catch(C){}return T}()))return p(new Error("No way to send a request"));try{try{var k=function(){try{if(k&&f.readyState===4){k=void 0;var T=c.jsonParse(f.responseText);if((w=f)&&w.status&&w.status===200)return void p(T.error,T.value);if(function(C){return C&&c.isType(C.status,"number")&&C.status>=400&&C.status<600}(f)){if(f.status===403){var _=T.value&&T.value.message;s.error(_)}p(new Error(String(f.status)))}else p(d("XHR response had no status code (likely connection failure)"))}}catch(C){var x;x=C&&C.stack?C:new Error(C),p(x)}var w};f.open(h,u,!0),f.setRequestHeader&&(f.setRequestHeader("Content-Type","application/json"),f.setRequestHeader("X-Rollbar-Access-Token",l)),c.isFiniteNumber(E)&&(f.timeout=E),f.onreadystatechange=k,f.send(g)}catch(T){if(typeof XDomainRequest<"u"){if(!window||!window.location)return p(new Error("No window available during request, unknown environment"));window.location.href.substring(0,5)==="http:"&&u.substring(0,5)==="https"&&(u="http"+u.substring(5));var y=new XDomainRequest;y.onprogress=function(){},y.ontimeout=function(){p(d("Request timed out","ETIMEDOUT"))},y.onerror=function(){p(new Error("Error during request"))},y.onload=function(){var _=c.jsonParse(y.responseText);p(_.error,_.value)},y.open(h,u,!0),y.send(g)}else p(new Error("Cannot find a method to transport a request"))}}catch(T){p(T)}}},509:i=>{i.exports={parse:function(a){var o,c,s={protocol:null,auth:null,host:null,path:null,hash:null,href:a,hostname:null,port:null,pathname:null,search:null,query:null};if((o=a.indexOf("//"))!==-1?(s.protocol=a.substring(0,o),c=o+2):c=0,(o=a.indexOf("@",c))!==-1&&(s.auth=a.substring(c,o),c=o+1),(o=a.indexOf("/",c))===-1){if((o=a.indexOf("?",c))===-1)return(o=a.indexOf("#",c))===-1?s.host=a.substring(c):(s.host=a.substring(c,o),s.hash=a.substring(o)),s.hostname=s.host.split(":")[0],s.port=s.host.split(":")[1],s.port&&(s.port=parseInt(s.port,10)),s;s.host=a.substring(c,o),s.hostname=s.host.split(":")[0],s.port=s.host.split(":")[1],s.port&&(s.port=parseInt(s.port,10)),c=o}else s.host=a.substring(c,o),s.hostname=s.host.split(":")[0],s.port=s.host.split(":")[1],s.port&&(s.port=parseInt(s.port,10)),c=o;if((o=a.indexOf("#",c))===-1?s.path=a.substring(c):(s.path=a.substring(c,o),s.hash=a.substring(o)),s.path){var d=s.path.split("?");s.pathname=d[0],s.query=d[1],s.search=s.query?"?"+s.query:null}return s}}},965:i=>{function a(o,c,s){if(c.hasOwnProperty&&c.hasOwnProperty("addEventListener")){for(var d=c.addEventListener;d._rollbarOldAdd&&d.belongsToShim;)d=d._rollbarOldAdd;var l=function(g,p,m){d.call(this,g,o.wrap(p),m)};l._rollbarOldAdd=d,l.belongsToShim=s,c.addEventListener=l;for(var u=c.removeEventListener;u._rollbarOldRemove&&u.belongsToShim;)u=u._rollbarOldRemove;var h=function(g,p,m){u.call(this,g,p&&p._rollbar_wrapped||p,m)};h._rollbarOldRemove=u,h.belongsToShim=s,c.removeEventListener=h}}i.exports=function(o,c,s){if(o){var d,l,u="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(d=0;d<u.length;++d)o[l=u[d]]&&o[l].prototype&&a(c,o[l].prototype,s)}}},948:i=>{i.exports={version:"2.26.4",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},303:(i,a,o)=>{var c=o(180),s=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function d(){return null}function l(h){var g={};return g._stackFrame=h,g.url=h.fileName,g.line=h.lineNumber,g.func=h.functionName,g.column=h.columnNumber,g.args=h.args,g.context=null,g}function u(h,g){return{stack:function(){var f=[];g=g||0;try{f=c.parse(h)}catch(T){f=[]}for(var k=[],y=g;y<f.length;y++)k.push(new l(f[y]));return k}(),message:h.message,name:(p=h,m=p.name&&p.name.length&&p.name,E=p.constructor.name&&p.constructor.name.length&&p.constructor.name,m&&E?m==="Error"?E:m:m||E),rawStack:h.stack,rawException:h};var p,m,E}i.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(h){if(!h||!h.match)return["Unknown error. There was no error message to display.",""];var g=h.match(s),p="(unknown)";return g&&(p=g[g.length-1],h=(h=h.replace((g[g.length-2]||"")+p+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[p,h]},gatherContext:d,parse:function(h,g){var p=h;if(p.nested||p.cause){for(var m=[];p;)m.push(new u(p,g)),p=p.nested||p.cause,g=0;return m[0].traceChain=m,m[0]}return new u(p,g)},Stack:u,Frame:l}},420:i=>{var a=Object.prototype.hasOwnProperty,o=Object.prototype.toString,c=function(s){if(!s||o.call(s)!=="[object Object]")return!1;var d,l=a.call(s,"constructor"),u=s.constructor&&s.constructor.prototype&&a.call(s.constructor.prototype,"isPrototypeOf");if(s.constructor&&!l&&!u)return!1;for(d in s);return d===void 0||a.call(s,d)};i.exports=function s(){var d,l,u,h,g,p={},m=null,E=arguments.length;for(d=0;d<E;d++)if((m=arguments[d])!=null)for(g in m)l=p[g],p!==(u=m[g])&&(u&&c(u)?(h=l&&c(l)?l:{},p[g]=s(h,u)):u!==void 0&&(p[g]=u));return p}},314:(i,a,o)=>{var c=o(702);function s(d,l){this.queue=d,this.options=l,this.transforms=[],this.diagnostic={}}s.prototype.configure=function(d){this.queue&&this.queue.configure(d);var l=this.options;return this.options=c.merge(l,d),this},s.prototype.addTransform=function(d){return c.isFunction(d)&&this.transforms.push(d),this},s.prototype.log=function(d,l){if(l&&c.isFunction(l)||(l=function(){}),!this.options.enabled)return l(new Error("Rollbar is not enabled"));this.queue.addPendingItem(d);var u=d.err;this._applyTransforms(d,function(h,g){if(h)return this.queue.removePendingItem(d),l(h,null);this.queue.addItem(g,l,u,d)}.bind(this))},s.prototype._applyTransforms=function(d,l){var u=-1,h=this.transforms.length,g=this.transforms,p=this.options,m=function(E,f){E?l(E,null):++u!==h?g[u](f,p,m):l(null,f)};m(null,d)},i.exports=s},61:(i,a,o)=>{var c=o(702);function s(l,u,h){if(!l)return!h;var g,p,m=l.frames;if(!m||m.length===0)return!h;for(var E=u.length,f=m.length,k=0;k<f;k++){if(g=m[k].filename,!c.isType(g,"string"))return!h;for(var y=0;y<E;y++)if(p=u[y],new RegExp(p).test(g))return!0}return!1}function d(l,u,h,g){var p,m,E=!1;h==="blocklist"&&(E=!0);try{if(p=E?u.hostBlockList:u.hostSafeList,m=c.get(l,"body.trace_chain")||[c.get(l,"body.trace")],!p||p.length===0||m.length===0||!m[0])return!E;for(var f=m.length,k=0;k<f;k++)if(s(m[k],p,E))return!0}catch(T){E?u.hostBlockList=null:u.hostSafeList=null;var y=E?"hostBlockList":"hostSafeList";return g.error("Error while reading your configuration's "+y+" option. Removing custom "+y+".",T),!E}return!1}i.exports={checkLevel:function(l,u){var h=l.level,g=c.LEVELS[h]||0,p=u.reportLevel;return!(g<(c.LEVELS[p]||0))},userCheckIgnore:function(l){return function(u,h){var g=!!u._isUncaught;delete u._isUncaught;var p=u._originalArgs;delete u._originalArgs;try{c.isFunction(h.onSendCallback)&&h.onSendCallback(g,p,u)}catch(m){h.onSendCallback=null,l.error("Error while calling onSendCallback, removing",m)}try{if(c.isFunction(h.checkIgnore)&&h.checkIgnore(g,p,u))return!1}catch(m){h.checkIgnore=null,l.error("Error while calling custom checkIgnore(), removing",m)}return!0}},urlIsNotBlockListed:function(l){return function(u,h){return!d(u,h,"blocklist",l)}},urlIsSafeListed:function(l){return function(u,h){return d(u,h,"safelist",l)}},messageIsIgnored:function(l){return function(u,h){var g,p,m,E,f,k;try{if(!(m=h.ignoredMessages)||m.length===0||(k=function(y){var T=y.body,_=[];if(T.trace_chain)for(var x=T.trace_chain,w=0;w<x.length;w++){var C=x[w];_.push(c.get(C,"exception.message"))}return T.trace&&_.push(c.get(T,"trace.exception.message")),T.message&&_.push(c.get(T,"message.body")),_}(u),k.length===0))return!0;for(E=m.length,g=0;g<E;g++)for(f=new RegExp(m[g],"gi"),p=0;p<k.length;p++)if(f.test(k[p]))return!1}catch(y){h.ignoredMessages=null,l.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},358:(i,a,o)=>{var c=o(702);function s(l,u,h,g){this.rateLimiter=l,this.api=u,this.logger=h,this.options=g,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}s.prototype.configure=function(l){this.api&&this.api.configure(l);var u=this.options;return this.options=c.merge(u,l),this},s.prototype.addPredicate=function(l){return c.isFunction(l)&&this.predicates.push(l),this},s.prototype.addPendingItem=function(l){this.pendingItems.push(l)},s.prototype.removePendingItem=function(l){var u=this.pendingItems.indexOf(l);u!==-1&&this.pendingItems.splice(u,1)},s.prototype.addItem=function(l,u,h,g){u&&c.isFunction(u)||(u=function(){});var p=this._applyPredicates(l);if(p.stop)return this.removePendingItem(g),void u(p.err);if(this._maybeLog(l,h),this.removePendingItem(g),this.options.transmit){this.pendingRequests.push(l);try{this._makeApiRequest(l,function(m,E){this._dequeuePendingRequest(l),u(m,E)}.bind(this))}catch(m){this._dequeuePendingRequest(l),u(m)}}else u(new Error("Transmit disabled"))},s.prototype.wait=function(l){c.isFunction(l)&&(this.waitCallback=l,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},s.prototype._applyPredicates=function(l){for(var u=null,h=0,g=this.predicates.length;h<g;h++)if(!(u=this.predicates[h](l,this.options))||u.err!==void 0)return{stop:!0,err:u.err};return{stop:!1,err:null}},s.prototype._makeApiRequest=function(l,u){var h=this.rateLimiter.shouldSend(l);h.shouldSend?this.api.postItem(l,function(g,p){g?this._maybeRetry(g,l,u):u(g,p)}.bind(this)):h.error?u(h.error):this.api.postItem(h.payload,u)};var d=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];s.prototype._maybeRetry=function(l,u,h){var g=!1;if(this.options.retryInterval){for(var p=0,m=d.length;p<m;p++)if(l.code===d[p]){g=!0;break}g&&c.isFiniteNumber(this.options.maxRetries)&&(u.retries=u.retries?u.retries+1:1,u.retries>this.options.maxRetries&&(g=!1))}g?this._retryApiRequest(u,h):h(l)},s.prototype._retryApiRequest=function(l,u){this.retryQueue.push({item:l,callback:u}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var h=this.retryQueue.shift();this._makeApiRequest(h.item,h.callback)}}.bind(this),this.options.retryInterval))},s.prototype._dequeuePendingRequest=function(l){var u=this.pendingRequests.indexOf(l);u!==-1&&(this.pendingRequests.splice(u,1),this._maybeCallWait())},s.prototype._maybeLog=function(l,u){if(this.logger&&this.options.verbose){var h=u;if(h=(h=h||c.get(l,"body.trace.exception.message"))||c.get(l,"body.trace_chain.0.exception.message"))return void this.logger.error(h);(h=c.get(l,"body.message.body"))&&this.logger.log(h)}},s.prototype._maybeCallWait=function(){return!(!c.isFunction(this.waitCallback)||this.pendingItems.length!==0||this.pendingRequests.length!==0||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))},i.exports=s},790:(i,a,o)=>{var c=o(702);function s(u){this.startTime=c.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(u)}function d(u,h,g){return!u.ignoreRateLimit&&h>=1&&g>h}function l(u,h,g,p,m,E,f){var k=null;return g&&(g=new Error(g)),g||p||(k=function(y,T,_,x,w){var C=T.environment||T.payload&&T.payload.environment,S={body:{message:{body:w?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:_,itemsPerMinute:x}}},language:"javascript",environment:C,notifier:{version:T.notifier&&T.notifier.version||T.version}};return y==="browser"?(S.platform="browser",S.framework="browser-js",S.notifier.name="rollbar-browser-js"):y==="server"?(S.framework=T.framework||"node-js",S.notifier.name=T.notifier.name):y==="react-native"&&(S.framework=T.framework||"react-native",S.notifier.name=T.notifier.name),S}(u,h,m,E,f)),{error:g,shouldSend:p,payload:k}}s.globalSettings={startTime:c.now(),maxItems:void 0,itemsPerMinute:void 0},s.prototype.configureGlobal=function(u){u.startTime!==void 0&&(s.globalSettings.startTime=u.startTime),u.maxItems!==void 0&&(s.globalSettings.maxItems=u.maxItems),u.itemsPerMinute!==void 0&&(s.globalSettings.itemsPerMinute=u.itemsPerMinute)},s.prototype.shouldSend=function(u,h){var g=(h=h||c.now())-this.startTime;(g<0||g>=6e4)&&(this.startTime=h,this.perMinCounter=0);var p=s.globalSettings.maxItems,m=s.globalSettings.itemsPerMinute;if(d(u,p,this.counter))return l(this.platform,this.platformOptions,p+" max items reached",!1);if(d(u,m,this.perMinCounter))return l(this.platform,this.platformOptions,m+" items per minute reached",!1);this.counter++,this.perMinCounter++;var E=!d(u,p,this.counter),f=E;return E=E&&!d(u,m,this.perMinCounter),l(this.platform,this.platformOptions,null,E,p,m,f)},s.prototype.setPlatformOptions=function(u,h){this.platform=u,this.platformOptions=h},i.exports=s},562:(i,a,o)=>{var c=o(790),s=o(358),d=o(314),l=o(702);function u(p,m,E,f,k){this.options=l.merge(p),this.logger=E,u.rateLimiter.configureGlobal(this.options),u.rateLimiter.setPlatformOptions(k,this.options),this.api=m,this.queue=new s(u.rateLimiter,m,E,this.options);var y=this.options.tracer||null;g(y)?(this.tracer=y,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new d(this.queue,this.options),this.telemeter=f,h(p),this.lastError=null,this.lastErrorHash="none"}function h(p){p.stackTraceLimit&&(Error.stackTraceLimit=p.stackTraceLimit)}function g(p){if(!p||!p.scope||typeof p.scope!="function")return!1;var m=p.scope();return!(!m||!m.active||typeof m.active!="function")}u.rateLimiter=new c({maxItems:0,itemsPerMinute:60}),u.prototype.global=function(p){return u.rateLimiter.configureGlobal(p),this},u.prototype.configure=function(p,m){var E=this.options,f={};m&&(f={payload:m}),this.options=l.merge(E,p,f);var k=this.options.tracer||null;return g(k)?(this.tracer=k,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),h(p),this.global(this.options),g(p.tracer)&&(this.tracer=p.tracer),this},u.prototype.log=function(p){var m=this._defaultLogLevel();return this._log(m,p)},u.prototype.debug=function(p){this._log("debug",p)},u.prototype.info=function(p){this._log("info",p)},u.prototype.warn=function(p){this._log("warning",p)},u.prototype.warning=function(p){this._log("warning",p)},u.prototype.error=function(p){this._log("error",p)},u.prototype.critical=function(p){this._log("critical",p)},u.prototype.wait=function(p){this.queue.wait(p)},u.prototype.captureEvent=function(p,m,E){return this.telemeter&&this.telemeter.captureEvent(p,m,E)},u.prototype.captureDomContentLoaded=function(p){return this.telemeter&&this.telemeter.captureDomContentLoaded(p)},u.prototype.captureLoad=function(p){return this.telemeter&&this.telemeter.captureLoad(p)},u.prototype.buildJsonPayload=function(p){return this.api.buildJsonPayload(p)},u.prototype.sendJsonPayload=function(p){this.api.postJsonPayload(p)},u.prototype._log=function(p,m){var E;if(m.callback&&(E=m.callback,delete m.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(m)){if(E){var f=new Error("ignored identical item");f.item=m,E(f)}}else try{this._addTracingInfo(m),m.level=m.level||p,this.telemeter&&this.telemeter._captureRollbarItem(m),m.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(m,E)}catch(k){E&&E(k),this.logger.error(k)}},u.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},u.prototype._sameAsLastError=function(p){if(!p._isUncaught)return!1;var m=function(E){var f=E.message||"",k=(E.err||{}).stack||String(E.err);return f+"::"+k}(p);return this.lastErrorHash===m||(this.lastError=p.err,this.lastErrorHash=m,!1)},u.prototype._addTracingInfo=function(p){if(this.tracer){var m=this.tracer.scope().active();if(function(k){if(!k||!k.context||typeof k.context!="function")return!1;var y=k.context();return!!(y&&y.toSpanId&&y.toTraceId&&typeof y.toSpanId=="function"&&typeof y.toTraceId=="function")}(m)){m.setTag("rollbar.error_uuid",p.uuid),m.setTag("rollbar.has_error",!0),m.setTag("error",!0),m.setTag("rollbar.item_url",`https://rollbar.com/item/uuid/?uuid=${p.uuid}`),m.setTag("rollbar.occurrence_url",`https://rollbar.com/occurrence/uuid/?uuid=${p.uuid}`);var E=m.context().toSpanId(),f=m.context().toTraceId();p.custom?(p.custom.opentracing_span_id=E,p.custom.opentracing_trace_id=f):p.custom={opentracing_span_id:E,opentracing_trace_id:f}}}},i.exports=u},369:(i,a,o)=>{var c=o(702),s=o(267);function d(l,u){var h=u.split("."),g=h.length-1;try{for(var p=0;p<=g;++p)p<g?l=l[h[p]]:l[h[p]]=c.redact()}catch(m){}}i.exports=function(l,u,h){if(u=u||[],h)for(var g=0;g<h.length;++g)d(l,h[g]);var p=function(f){for(var k,y=[],T=0;T<f.length;++T)k="^\\[?(%5[bB])?"+f[T]+"\\[?(%5[bB])?\\]?(%5[dD])?$",y.push(new RegExp(k,"i"));return y}(u),m=function(f){for(var k,y=[],T=0;T<f.length;++T)k="\\[?(%5[bB])?"+f[T]+"\\[?(%5[bB])?\\]?(%5[dD])?",y.push(new RegExp("("+k+"=)([^&\\n]+)","igm"));return y}(u);function E(f,k){return k+c.redact()}return s(l,function f(k,y,T){var _=function(x,w){var C;for(C=0;C<p.length;++C)if(p[C].test(x)){w=c.redact();break}return w}(k,y);return _===y?c.isType(y,"object")||c.isType(y,"array")?s(y,f,T):function(x){var w;if(c.isType(x,"string"))for(w=0;w<m.length;++w)x=x.replace(m[w],E);return x}(_):_})}},773:(i,a,o)=>{var c=o(702),s=100;function d(u){this.queue=[],this.options=c.merge(u);var h=this.options.maxTelemetryEvents||s;this.maxQueueSize=Math.max(0,Math.min(h,s))}function l(u,h){return h||{error:"error",manual:"info"}[u]||"info"}d.prototype.configure=function(u){var h=this.options;this.options=c.merge(h,u);var g=this.options.maxTelemetryEvents||s,p=Math.max(0,Math.min(g,s)),m=0;this.queue.length>p&&(m=this.queue.length-p),this.maxQueueSize=p,this.queue.splice(0,m)},d.prototype.copyEvents=function(){var u=Array.prototype.slice.call(this.queue,0);if(c.isFunction(this.options.filterTelemetry))try{for(var h=u.length;h--;)this.options.filterTelemetry(u[h])&&u.splice(h,1)}catch(g){this.options.filterTelemetry=null}return u},d.prototype.capture=function(u,h,g,p,m){var E={level:l(u,g),type:u,timestamp_ms:m||c.now(),body:h,source:"client"};p&&(E.uuid=p);try{if(c.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(E))return!1}catch(f){this.options.filterTelemetry=null}return this.push(E),E},d.prototype.captureEvent=function(u,h,g,p){return this.capture(u,h,g,p)},d.prototype.captureError=function(u,h,g,p){var m={message:u.message||String(u)};return u.stack&&(m.stack=u.stack),this.capture("error",m,h,g,p)},d.prototype.captureLog=function(u,h,g,p){return this.capture("log",{message:u},h,g,p)},d.prototype.captureNetwork=function(u,h,g,p){h=h||"xhr",u.subtype=u.subtype||h,p&&(u.request=p);var m=this.levelFromStatus(u.status_code);return this.capture("network",u,m,g)},d.prototype.levelFromStatus=function(u){return u>=200&&u<400?"info":u===0||u>=400?"error":"info"},d.prototype.captureDom=function(u,h,g,p,m){var E={subtype:u,element:h};return g!==void 0&&(E.value=g),p!==void 0&&(E.checked=p),this.capture("dom",E,"info",m)},d.prototype.captureNavigation=function(u,h,g){return this.capture("navigation",{from:u,to:h},"info",g)},d.prototype.captureDomContentLoaded=function(u){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,u&&u.getTime())},d.prototype.captureLoad=function(u){return this.capture("navigation",{subtype:"load"},"info",void 0,u&&u.getTime())},d.prototype.captureConnectivityChange=function(u,h){return this.captureNetwork({change:u},"connectivity",h)},d.prototype._captureRollbarItem=function(u){if(this.options.includeItemsInTelemetry)return u.err?this.captureError(u.err,u.level,u.uuid,u.timestamp):u.message?this.captureLog(u.message,u.level,u.uuid,u.timestamp):u.custom?this.capture("log",u.custom,u.level,u.uuid,u.timestamp):void 0},d.prototype.push=function(u){this.queue.push(u),this.queue.length>this.maxQueueSize&&this.queue.shift()},i.exports=d},417:(i,a,o)=>{var c=o(702);function s(d,l){c.isFunction(d[l])&&(d[l]=d[l].toString())}i.exports={itemToPayload:function(d,l,u){var h=d.data;d._isUncaught&&(h._isUncaught=!0),d._originalArgs&&(h._originalArgs=d._originalArgs),u(null,h)},addPayloadOptions:function(d,l,u){var h=l.payload||{};h.body&&delete h.body,d.data=c.merge(d.data,h),u(null,d)},addTelemetryData:function(d,l,u){d.telemetryEvents&&c.set(d,"data.body.telemetry",d.telemetryEvents),u(null,d)},addMessageWithError:function(d,l,u){if(d.message){var h="data.body.trace_chain.0",g=c.get(d,h);if(g||(h="data.body.trace",g=c.get(d,h)),g){if(!g.exception||!g.exception.description)return c.set(d,h+".exception.description",d.message),void u(null,d);var p=c.get(d,h+".extra")||{},m=c.merge(p,{message:d.message});c.set(d,h+".extra",m)}u(null,d)}else u(null,d)},userTransform:function(d){return function(l,u,h){var g=c.merge(l),p=null;try{c.isFunction(u.transform)&&(p=u.transform(g.data,l))}catch(m){return u.transform=null,d.error("Error while calling custom transform() function. Removing custom transform().",m),void h(null,l)}c.isPromise(p)?p.then(function(m){m&&(g.data=m),h(null,g)},function(m){h(m,l)}):h(null,g)}},addConfigToPayload:function(d,l,u){if(!l.sendConfig)return u(null,d);var h=c.get(d,"data.custom")||{};h._rollbarConfig=l,d.data.custom=h,u(null,d)},addConfiguredOptions:function(d,l,u){var h=l._configuredOptions;s(h,"transform"),s(h,"checkIgnore"),s(h,"onSendCallback"),delete h.accessToken,d.data.notifier.configured_options=h,u(null,d)},addDiagnosticKeys:function(d,l,u){var h=c.merge(d.notifier.client.notifier.diagnostic,d.diagnostic);if(c.get(d,"err._isAnonymous")&&(h.is_anonymous=!0),d._isUncaught&&(h.is_uncaught=d._isUncaught),d.err)try{h.raw_error={message:d.err.message,name:d.err.name,constructor_name:d.err.constructor&&d.err.constructor.name,filename:d.err.fileName,line:d.err.lineNumber,column:d.err.columnNumber,stack:d.err.stack}}catch(g){h.raw_error={failed:String(g)}}d.data.notifier.diagnostic=c.merge(d.data.notifier.diagnostic,h),u(null,d)}}},473:(i,a,o)=>{var c=o(702),s=o(267);function d(f,k){return[f,c.stringify(f,k)]}function l(f,k){var y=f.length;return y>2*k?f.slice(0,k).concat(f.slice(y-k)):f}function u(f,k,y){y=y===void 0?30:y;var T,_=f.data.body;if(_.trace_chain)for(var x=_.trace_chain,w=0;w<x.length;w++)T=l(T=x[w].frames,y),x[w].frames=T;else _.trace&&(T=l(T=_.trace.frames,y),_.trace.frames=T);return[f,c.stringify(f,k)]}function h(f,k){return k&&k.length>f?k.slice(0,f-3).concat("..."):k}function g(f,k,y){return k=s(k,function T(_,x,w){switch(c.typeName(x)){case"string":return h(f,x);case"object":case"array":return s(x,T,w);default:return x}}),[k,c.stringify(k,y)]}function p(f){return f.exception&&(delete f.exception.description,f.exception.message=h(255,f.exception.message)),f.frames=l(f.frames,1),f}function m(f,k){var y=f.data.body;if(y.trace_chain)for(var T=y.trace_chain,_=0;_<T.length;_++)T[_]=p(T[_]);else y.trace&&(y.trace=p(y.trace));return[f,c.stringify(f,k)]}function E(f,k){return c.maxByteSize(f)>k}i.exports={truncate:function(f,k,y){y=y===void 0?524288:y;for(var T,_,x,w=[d,u,g.bind(null,1024),g.bind(null,512),g.bind(null,256),m];T=w.shift();)if(f=(_=T(f,k))[0],(x=_[1]).error||!E(x.value,y))return x;return x},raw:d,truncateFrames:u,truncateStrings:g,maybeTruncateValue:h}},702:(i,a,o)=>{var c=o(420),s={};function d(w,C){return C===l(w)}function l(w){var C=typeof w;return C!=="object"?C:w?w instanceof Error?"error":{}.toString.call(w).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function u(w){return d(w,"function")}function h(w){var C=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),S=RegExp("^"+C+"$");return g(w)&&S.test(w)}function g(w){var C=typeof w;return w!=null&&(C=="object"||C=="function")}function p(){var w=x();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(C){var S=(w+16*Math.random())%16|0;return w=Math.floor(w/16),(C==="x"?S:7&S|8).toString(16)})}var m={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function E(w,C){var S,b;try{S=s.stringify(w)}catch(v){if(C&&u(C))try{S=C(w)}catch(I){b=I}else b=v}return{error:b,value:S}}function f(w,C){return function(S,b){try{C(S,b)}catch(v){w.error(v)}}}function k(w){return function C(S,b){var v,I,R,O={};try{for(I in S)(v=S[I])&&(d(v,"object")||d(v,"array"))?b.includes(v)?O[I]="Removed circular reference: "+l(v):((R=b.slice()).push(v),O[I]=C(v,R)):O[I]=v}catch(D){O="Failed cloning custom data: "+D.message}return O}(w,[w])}var y=["log","network","dom","navigation","error","manual"],T=["critical","error","warning","info","debug"];function _(w,C){for(var S=0;S<w.length;++S)if(w[S]===C)return!0;return!1}function x(){return Date.now?+Date.now():+new Date}i.exports={addParamsAndAccessTokenToPath:function(w,C,S){(S=S||{}).access_token=w;var b,v=[];for(b in S)Object.prototype.hasOwnProperty.call(S,b)&&v.push([b,S[b]].join("="));var I="?"+v.sort().join("&");(C=C||{}).path=C.path||"";var R,O=C.path.indexOf("?"),D=C.path.indexOf("#");O!==-1&&(D===-1||D>O)?(R=C.path,C.path=R.substring(0,O)+I+"&"+R.substring(O+1)):D!==-1?(R=C.path,C.path=R.substring(0,D)+I+R.substring(D)):C.path=C.path+I},createItem:function(w,C,S,b,v){for(var I,R,O,D,M,L,P=[],F=[],N=0,$=w.length;N<$;++N){var j=l(L=w[N]);switch(F.push(j),j){case"undefined":break;case"string":I?P.push(L):I=L;break;case"function":D=f(C,L);break;case"date":P.push(L);break;case"error":case"domexception":case"exception":R?P.push(L):R=L;break;case"object":case"array":if(L instanceof Error||typeof DOMException<"u"&&L instanceof DOMException){R?P.push(L):R=L;break}if(b&&j==="object"&&!M){for(var U=0,z=b.length;U<z;++U)if(L[b[U]]!==void 0){M=L;break}if(M)break}O?P.push(L):O=L;break;default:if(L instanceof Error||typeof DOMException<"u"&&L instanceof DOMException){R?P.push(L):R=L;break}P.push(L)}}O&&(O=k(O)),P.length>0&&(O||(O=k({})),O.extraArgs=k(P));var Y={message:I,err:R,custom:O,timestamp:x(),callback:D,notifier:S,diagnostic:{},uuid:p()};return function(Z,J){J&&J.level!==void 0&&(Z.level=J.level,delete J.level),J&&J.skipFrames!==void 0&&(Z.skipFrames=J.skipFrames,delete J.skipFrames)}(Y,O),b&&M&&(Y.request=M),v&&(Y.lambdaContext=v),Y._originalArgs=w,Y.diagnostic.original_arg_types=F,Y},addErrorContext:function(w,C){var S=w.data.custom||{},b=!1;try{for(var v=0;v<C.length;++v)C[v].hasOwnProperty("rollbarContext")&&(S=c(S,k(C[v].rollbarContext)),b=!0);b&&(w.data.custom=S)}catch(I){w.diagnostic.error_context="Failed: "+I.message}},createTelemetryEvent:function(w){for(var C,S,b,v,I=0,R=w.length;I<R;++I)switch(l(v=w[I])){case"string":!C&&_(y,v)?C=v:!b&&_(T,v)&&(b=v);break;case"object":S=v}return{type:C||"manual",metadata:S||{},level:b}},filterIp:function(w,C){if(w&&w.user_ip&&C!==!0){var S=w.user_ip;if(C)try{var b;if(S.indexOf(".")!==-1)(b=S.split(".")).pop(),b.push("0"),S=b.join(".");else if(S.indexOf(":")!==-1){if((b=S.split(":")).length>2){var v=b.slice(0,3),I=v[2].indexOf("/");I!==-1&&(v[2]=v[2].substring(0,I)),S=v.concat("0000:0000:0000:0000:0000").join(":")}}else S=null}catch(R){S=null}else S=null;w.user_ip=S}},formatArgsAsString:function(w){var C,S,b,v=[];for(C=0,S=w.length;C<S;++C){switch(l(b=w[C])){case"object":(b=(b=E(b)).error||b.value).length>500&&(b=b.substr(0,497)+"...");break;case"null":b="null";break;case"undefined":b="undefined";break;case"symbol":b=b.toString()}v.push(b)}return v.join(" ")},formatUrl:function(w,C){if(!(C=C||w.protocol)&&w.port&&(w.port===80?C="http:":w.port===443&&(C="https:")),C=C||"https:",!w.hostname)return null;var S=C+"//"+w.hostname;return w.port&&(S=S+":"+w.port),w.path&&(S+=w.path),S},get:function(w,C){if(w){var S=C.split("."),b=w;try{for(var v=0,I=S.length;v<I;++v)b=b[S[v]]}catch(R){b=void 0}return b}},handleOptions:function(w,C,S,b){var v=c(w,C,S);return v=function(I,R){return I.hostWhiteList&&!I.hostSafeList&&(I.hostSafeList=I.hostWhiteList,I.hostWhiteList=void 0,R&&R.log("hostWhiteList is deprecated. Use hostSafeList.")),I.hostBlackList&&!I.hostBlockList&&(I.hostBlockList=I.hostBlackList,I.hostBlackList=void 0,R&&R.log("hostBlackList is deprecated. Use hostBlockList.")),I}(v,b),!C||C.overwriteScrubFields||C.scrubFields&&(v.scrubFields=(w.scrubFields||[]).concat(C.scrubFields)),v},isError:function(w){return d(w,"error")||d(w,"exception")},isFiniteNumber:function(w){return Number.isFinite(w)},isFunction:u,isIterable:function(w){var C=l(w);return C==="object"||C==="array"},isNativeFunction:h,isObject:g,isString:function(w){return typeof w=="string"||w instanceof String},isType:d,isPromise:function(w){return g(w)&&d(w.then,"function")},jsonParse:function(w){var C,S;try{C=s.parse(w)}catch(b){S=b}return{error:S,value:C}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(w,C,S,b,v,I,R,O){var D={url:C||"",line:S,column:b};D.func=O.guessFunctionName(D.url,D.line),D.context=O.gatherContext(D.url,D.line);var M=typeof document<"u"&&document&&document.location&&document.location.href,L=typeof window<"u"&&window&&window.navigator&&window.navigator.userAgent;return{mode:I,message:v?String(v):w||R,url:M,stack:[D],useragent:L}},merge:c,now:x,redact:function(){return"********"},RollbarJSON:s,sanitizeUrl:function(w){var C=function(S){if(d(S,"string")){for(var b=m,v=b.parser[b.strictMode?"strict":"loose"].exec(S),I={},R=0,O=b.key.length;R<O;++R)I[b.key[R]]=v[R]||"";return I[b.q.name]={},I[b.key[12]].replace(b.q.parser,function(D,M,L){M&&(I[b.q.name][M]=L)}),I}}(w);return C?(C.anchor===""&&(C.source=C.source.replace("#","")),w=C.source.replace("?"+C.query,"")):"(unknown)"},set:function(w,C,S){if(w){var b=C.split("."),v=b.length;if(!(v<1))if(v!==1)try{for(var I=w[b[0]]||{},R=I,O=1;O<v-1;++O)I[b[O]]=I[b[O]]||{},I=I[b[O]];I[b[v-1]]=S,w[b[0]]=R}catch(D){return}else w[b[0]]=S}},setupJSON:function(w){u(s.stringify)&&u(s.parse)||(d(JSON,"undefined")||(w?(h(JSON.stringify)&&(s.stringify=JSON.stringify),h(JSON.parse)&&(s.parse=JSON.parse)):(u(JSON.stringify)&&(s.stringify=JSON.stringify),u(JSON.parse)&&(s.parse=JSON.parse))),u(s.stringify)&&u(s.parse)||w&&w(s))},stringify:E,maxByteSize:function(w){for(var C=0,S=w.length,b=0;b<S;b++){var v=w.charCodeAt(b);v<128?C+=1:v<2048?C+=2:v<65536&&(C+=3)}return C},typeName:l,uuid4:p}},650:i=>{function a(c){return typeof c!="string"&&(c=String(c)),c.toLowerCase()}function o(c){this.map={},c instanceof o?c.forEach(function(s,d){this.append(d,s)},this):Array.isArray(c)?c.forEach(function(s){this.append(s[0],s[1])},this):c&&Object.getOwnPropertyNames(c).forEach(function(s){this.append(s,c[s])},this)}o.prototype.append=function(c,s){c=a(c),s=function(l){return typeof l!="string"&&(l=String(l)),l}(s);var d=this.map[c];this.map[c]=d?d+", "+s:s},o.prototype.get=function(c){return c=a(c),this.has(c)?this.map[c]:null},o.prototype.has=function(c){return this.map.hasOwnProperty(a(c))},o.prototype.forEach=function(c,s){for(var d in this.map)this.map.hasOwnProperty(d)&&c.call(s,this.map[d],d,this)},o.prototype.entries=function(){var c=[];return this.forEach(function(s,d){c.push([d,s])}),function(s){return{next:function(){var d=s.shift();return{done:d===void 0,value:d}}}}(c)},i.exports=function(c){return typeof Headers>"u"?new o(c):new Headers(c)}},876:(i,a,o)=>{var c=o(708);i.exports=c},297:i=>{i.exports=function(a,o,c,s,d){var l=a[o];a[o]=c(l),s&&s[d].push([a,o,l])}},267:(i,a,o)=>{var c=o(702);i.exports=function(s,d,l){var u,h,g,p,m=c.isType(s,"object"),E=c.isType(s,"array"),f=[];if(l=l||{obj:[],mapped:[]},m){if(p=l.obj.indexOf(s),m&&p!==-1)return l.mapped[p]||l.obj[p];l.obj.push(s),p=l.obj.length-1}if(m)for(u in s)Object.prototype.hasOwnProperty.call(s,u)&&f.push(u);else if(E)for(g=0;g<s.length;++g)f.push(g);var k=m?{}:[],y=!0;for(g=0;g<f.length;++g)h=s[u=f[g]],k[u]=d(u,h,l),y=y&&k[u]===s[u];return m&&!y&&(l.mapped[p]=k),y?s:k}},708:i=>{i.exports=function(a){var o,c,s,d,l,u,h,g,p,m,E,f,k,y=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function T(C){return C<10?"0"+C:C}function _(){return this.valueOf()}function x(C){return y.lastIndex=0,y.test(C)?'"'+C.replace(y,function(S){var b=s[S];return typeof b=="string"?b:"\\u"+("0000"+S.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+C+'"'}function w(C,S){var b,v,I,R,O,D=o,M=S[C];switch(M&&typeof M=="object"&&typeof M.toJSON=="function"&&(M=M.toJSON(C)),typeof d=="function"&&(M=d.call(S,C,M)),typeof M){case"string":return x(M);case"number":return isFinite(M)?String(M):"null";case"boolean":case"null":return String(M);case"object":if(!M)return"null";if(o+=c,O=[],Object.prototype.toString.apply(M)==="[object Array]"){for(R=M.length,b=0;b<R;b+=1)O[b]=w(b,M)||"null";return I=O.length===0?"[]":o?`[
`+o+O.join(`,
`+o)+`
`+D+"]":"["+O.join(",")+"]",o=D,I}if(d&&typeof d=="object")for(R=d.length,b=0;b<R;b+=1)typeof d[b]=="string"&&(I=w(v=d[b],M))&&O.push(x(v)+(o?": ":":")+I);else for(v in M)Object.prototype.hasOwnProperty.call(M,v)&&(I=w(v,M))&&O.push(x(v)+(o?": ":":")+I);return I=O.length===0?"{}":o?`{
`+o+O.join(`,
`+o)+`
`+D+"}":"{"+O.join(",")+"}",o=D,I}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+T(this.getUTCMonth()+1)+"-"+T(this.getUTCDate())+"T"+T(this.getUTCHours())+":"+T(this.getUTCMinutes())+":"+T(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=_,Number.prototype.toJSON=_,String.prototype.toJSON=_),typeof a.stringify!="function"&&(s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a.stringify=function(C,S,b){var v;if(o="",c="",typeof b=="number")for(v=0;v<b;v+=1)c+=" ";else typeof b=="string"&&(c=b);if(d=S,S&&typeof S!="function"&&(typeof S!="object"||typeof S.length!="number"))throw new Error("JSON.stringify");return w("",{"":C})}),typeof a.parse!="function"&&(a.parse=(m={"\\":"\\",'"':'"',"/":"/",t:"	",n:`
`,r:"\r",f:"\f",b:"\b"},E={go:function(){l="ok"},firstokey:function(){g=p,l="colon"},okey:function(){g=p,l="colon"},ovalue:function(){l="ocomma"},firstavalue:function(){l="acomma"},avalue:function(){l="acomma"}},f={go:function(){l="ok"},ovalue:function(){l="ocomma"},firstavalue:function(){l="acomma"},avalue:function(){l="acomma"}},k={"{":{go:function(){u.push({state:"ok"}),h={},l="firstokey"},ovalue:function(){u.push({container:h,state:"ocomma",key:g}),h={},l="firstokey"},firstavalue:function(){u.push({container:h,state:"acomma"}),h={},l="firstokey"},avalue:function(){u.push({container:h,state:"acomma"}),h={},l="firstokey"}},"}":{firstokey:function(){var C=u.pop();p=h,h=C.container,g=C.key,l=C.state},ocomma:function(){var C=u.pop();h[g]=p,p=h,h=C.container,g=C.key,l=C.state}},"[":{go:function(){u.push({state:"ok"}),h=[],l="firstavalue"},ovalue:function(){u.push({container:h,state:"ocomma",key:g}),h=[],l="firstavalue"},firstavalue:function(){u.push({container:h,state:"acomma"}),h=[],l="firstavalue"},avalue:function(){u.push({container:h,state:"acomma"}),h=[],l="firstavalue"}},"]":{firstavalue:function(){var C=u.pop();p=h,h=C.container,g=C.key,l=C.state},acomma:function(){var C=u.pop();h.push(p),p=h,h=C.container,g=C.key,l=C.state}},":":{colon:function(){if(Object.hasOwnProperty.call(h,g))throw new SyntaxError("Duplicate key '"+g+'"');l="ovalue"}},",":{ocomma:function(){h[g]=p,l="okey"},acomma:function(){h.push(p),l="avalue"}},true:{go:function(){p=!0,l="ok"},ovalue:function(){p=!0,l="ocomma"},firstavalue:function(){p=!0,l="acomma"},avalue:function(){p=!0,l="acomma"}},false:{go:function(){p=!1,l="ok"},ovalue:function(){p=!1,l="ocomma"},firstavalue:function(){p=!1,l="acomma"},avalue:function(){p=!1,l="acomma"}},null:{go:function(){p=null,l="ok"},ovalue:function(){p=null,l="ocomma"},firstavalue:function(){p=null,l="acomma"},avalue:function(){p=null,l="acomma"}}},function(C,S){var b,v,I=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;l="go",u=[];try{for(;b=I.exec(C);)b[1]?k[b[1]][l]():b[2]?(p=+b[2],f[l]()):(v=b[3],p=v.replace(/\\(?:u(.{4})|([^u]))/g,function(R,O,D){return O?String.fromCharCode(parseInt(O,16)):m[D]}),E[l]()),C=C.slice(b[0].length)}catch(R){l=R}if(l!=="ok"||/[^\u0020\t\n\r]/.test(C))throw l instanceof SyntaxError?l:new SyntaxError("JSON");return typeof S=="function"?function R(O,D){var M,L,P=O[D];if(P&&typeof P=="object")for(M in p)Object.prototype.hasOwnProperty.call(P,M)&&((L=R(P,M))!==void 0?P[M]=L:delete P[M]);return S.call(O,D,P)}({"":p},""):p}))}}},r={},function i(a){var o=r[a];if(o!==void 0)return o.exports;var c=r[a]={exports:{}};return n[a].call(c.exports,c,c.exports,i),c.exports}(409);var n,r})})(ts);var ul=ts.exports;const es=jt(ul);var ll=!0,gi="Invariant failed";function ns(t,e){if(!t){if(ll)throw new Error(gi);var n=typeof e=="function"?e():e,r=n?"".concat(gi,": ").concat(n):gi;throw new Error(r)}}var rs={exports:{}},is={exports:{}},_t={};var os;function dl(){if(os)return _t;os=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,s=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,l=t?Symbol.for("react.forward_ref"):60112,u=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,p=t?Symbol.for("react.lazy"):60116,m=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,f=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function y(_){if(typeof _=="object"&&_!==null){var x=_.$$typeof;switch(x){case e:switch(_=_.type,_){case s:case d:case r:case a:case i:case u:return _;default:switch(_=_&&_.$$typeof,_){case c:case l:case p:case g:case o:return _;default:return x}}case n:return x}}}function T(_){return y(_)===d}return _t.AsyncMode=s,_t.ConcurrentMode=d,_t.ContextConsumer=c,_t.ContextProvider=o,_t.Element=e,_t.ForwardRef=l,_t.Fragment=r,_t.Lazy=p,_t.Memo=g,_t.Portal=n,_t.Profiler=a,_t.StrictMode=i,_t.Suspense=u,_t.isAsyncMode=function(_){return T(_)||y(_)===s},_t.isConcurrentMode=T,_t.isContextConsumer=function(_){return y(_)===c},_t.isContextProvider=function(_){return y(_)===o},_t.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},_t.isForwardRef=function(_){return y(_)===l},_t.isFragment=function(_){return y(_)===r},_t.isLazy=function(_){return y(_)===p},_t.isMemo=function(_){return y(_)===g},_t.isPortal=function(_){return y(_)===n},_t.isProfiler=function(_){return y(_)===a},_t.isStrictMode=function(_){return y(_)===i},_t.isSuspense=function(_){return y(_)===u},_t.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===d||_===a||_===i||_===u||_===h||typeof _=="object"&&_!==null&&(_.$$typeof===p||_.$$typeof===g||_.$$typeof===o||_.$$typeof===c||_.$$typeof===l||_.$$typeof===E||_.$$typeof===f||_.$$typeof===k||_.$$typeof===m)},_t.typeOf=y,_t}var hl={};var ss;function db(){return ss||(ss=1),hl}is.exports=dl();var as=is.exports;var yi,cs;function pl(){if(cs)return yi;cs=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function i(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var o={},c=0;c<10;c++)o["_"+String.fromCharCode(c)]=c;var s=Object.getOwnPropertyNames(o).map(function(l){return o[l]});if(s.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(l){d[l]=l}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch(l){return!1}}return yi=i()?Object.assign:function(a,o){for(var c,s=r(a),d,l=1;l<arguments.length;l++){c=Object(arguments[l]);for(var u in c)e.call(c,u)&&(s[u]=c[u]);if(t){d=t(c);for(var h=0;h<d.length;h++)n.call(c,d[h])&&(s[d[h]]=c[d[h]])}}return s},yi}var vi,us;function ls(){if(us)return vi;us=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vi=t,vi}var ds,hs;function fl(){return hs||(hs=1,ds=Function.call.bind(Object.prototype.hasOwnProperty)),ds}var bi,ps;function ml(){if(ps)return bi;ps=1;var t=function(){};if(!1)var e,n,r;function i(a,o,c,s,d){if(!1)var l,u,h,g}return i.resetWarningCache=function(){},bi=i,bi}var _i,fs;function hb(){if(fs)return _i;fs=1;var t=as,e=pl(),n=ls(),r=fl(),i=ml(),a=function(){};function o(){return null}return _i=function(c,s){var d=typeof Symbol=="function"&&Symbol.iterator,l="@@iterator";function u(N){var $=N&&(d&&N[d]||N[l]);if(typeof $=="function")return $}var h="<<anonymous>>",g={array:f("array"),bigint:f("bigint"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:k(),arrayOf:y,element:T(),elementType:_(),instanceOf:x,node:b(),objectOf:C,oneOf:w,oneOfType:S,shape:I,exact:R};function p(N,$){return N===$?N!==0||1/N===1/$:N!==N&&$!==$}function m(N,$){this.message=N,this.data=$&&typeof $=="object"?$:{},this.stack=""}m.prototype=Error.prototype;function E(N){if(!1)var $,j;function U(Y,Z,J,V,at,tt,xt){if(V=V||h,tt=tt||J,xt!==n){if(s){var Ut=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Ut.name="Invariant Violation",Ut}else if(!1)var te}return Z[J]==null?Y?Z[J]===null?new m("The "+at+" `"+tt+"` is marked as required "+("in `"+V+"`, but its value is `null`.")):new m("The "+at+" `"+tt+"` is marked as required in "+("`"+V+"`, but its value is `undefined`.")):null:N(Z,J,V,at,tt)}var z=U.bind(null,!1);return z.isRequired=U.bind(null,!0),z}function f(N){function $(j,U,z,Y,Z,J){var V=j[U],at=M(V);if(at!==N){var tt=L(V);return new m("Invalid "+Y+" `"+Z+"` of type "+("`"+tt+"` supplied to `"+z+"`, expected ")+("`"+N+"`."),{expectedType:N})}return null}return E($)}function k(){return E(o)}function y(N){function $(j,U,z,Y,Z){if(typeof N!="function")return new m("Property `"+Z+"` of component `"+z+"` has invalid PropType notation inside arrayOf.");var J=j[U];if(!Array.isArray(J)){var V=M(J);return new m("Invalid "+Y+" `"+Z+"` of type "+("`"+V+"` supplied to `"+z+"`, expected an array."))}for(var at=0;at<J.length;at++){var tt=N(J,at,z,Y,Z+"["+at+"]",n);if(tt instanceof Error)return tt}return null}return E($)}function T(){function N($,j,U,z,Y){var Z=$[j];if(!c(Z)){var J=M(Z);return new m("Invalid "+z+" `"+Y+"` of type "+("`"+J+"` supplied to `"+U+"`, expected a single ReactElement."))}return null}return E(N)}function _(){function N($,j,U,z,Y){var Z=$[j];if(!t.isValidElementType(Z)){var J=M(Z);return new m("Invalid "+z+" `"+Y+"` of type "+("`"+J+"` supplied to `"+U+"`, expected a single ReactElement type."))}return null}return E(N)}function x(N){function $(j,U,z,Y,Z){if(!(j[U]instanceof N)){var J=N.name||h,V=F(j[U]);return new m("Invalid "+Y+" `"+Z+"` of type "+("`"+V+"` supplied to `"+z+"`, expected ")+("instance of `"+J+"`."))}return null}return E($)}function w(N){if(!Array.isArray(N))return o;function $(j,U,z,Y,Z){for(var J=j[U],V=0;V<N.length;V++)if(p(J,N[V]))return null;var at=JSON.stringify(N,function(tt,xt){var Ut=L(xt);return Ut==="symbol"?String(xt):xt});return new m("Invalid "+Y+" `"+Z+"` of value `"+String(J)+"` "+("supplied to `"+z+"`, expected one of "+at+"."))}return E($)}function C(N){function $(j,U,z,Y,Z){if(typeof N!="function")return new m("Property `"+Z+"` of component `"+z+"` has invalid PropType notation inside objectOf.");var J=j[U],V=M(J);if(V!=="object")return new m("Invalid "+Y+" `"+Z+"` of type "+("`"+V+"` supplied to `"+z+"`, expected an object."));for(var at in J)if(r(J,at)){var tt=N(J,at,z,Y,Z+"."+at,n);if(tt instanceof Error)return tt}return null}return E($)}function S(N){if(!Array.isArray(N))return o;for(var $=0;$<N.length;$++){var j=N[$];if(typeof j!="function")return a("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+P(j)+" at index "+$+"."),o}function U(z,Y,Z,J,V){for(var at=[],tt=0;tt<N.length;tt++){var xt=N[tt],Ut=xt(z,Y,Z,J,V,n);if(Ut==null)return null;Ut.data&&r(Ut.data,"expectedType")&&at.push(Ut.data.expectedType)}var te=at.length>0?", expected one of type ["+at.join(", ")+"]":"";return new m("Invalid "+J+" `"+V+"` supplied to "+("`"+Z+"`"+te+"."))}return E(U)}function b(){function N($,j,U,z,Y){return O($[j])?null:new m("Invalid "+z+" `"+Y+"` supplied to "+("`"+U+"`, expected a ReactNode."))}return E(N)}function v(N,$,j,U,z){return new m((N||"React class")+": "+$+" type `"+j+"."+U+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+z+"`.")}function I(N){function $(j,U,z,Y,Z){var J=j[U],V=M(J);if(V!=="object")return new m("Invalid "+Y+" `"+Z+"` of type `"+V+"` "+("supplied to `"+z+"`, expected `object`."));for(var at in N){var tt=N[at];if(typeof tt!="function")return v(z,Y,Z,at,L(tt));var xt=tt(J,at,z,Y,Z+"."+at,n);if(xt)return xt}return null}return E($)}function R(N){function $(j,U,z,Y,Z){var J=j[U],V=M(J);if(V!=="object")return new m("Invalid "+Y+" `"+Z+"` of type `"+V+"` "+("supplied to `"+z+"`, expected `object`."));var at=e({},j[U],N);for(var tt in at){var xt=N[tt];if(r(N,tt)&&typeof xt!="function")return v(z,Y,Z,tt,L(xt));if(!xt)return new m("Invalid "+Y+" `"+Z+"` key `"+tt+"` supplied to `"+z+"`.\nBad object: "+JSON.stringify(j[U],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(N),null,"  "));var Ut=xt(J,tt,z,Y,Z+"."+tt,n);if(Ut)return Ut}return null}return E($)}function O(N){switch(typeof N){case"number":case"string":case"undefined":return!0;case"boolean":return!N;case"object":if(Array.isArray(N))return N.every(O);if(N===null||c(N))return!0;var $=u(N);if($){var j=$.call(N),U;if($!==N.entries){for(;!(U=j.next()).done;)if(!O(U.value))return!1}else for(;!(U=j.next()).done;){var z=U.value;if(z&&!O(z[1]))return!1}}else return!1;return!0;default:return!1}}function D(N,$){return N==="symbol"?!0:$?$["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&$ instanceof Symbol:!1}function M(N){var $=typeof N;return Array.isArray(N)?"array":N instanceof RegExp?"object":D($,N)?"symbol":$}function L(N){if(typeof N>"u"||N===null)return""+N;var $=M(N);if($==="object"){if(N instanceof Date)return"date";if(N instanceof RegExp)return"regexp"}return $}function P(N){var $=L(N);switch($){case"array":case"object":return"an "+$;case"boolean":case"date":case"regexp":return"a "+$;default:return $}}function F(N){return!N.constructor||!N.constructor.name?h:N.constructor.name}return g.checkPropTypes=i,g.resetWarningCache=i.resetWarningCache,g.PropTypes=g,g},_i}var Si,ms;function gl(){if(ms)return Si;ms=1;var t=ls();function e(){}function n(){}return n.resetWarningCache=e,Si=function(){function r(o,c,s,d,l,u){if(u!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Si}if(!1)var pb,fb;else rs.exports=gl()();var yl=rs.exports;const ie=jt(yl);var mr=cl;function wi(t,e){if(typeof t=="function"){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t.apply(void 0,r)}return t}function vl(t){return mr[t]>=mr[Zo]&&mr[t]<=mr[Qo]}function gs(t){var e;return!!(t!=null&&(e=t.options)!==null&&e!==void 0&&e.accessToken)}var ki=(0,it.createContext)();ki.displayName="Rollbar";var ys=Symbol("RollbarInstance"),bl=Symbol("BaseOptions"),_l=Symbol("RollbarCtor");function Sl(t){var e=t[ys];return e}var vs=function(t){Ko(e,t);function e(n){var r;fe(this,e),r=qt(this,e,[n]);var i=r.props,a=i.config,o=i.Rollbar,c=o===void 0?es:o,s=i.instance;ns(!s||gs(s),"`instance` must be a configured instance of Rollbar");var d=typeof a=="function"?a():a,l=s||new c(d);return r.state={rollbar:l,options:d},r}return en(e,[{key:"render",value:function(){var n=this.props,r=n.children,i=n.Rollbar,a=i===void 0?es:i,o=this.state,c=o.rollbar,s=o.options;return it.createElement(ki.Provider,{value:re(re(re({},ys,c),bl,s),_l,a)},r)}}]),e}(it.Component);re(vs,"propTypes",{Rollbar:ie.func,config:function(t,e,n){if(!t.config&&!t.instance)return new Error("One of the required props 'config' or 'instance' must be set for ".concat(n,"."));if(t.config){var r=Wt(t.config);return r==="function"||r==="object"&&!Array.isArray(r)?void 0:new Error("".concat(e," must be either an Object or a Function"))}},instance:function(t,e,n){if(!t.config&&!t.instance)return new Error("One of the required props 'config' or 'instance' must be set for ".concat(n,"."));if(t.instance&&!gs(t.instance))return new Error("".concat(e," must be a configured instance of Rollbar"))},children:ie.node});var bs={hasError:!1,error:null},gr=function(t){Ko(e,t);function e(n){var r;return fe(this,e),r=qt(this,e,[n]),re(Go(r),"resetError",function(){r.setState(bs)}),ns(vl(n.level),"".concat(n.level," is not a valid level setting for Rollbar")),r.state=pe({},bs),r}return en(e,[{key:"componentDidCatch",value:function(n,r){var i=this.props,a=i.errorMessage,o=i.extra,c=i.level,s=i.callback,d=wi(o,{},n,r),l=pe(pe({},r),d),u=wi(c,mi,n,r),h=Sl(this.context);if(!a)h[u](n,l,s);else{var g=wi(a,"",n,r);h[u](g,n,l,s)}}},{key:"render",value:function(){var n=this.state,r=n.hasError,i=n.error,a=this.props,o=a.fallbackUI,c=a.children;return r?o?it.createElement(o,{error:i,resetError:this.resetError}):null:c}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}}]),e}(it.Component);re(gr,"contextType",ki),re(gr,"propTypes",{fallbackUI:ie.elementType,errorMessage:ie.oneOfType([ie.string,ie.func]),extra:ie.oneOfType([ie.object,ie.func]),level:ie.oneOfType([ie.string,ie.func]),callback:ie.func,children:ie.node}),re(gr,"defaultProps",{level:mi});const _s=({children:t,rollbarKey:e,rollbarEnv:n,debug:r})=>{r&&(console.log("\u5F00\u542F\u8C03\u8BD5\u6A21\u5F0F"),console.log(`rollbarKey: ${e}`));const i={accessToken:e||"23b8e46f18bd4eecaee8855d44148de4",environment:n||"testenv"};return ut.jsx(vs,{config:i,children:ut.jsx(gr,{children:t})})},Ss=Object.prototype.toString;function xi(t){switch(Ss.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return De(t,Error)}}function gn(t,e){return Ss.call(t)===`[object ${e}]`}function Ei(t){return gn(t,"ErrorEvent")}function ws(t){return gn(t,"DOMError")}function wl(t){return gn(t,"DOMException")}function ke(t){return gn(t,"String")}function Ti(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Ii(t){return t===null||Ti(t)||typeof t!="object"&&typeof t!="function"}function yn(t){return gn(t,"Object")}function yr(t){return typeof Event<"u"&&De(t,Event)}function kl(t){return typeof Element<"u"&&De(t,Element)}function xl(t){return gn(t,"RegExp")}function vr(t){return!!(t&&t.then&&typeof t.then=="function")}function El(t){return yn(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function ks(t){return typeof t=="number"&&t!==t}function De(t,e){try{return t instanceof e}catch(n){return!1}}function xs(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function vn(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function Es(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const i=t[r];try{xs(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(a){n.push("[value cannot be serialized]")}}return n.join(e)}function Tl(t,e,n=!1){return ke(t)?xl(e)?e.test(t):ke(e)?n?t===e:t.includes(e):!1:!1}function bn(t,e=[],n=!1){return e.some(r=>Tl(t,r,n))}function Il(t,e,n=250,r,i,a,o){if(!a.exception||!a.exception.values||!o||!De(o.originalException,Error))return;const c=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;c&&(a.exception.values=Cl(Ci(t,e,i,o.originalException,r,a.exception.values,c,0),n))}function Ci(t,e,n,r,i,a,o,c){if(a.length>=n+1)return a;let s=[...a];if(De(r[i],Error)){Ts(o,c);const d=t(e,r[i]),l=s.length;Is(d,i,l,c),s=Ci(t,e,n,r[i],i,[d,...s],d,l)}return Array.isArray(r.errors)&&r.errors.forEach((d,l)=>{if(De(d,Error)){Ts(o,c);const u=t(e,d),h=s.length;Is(u,`errors[${l}]`,h,c),s=Ci(t,e,n,d,i,[u,...s],u,h)}}),s}function Ts(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism=X(A(A({},t.mechanism),t.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:e})}function Is(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism=X(A({},t.mechanism),{type:"chained",source:e,exception_id:n,parent_id:r})}function Cl(t,e){return t.map(n=>(n.value&&(n.value=vn(n.value,e)),n))}function br(t){return t&&t.Math==Math?t:void 0}const gt=typeof globalThis=="object"&&br(globalThis)||typeof window=="object"&&br(window)||typeof self=="object"&&br(self)||typeof global=="object"&&br(global)||function(){return this}()||{};function Oi(){return gt}function Cs(t,e,n){const r=n||gt,i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}const _n=Oi(),Ol=80;function Ue(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let a=0,o=0;const c=" > ",s=c.length;let d;const l=Array.isArray(e)?e:e.keyAttrs,u=!Array.isArray(e)&&e.maxStringLength||Ol;for(;n&&a++<r&&(d=Rl(n,l),!(d==="html"||a>1&&o+i.length*s+d.length>=u));)i.push(d),o+=d.length,n=n.parentNode;return i.reverse().join(c)}catch(n){return"<unknown>"}}function Rl(t,e){const n=t,r=[];let i,a,o,c,s;if(!n||!n.tagName)return"";if(_n.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const d=e&&e.length?e.filter(u=>n.getAttribute(u)).map(u=>[u,n.getAttribute(u)]):null;if(d&&d.length)d.forEach(u=>{r.push(`[${u[0]}="${u[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&ke(i))for(a=i.split(/\s+/),s=0;s<a.length;s++)r.push(`.${a[s]}`);const l=["aria-label","type","name","title","alt"];for(s=0;s<l.length;s++)o=l[s],c=n.getAttribute(o),c&&r.push(`[${o}="${c}"]`);return r.join("")}function Dl(){try{return _n.document.location.href}catch(t){return""}}function Ml(t){return _n.document&&_n.document.querySelector?_n.document.querySelector(t):null}function Os(t){if(!_n.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}const Sn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Nl="Sentry Logger ",Ri=["debug","info","warn","error","log","assert","trace"],_r={};function nn(t){if(!("console"in gt))return t();const e=gt.console,n={},r=Object.keys(_r);r.forEach(i=>{const a=_r[i];n[i]=e[i],e[i]=a});try{return t()}finally{r.forEach(i=>{e[i]=n[i]})}}function Al(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Sn?Ri.forEach(n=>{e[n]=(...r)=>{t&&nn(()=>{gt.console[n](`${Nl}[${n}]:`,...r)})}}):Ri.forEach(n=>{e[n]=()=>{}}),e}const H=Al(),Ll=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Pl(t){return t==="http"||t==="https"}function rn(t,e=!1){const{host:n,path:r,pass:i,port:a,projectId:o,protocol:c,publicKey:s}=t;return`${c}://${s}${e&&i?`:${i}`:""}@${n}${a?`:${a}`:""}/${r&&`${r}/`}${o}`}function jl(t){const e=Ll.exec(t);if(!e){nn(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,i="",a,o="",c]=e.slice(1);let s="",d=c;const l=d.split("/");if(l.length>1&&(s=l.slice(0,-1).join("/"),d=l.pop()),d){const u=d.match(/^\d+/);u&&(d=u[0])}return Rs({host:a,pass:i,path:s,projectId:d,port:o,protocol:n,publicKey:r})}function Rs(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function $l(t){if(!Sn)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(i=>t[i]?!1:(H.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Pl(r)?e&&isNaN(parseInt(e,10))?(H.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(H.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(H.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Ds(t){const e=typeof t=="string"?jl(t):Rs(t);if(!(!e||!$l(e)))return e}class xe extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Yt(t,e,n){if(!(e in t))return;const r=t[e],i=n(r);typeof i=="function"&&Ms(i,r),t[e]=i}function on(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(r){Sn&&H.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function Ms(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,on(t,"__sentry_original__",e)}catch(n){}}function Di(t){return t.__sentry_original__}function Fl(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function Ns(t){if(xi(t))return A({message:t.message,name:t.name,stack:t.stack},Ls(t));if(yr(t)){const e=A({type:t.type,target:As(t.target),currentTarget:As(t.currentTarget)},Ls(t));return typeof CustomEvent<"u"&&De(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function As(t){try{return kl(t)?Ue(t):Object.prototype.toString.call(t)}catch(e){return"<unknown>"}}function Ls(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function Hl(t,e=40){const n=Object.keys(Ns(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return vn(n[0],e);for(let r=n.length;r>0;r--){const i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:vn(i,e)}return""}function Kt(t){return Mi(t,new Map)}function Mi(t,e){if(Ul(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const i of Object.keys(t))typeof t[i]<"u"&&(r[i]=Mi(t[i],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(i=>{r.push(Mi(i,e))}),r}return t}function Ul(t){if(!yn(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch(e){return!0}}const Ps=50,js=/\(error: (.*)\)/,$s=/captureMessage|captureException/;function Fs(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const i=[],a=n.split(`
`);for(let o=r;o<a.length;o++){const c=a[o];if(c.length>1024)continue;const s=js.test(c)?c.replace(js,"$1"):c;if(!s.match(/\S*Error: /)){for(const d of e){const l=d(s);if(l){i.push(l);break}}if(i.length>=Ps)break}}return Bl(i)}}function ql(t){return Array.isArray(t)?Fs(...t):t}function Bl(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),$s.test(e[e.length-1].function||"")&&(e.pop(),$s.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,Ps).map(n=>X(A({},n),{filename:n.filename||e[e.length-1].filename,function:n.function||"?"}))}const Ni="<anonymous>";function Me(t){try{return!t||typeof t!="function"?Ni:t.name||Ni}catch(e){return Ni}}const Sr={},Hs={};function sn(t,e){Sr[t]=Sr[t]||[],Sr[t].push(e)}function an(t,e){Hs[t]||(e(),Hs[t]=!0)}function me(t,e){const n=t&&Sr[t];if(n)for(const r of n)try{r(e)}catch(i){Sn&&H.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Me(r)}
Error:`,i)}}function zl(t){const e="console";sn(e,t),an(e,Wl)}function Wl(){"console"in gt&&Ri.forEach(function(t){t in gt.console&&Yt(gt.console,t,function(e){return _r[t]=e,function(...n){me("console",{args:n,level:t});const r=_r[t];r&&r.apply(gt.console,n)}})})}function At(){const t=gt,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch(r){}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Us(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function qe(t){const{message:e,event_id:n}=t;if(e)return e;const r=Us(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ai(t,e,n){const r=t.exception=t.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=e||""),a.type||(a.type=n||"Error")}function Wn(t,e){const n=Us(t);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism=A(A(A({},r),i),e),e&&"data"in e){const a=A(A({},i&&i.data),e.data);n.mechanism.data=a}}function qs(t){if(t&&t.__sentry_captured__)return!0;try{on(t,"__sentry_captured__",!0)}catch(e){}return!1}function Bs(t){return Array.isArray(t)?t:[t]}const wn=gt,Yl=1e3;let zs,Li,Pi;function Ws(t){const e="dom";sn(e,t),an(e,Vl)}function Vl(){if(!wn.document)return;const t=me.bind(null,"dom"),e=Ys(t,!0);wn.document.addEventListener("click",e,!1),wn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=wn[n]&&wn[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Yt(r,"addEventListener",function(i){return function(a,o,c){if(a==="click"||a=="keypress")try{const s=this,d=s.__sentry_instrumentation_handlers__=s.__sentry_instrumentation_handlers__||{},l=d[a]=d[a]||{refCount:0};if(!l.handler){const u=Ys(t);l.handler=u,i.call(this,a,u,c)}l.refCount++}catch(s){}return i.call(this,a,o,c)}}),Yt(r,"removeEventListener",function(i){return function(a,o,c){if(a==="click"||a=="keypress")try{const s=this,d=s.__sentry_instrumentation_handlers__||{},l=d[a];l&&(l.refCount--,l.refCount<=0&&(i.call(this,a,l.handler,c),l.handler=void 0,delete d[a]),Object.keys(d).length===0&&delete s.__sentry_instrumentation_handlers__)}catch(s){}return i.call(this,a,o,c)}}))})}function Jl(t){if(t.type!==Li)return!1;try{if(!t.target||t.target._sentryId!==Pi)return!1}catch(e){}return!0}function Xl(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function Ys(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Kl(n);if(Xl(n.type,r))return;on(n,"_sentryCaptured",!0),r&&!r._sentryId&&on(r,"_sentryId",At());const i=n.type==="keypress"?"input":n.type;Jl(n)||(t({event:n,name:i,global:e}),Li=n.type,Pi=r?r._sentryId:void 0),clearTimeout(zs),zs=wn.setTimeout(()=>{Pi=void 0,Li=void 0},Yl)}}function Kl(t){try{return t.target}catch(e){return null}}const ji=Oi();function Vs(){if(!("fetch"in ji))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function $i(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Gl(){if(typeof EdgeRuntime=="string")return!0;if(!Vs())return!1;if($i(ji.fetch))return!0;let t=!1;const e=ji.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=$i(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Sn&&H.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function Fi(t){const e="fetch";sn(e,t),an(e,Zl)}function Zl(){Gl()&&Yt(gt,"fetch",function(t){return function(...e){const{method:n,url:r}=Ql(e),i={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return me("fetch",A({},i)),t.apply(gt,e).then(a=>{const o=X(A({},i),{endTimestamp:Date.now(),response:a});return me("fetch",o),a},a=>{const o=X(A({},i),{endTimestamp:Date.now(),error:a});throw me("fetch",o),a})}})}function Hi(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Js(t){return typeof t=="string"?t:t?Hi(t,"url")?t.url:t.toString?t.toString():"":""}function Ql(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:Js(n),method:Hi(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:Js(e),method:Hi(e,"method")?String(e.method).toUpperCase():"GET"}}let wr=null;function Xs(t){const e="error";sn(e,t),an(e,td)}function td(){wr=gt.onerror,gt.onerror=function(t,e,n,r,i){return me("error",{column:r,error:i,line:n,msg:t,url:e}),wr&&!wr.__SENTRY_LOADER__?wr.apply(this,arguments):!1},gt.onerror.__SENTRY_INSTRUMENTED__=!0}let kr=null;function Ks(t){const e="unhandledrejection";sn(e,t),an(e,ed)}function ed(){kr=gt.onunhandledrejection,gt.onunhandledrejection=function(t){return me("unhandledrejection",t),kr&&!kr.__SENTRY_LOADER__?kr.apply(this,arguments):!0},gt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const xr=Oi();function nd(){const t=xr.chrome,e=t&&t.app&&t.app.runtime,n="history"in xr&&!!xr.history.pushState&&!!xr.history.replaceState;return!e&&n}const Yn=gt;let Er;function Tr(t){const e="history";sn(e,t),an(e,rd)}function rd(){if(!nd())return;const t=Yn.onpopstate;Yn.onpopstate=function(...n){const r=Yn.location.href,i=Er;if(Er=r,me("history",{from:i,to:r}),t)try{return t.apply(this,n)}catch(a){}};function e(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const a=Er,o=String(i);Er=o,me("history",{from:a,to:o})}return n.apply(this,r)}}Yt(Yn.history,"pushState",e),Yt(Yn.history,"replaceState",e)}const id=gt,Be="__sentry_xhr_v3__";function Ui(t){const e="xhr";sn(e,t),an(e,od)}function od(){if(!id.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;Yt(t,"open",function(e){return function(...n){const r=Date.now(),i=ke(n[0])?n[0].toUpperCase():void 0,a=sd(n[1]);if(!i||!a)return e.apply(this,n);this[Be]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const c=this[Be];if(c&&this.readyState===4){try{c.status_code=this.status}catch(d){}const s={args:[i,a],endTimestamp:Date.now(),startTimestamp:r,xhr:this};me("xhr",s)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Yt(this,"onreadystatechange",function(c){return function(...s){return o(),c.apply(this,s)}}):this.addEventListener("readystatechange",o),Yt(this,"setRequestHeader",function(c){return function(...s){const[d,l]=s,u=this[Be];return u&&ke(d)&&ke(l)&&(u.request_headers[d.toLowerCase()]=l),c.apply(this,s)}}),e.apply(this,n)}}),Yt(t,"send",function(e){return function(...n){const r=this[Be];if(!r)return e.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return me("xhr",i),e.apply(this,n)}})}function sd(t){if(ke(t))return t;try{return t.toString()}catch(e){}}function ad(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function cd(){return"npm"}function ud(){return!ad()&&Object.prototype.toString.call(typeof oe<"u"?oe:0)==="[object process]"}function Gs(){return typeof window<"u"&&(!ud()||ld())}function ld(){return gt.process!==void 0&&gt.process.type==="renderer"}function dd(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let a=0;a<e.length;a++)if(e[a]===i)return!0;return e.push(i),!1}function r(i){if(t)e.delete(i);else for(let a=0;a<e.length;a++)if(e[a]===i){e.splice(a,1);break}}return[n,r]}function Ee(t,e=100,n=1/0){try{return qi("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Zs(t,e=3,n=100*1024){const r=Ee(t,e);return md(r)>n?Zs(t,e-1,n):r}function qi(t,e,n=1/0,r=1/0,i=dd()){const[a,o]=i;if(e==null||["number","boolean","string"].includes(typeof e)&&!ks(e))return e;const c=hd(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;const s=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(s===0)return c.replace("object ","");if(a(e))return"[Circular ~]";const d=e;if(d&&typeof d.toJSON=="function")try{const g=d.toJSON();return qi("",g,s-1,r,i)}catch(g){}const l=Array.isArray(e)?[]:{};let u=0;const h=Ns(e);for(const g in h){if(!Object.prototype.hasOwnProperty.call(h,g))continue;if(u>=r){l[g]="[MaxProperties ~]";break}const p=h[g];l[g]=qi(g,p,s-1,r,i),u++}return o(e),l}function hd(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(xs(e))return"[VueViewModel]";if(El(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${Me(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=pd(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function pd(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function fd(t){return~-encodeURI(t).split(/%..|./).length}function md(t){return fd(JSON.stringify(t))}var Ne;(function(t){t[t.PENDING=0]="PENDING";const e=1;t[t.RESOLVED=e]="RESOLVED";const n=2;t[t.REJECTED=n]="REJECTED"})(Ne||(Ne={}));function kn(t){return new se(e=>{e(t)})}function Bi(t){return new se((e,n)=>{n(t)})}class se{constructor(e){se.prototype.__init.call(this),se.prototype.__init2.call(this),se.prototype.__init3.call(this),se.prototype.__init4.call(this),this._state=Ne.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new se((r,i)=>{this._handlers.push([!1,a=>{if(!e)r(a);else try{r(e(a))}catch(o){i(o)}},a=>{if(!n)i(a);else try{r(n(a))}catch(o){i(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new se((n,r)=>{let i,a;return this.then(o=>{a=!1,i=o,e&&e()},o=>{a=!0,i=o,e&&e()}).then(()=>{if(a){r(i);return}n(i)})})}__init(){this._resolve=e=>{this._setResult(Ne.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Ne.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===Ne.PENDING){if(vr(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Ne.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Ne.RESOLVED&&n[1](this._value),this._state===Ne.REJECTED&&n[2](this._value),n[0]=!0)})}}}function gd(t){const e=[];function n(){return t===void 0||e.length<t}function r(o){return e.splice(e.indexOf(o),1)[0]}function i(o){if(!n())return Bi(new xe("Not adding Promise because buffer limit was reached."));const c=o();return e.indexOf(c)===-1&&e.push(c),c.then(()=>r(c)).then(null,()=>r(c).then(null,()=>{})),c}function a(o){return new se((c,s)=>{let d=e.length;if(!d)return c(!0);const l=setTimeout(()=>{o&&o>0&&c(!1)},o);e.forEach(u=>{kn(u).then(()=>{--d||(clearTimeout(l),c(!0))},s)})})}return{$:e,add:i,drain:a}}function Ir(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const yd=["fatal","error","warning","log","info","debug"];function vd(t){return t==="warn"?"warning":yd.includes(t)?t:"log"}const Qs=1e3;function Vn(){return Date.now()/Qs}function bd(){const{performance:t}=gt;if(!t||!t.now)return Vn;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/Qs}const Jn=bd(),ae=(()=>{const{performance:t}=gt;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,a=i<e,o=t.timing&&t.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):e,s=c<e;return a||s?i<=c?t.timeOrigin:o:r})(),zi="baggage",ta="sentry-",_d=/^sentry-/,Sd=8192;function wd(t){if(!ke(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((r,i)=>{const a=na(i);for(const o of Object.keys(a))r[o]=a[o];return r},{});else{if(!t)return;e=na(t)}const n=Object.entries(e).reduce((r,[i,a])=>{if(i.match(_d)){const o=i.slice(ta.length);r[o]=a}return r},{});if(Object.keys(n).length>0)return n}function ea(t){if(!t)return;const e=Object.entries(t).reduce((n,[r,i])=>(i&&(n[`${ta}${r}`]=i),n),{});return kd(e)}function na(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(e[n]=r,e),{})}function kd(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,r],i)=>{const a=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?a:`${e},${a}`;return o.length>Sd?(Sn&&H.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):o},"")}const xd=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ed(t){if(!t)return;const e=t.match(xd);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function Td(t,e){const n=Ed(t),r=wd(e),{traceId:i,parentSpanId:a,parentSampled:o}=n||{};return n?{traceId:i||At(),parentSpanId:a||At().substring(16),spanId:At().substring(16),sampled:o,dsc:r||{}}:{traceId:i||At(),spanId:At().substring(16)}}function Wi(t=At(),e=At().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function ze(t,e=[]){return[t,e]}function Id(t,e){const[n,r]=t;return[n,[...r,e]]}function ra(t,e){const n=t[1];for(const r of n){const i=r[0].type;if(e(r,i))return!0}return!1}function Yi(t,e){return(e||new TextEncoder).encode(t)}function Cd(t,e){const[n,r]=t;let i=JSON.stringify(n);function a(o){typeof i=="string"?i=typeof o=="string"?i+o:[Yi(i,e),o]:i.push(typeof o=="string"?Yi(o,e):o)}for(const o of r){const[c,s]=o;if(a(`
${JSON.stringify(c)}
`),typeof s=="string"||s instanceof Uint8Array)a(s);else{let d;try{d=JSON.stringify(s)}catch(l){d=JSON.stringify(Ee(s))}a(d)}}return typeof i=="string"?i:Od(i)}function Od(t){const e=t.reduce((i,a)=>i+a.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Rd(t,e){const n=typeof t.data=="string"?Yi(t.data,e):t.data;return[Kt({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const Dd={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"statsd"};function ia(t){return Dd[t]}function Vi(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function oa(t,e,n,r){const i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return A(A(A({event_id:t.event_id,sent_at:new Date().toISOString()},e&&{sdk:e}),!!n&&r&&{dsn:rn(r)}),i&&{trace:Kt(A({},i))})}function Md(t,e,n){const r=[{type:"client_report"},{timestamp:n||Vn(),discarded_events:t}];return ze(e?{dsn:e}:{},[r])}const Nd=60*1e3;function Ad(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?Nd:r-e}function Ld(t,e){return t[e]||t.all||0}function sa(t,e,n=Date.now()){return Ld(t,e)>n}function aa(t,{statusCode:e,headers:n},r=Date.now()){const i=A({},t),a=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(a)for(const c of a.trim().split(",")){const[s,d]=c.split(":",2),l=parseInt(s,10),u=(isNaN(l)?60:l)*1e3;if(!d)i.all=r+u;else for(const h of d.split(";"))i[h]=r+u}else o?i.all=r+Ad(o,r):e===429&&(i.all=r+60*1e3);return i}function Pd(t,e){return t!=null?t:e()}function Ji(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],a=t[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=a(n)):(i==="call"||i==="optionalCall")&&(n=a((...o)=>n.call(e,...o)),e=void 0)}return n}const G=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Cr="production";function Xi(){return Cs("globalEventProcessors",()=>[])}function jd(t){Xi().push(t)}function Or(t,e,n,r=0){return new se((i,a)=>{const o=t[r];if(e===null||typeof o!="function")i(e);else{const c=o(A({},e),n);G&&o.id&&c===null&&H.log(`Event processor "${o.id}" dropped event`),vr(c)?c.then(s=>Or(t,s,n,r+1).then(i)).then(null,a):Or(t,c,n,r+1).then(i).then(null,a)}})}function ca(t){const e=Jn(),n={sid:At(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>$d(n)};return t&&cn(n,t),n}function cn(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Jn(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:At()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function ua(t,e){let n={};e?n={status:e}:t.status==="ok"&&(n={status:"exited"}),cn(t,n)}function $d(t){return Kt({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const Fd=0,la=1;function Ki(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:i,parent_span_id:a,status:o,tags:c,origin:s}=Ft(t);return Kt({data:r,op:i,parent_span_id:a,span_id:e,status:o,tags:c,trace_id:n,origin:s})}function Rr(t){const{traceId:e,spanId:n}=t.spanContext(),r=Gi(t);return Wi(e,n,r)}function Dr(t){return typeof t=="number"?da(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?da(t.getTime()):Jn()}function da(t){return t>9999999999?t/1e3:t}function Ft(t){return Hd(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function Hd(t){return typeof t.getSpanJSON=="function"}function Gi(t){const{traceFlags:e}=t.spanContext();return!!(e&la)}function ha(t,e,n,r,i,a){const{normalizeDepth:o=3,normalizeMaxBreadth:c=1e3}=t,s=X(A({},e),{event_id:e.event_id||n.event_id||At(),timestamp:e.timestamp||Vn()}),d=n.integrations||t.integrations.map(m=>m.name);Ud(s,t),zd(s,d),e.type===void 0&&qd(s,t.stackParser);const l=Yd(r,n.captureContext);n.mechanism&&Wn(s,n.mechanism);const u=i&&i.getEventProcessors?i.getEventProcessors():[],h=ih().getScopeData();if(a){const m=a.getScopeData();Sa(h,m)}if(l){const m=l.getScopeData();Sa(h,m)}const g=[...n.attachments||[],...h.attachments];g.length&&(n.attachments=g),_a(s,h);const p=[...u,...Xi(),...h.eventProcessors];return Or(p,s,n).then(m=>(m&&Bd(m),typeof o=="number"&&o>0?Wd(m,o,c):m))}function Ud(t,e){const{environment:n,release:r,dist:i,maxValueLength:a=250}=e;"environment"in t||(t.environment="environment"in e?n:Cr),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&i!==void 0&&(t.dist=i),t.message&&(t.message=vn(t.message,a));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=vn(o.value,a));const c=t.request;c&&c.url&&(c.url=vn(c.url,a))}const pa=new WeakMap;function qd(t,e){const n=gt._sentryDebugIds;if(!n)return;let r;const i=pa.get(e);i?r=i:(r=new Map,pa.set(e,r));const a=Object.keys(n).reduce((o,c)=>{let s;const d=r.get(c);d?s=d:(s=e(c),r.set(c,s));for(let l=s.length-1;l>=0;l--){const u=s[l];if(u.filename){o[u.filename]=n[c];break}}return o},{});try{t.exception.values.forEach(o=>{o.stacktrace.frames.forEach(c=>{c.filename&&(c.debug_id=a[c.filename])})})}catch(o){}}function Bd(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch(r){}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.keys(e).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:e[r]})})}function zd(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function Wd(t,e,n){if(!t)return null;const r=A(A(A(A(A({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>A(A({},i),i.data&&{data:Ee(i.data,e,n)}))}),t.user&&{user:Ee(t.user,e,n)}),t.contexts&&{contexts:Ee(t.contexts,e,n)}),t.extra&&{extra:Ee(t.extra,e,n)});return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Ee(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(i=>{const a=Ft(i).data;return a&&(i.data=Ee(a,e,n)),i})),r}function Yd(t,e){if(!e)return t;const n=t?t.clone():new Ae;return n.update(e),n}function Vd(t){if(t)return Jd(t)?{captureContext:t}:Kd(t)?{captureContext:t}:t}function Jd(t){return t instanceof Ae||typeof t=="function"}const Xd=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Kd(t){return Object.keys(t).some(e=>Xd.includes(e))}function Mr(t,e){return Jt().captureException(t,Vd(e))}function fa(t,e){return Jt().captureEvent(t,e)}function We(t,e){Jt().addBreadcrumb(t,e)}function Gd(t,e){Jt().setContext(t,e)}function ma(...t){const e=Jt();if(t.length===2){const[n,r]=t;return n?e.withScope(()=>(e.getStackTop().scope=n,r(n))):e.withScope(r)}return e.withScope(t[0])}function St(){return Jt().getClient()}function ce(){return Jt().getScope()}function ga(t){const e=St(),n=Ye(),r=ce(),{release:i,environment:a=Cr}=e&&e.getOptions()||{},{userAgent:o}=gt.navigator||{},c=ca(A(A({release:i,environment:a,user:r.getUser()||n.getUser()},o&&{userAgent:o}),t)),s=n.getSession();return s&&s.status==="ok"&&cn(s,{status:"exited"}),ya(),n.setSession(c),r.setSession(c),c}function ya(){const t=Ye(),e=ce(),n=e.getSession()||t.getSession();n&&ua(n),va(),t.setSession(),e.setSession()}function va(){const t=Ye(),e=ce(),n=St(),r=e.getSession()||t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function ba(t=!1){if(t){ya();return}va()}function Nr(t){return t.transaction}function Ar(t,e,n){const r=e.getOptions(),{publicKey:i}=e.getDsn()||{},{segment:a}=n&&n.getUser()||{},o=Kt({environment:r.environment||Cr,release:r.release,user_segment:a,public_key:i,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function xn(t){const e=St();if(!e)return{};const n=Ar(Ft(t).trace_id||"",e,ce()),r=Nr(t);if(!r)return n;const i=r&&r._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:a,source:o}=r.metadata;a!=null&&(n.sample_rate=`${a}`);const c=Ft(r);return o&&o!=="url"&&(n.transaction=c.description),n.sampled=String(Gi(r)),e.emit&&e.emit("createDsc",n),n}function _a(t,e){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:a}=e;Zd(t,e),r&&eh(t,r),nh(t,n),Qd(t,i),th(t,a)}function Sa(t,e){const{extra:n,tags:r,user:i,contexts:a,level:o,sdkProcessingMetadata:c,breadcrumbs:s,fingerprint:d,eventProcessors:l,attachments:u,propagationContext:h,transactionName:g,span:p}=e;Xn(t,"extra",n),Xn(t,"tags",r),Xn(t,"user",i),Xn(t,"contexts",a),Xn(t,"sdkProcessingMetadata",c),o&&(t.level=o),g&&(t.transactionName=g),p&&(t.span=p),s.length&&(t.breadcrumbs=[...t.breadcrumbs,...s]),d.length&&(t.fingerprint=[...t.fingerprint,...d]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),u.length&&(t.attachments=[...t.attachments,...u]),t.propagationContext=A(A({},t.propagationContext),h)}function Xn(t,e,n){if(n&&Object.keys(n).length){t[e]=A({},t[e]);for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[e][r]=n[r])}}function Zd(t,e){const{extra:n,tags:r,user:i,contexts:a,level:o,transactionName:c}=e,s=Kt(n);s&&Object.keys(s).length&&(t.extra=A(A({},s),t.extra));const d=Kt(r);d&&Object.keys(d).length&&(t.tags=A(A({},d),t.tags));const l=Kt(i);l&&Object.keys(l).length&&(t.user=A(A({},l),t.user));const u=Kt(a);u&&Object.keys(u).length&&(t.contexts=A(A({},u),t.contexts)),o&&(t.level=o),c&&(t.transaction=c)}function Qd(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function th(t,e){t.sdkProcessingMetadata=A(A({},t.sdkProcessingMetadata),e)}function eh(t,e){t.contexts=A({trace:Ki(e)},t.contexts);const n=Nr(e);if(n){t.sdkProcessingMetadata=A({dynamicSamplingContext:xn(e)},t.sdkProcessingMetadata);const r=Ft(n).description;r&&(t.tags=A({transaction:r},t.tags))}}function nh(t,e){t.fingerprint=t.fingerprint?Bs(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}const rh=100;let Zi;class Ae{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=wa()}static clone(e){return e?e.clone():new Ae}clone(){const e=new Ae;return e._breadcrumbs=[...this._breadcrumbs],e._tags=A({},this._tags),e._extra=A({},this._extra),e._contexts=A({},this._contexts),e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata=A({},this._sdkProcessingMetadata),e._propagationContext=A({},this._propagationContext),e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&cn(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags=A(A({},this._tags),e),this._notifyScopeListeners(),this}setTag(e,n){return this._tags=X(A({},this._tags),{[e]:n}),this._notifyScopeListeners(),this}setExtras(e){return this._extra=A(A({},this._extra),e),this._notifyScopeListeners(),this}setExtra(e,n){return this._extra=X(A({},this._extra),{[e]:n}),this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e;if(n instanceof Ae){const r=n.getScopeData();this._tags=A(A({},this._tags),r.tags),this._extra=A(A({},this._extra),r.extra),this._contexts=A(A({},this._contexts),r.contexts),r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(yn(n)){const r=e;this._tags=A(A({},this._tags),r.tags),this._extra=A(A({},this._extra),r.extra),this._contexts=A(A({},this._contexts),r.contexts),r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=wa(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:rh;if(r<=0)return this;const i=A({timestamp:Vn()},e),a=this._breadcrumbs;return a.push(i),this._breadcrumbs=a.length>r?a.slice(-r):a,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:n,_contexts:r,_tags:i,_extra:a,_user:o,_level:c,_fingerprint:s,_eventProcessors:d,_propagationContext:l,_sdkProcessingMetadata:u,_transactionName:h,_span:g}=this;return{breadcrumbs:e,attachments:n,contexts:r,tags:i,extra:a,user:o,level:c,fingerprint:s||[],eventProcessors:d,propagationContext:l,sdkProcessingMetadata:u,transactionName:h,span:g}}applyToEvent(e,n={},r=[]){_a(e,this.getScopeData());const i=[...r,...Xi(),...this._eventProcessors];return Or(i,e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=A(A({},this._sdkProcessingMetadata),e),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:At();if(!this._client)return H.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(e,X(A({originalException:e,syntheticException:i},n),{event_id:r}),this),r}captureMessage(e,n,r){const i=r&&r.event_id?r.event_id:At();if(!this._client)return H.warn("No client configured on scope - will not capture message!"),i;const a=new Error(e);return this._client.captureMessage(e,n,X(A({originalException:e,syntheticException:a},r),{event_id:i}),this),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:At();return this._client?(this._client.captureEvent(e,X(A({},n),{event_id:r}),this),r):(H.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function ih(){return Zi||(Zi=new Ae),Zi}function wa(){return{traceId:At(),spanId:At().substring(16)}}const Qi="7.109.0",ka=parseFloat(Qi),oh=100;class xa{constructor(e,n,r,i=ka){this._version=i;let a;n?a=n:(a=new Ae,a.setClient(e));let o;r?o=r:(o=new Ae,o.setClient(e)),this._stack=[{scope:a}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,n.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();let r;try{r=e(n)}catch(i){throw this.popScope(),i}return vr(r)?r.then(i=>(this.popScope(),i),i=>{throw this.popScope(),i}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:At(),i=new Error("Sentry syntheticException");return this.getScope().captureException(e,X(A({originalException:e,syntheticException:i},n),{event_id:r})),r}captureMessage(e,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:At(),a=new Error(e);return this.getScope().captureMessage(e,n,X(A({originalException:e,syntheticException:a},r),{event_id:i})),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:At();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,X(A({},n),{event_id:r})),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:o=oh}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const c=A({timestamp:Vn()},e),s=a?nn(()=>a(c,n)):c;s!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",s,n),r.addBreadcrumb(s,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n),this.getIsolationScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n),this.getIsolationScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n),this.getIsolationScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=Ea(this);try{e(this)}finally{Ea(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch(r){return G&&H.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return G&&!r&&(this.getClient()?H.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):H.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,n=e.getSession();n&&ua(n),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:a=Cr}=r&&r.getOptions()||{},{userAgent:o}=gt.navigator||{},c=ca(A(A({release:i,environment:a,user:n.getUser()},o&&{userAgent:o}),e)),s=n.getSession&&n.getSession();return s&&s.status==="ok"&&cn(s,{status:"exited"}),this.endSession(),n.setSession(c),c}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(e,...n){const r=Kn().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,n);G&&H.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Kn(){return gt.__SENTRY__=gt.__SENTRY__||{extensions:{},hub:void 0},gt}function Ea(t){const e=Kn(),n=to(e);return Ta(e,t),n}function Jt(){const t=Kn();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return sh(t)}function Ye(){return Jt().getIsolationScope()}function sh(t=Kn()){return(!ah(t)||to(t).isOlderThan(ka))&&Ta(t,new xa),to(t)}function ah(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function to(t){return Cs("hub",()=>new xa,t)}function Ta(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function un(t){return(t||Jt()).getScope().getTransaction()}let Ia=!1;function ch(){Ia||(Ia=!0,Xs(eo),Ks(eo))}function eo(){const t=un();if(t){const e="internal_error";G&&H.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}eo.tag="sentry_tracingErrorCallback";var Ca;(function(t){const e="ok";t.Ok=e;const n="deadline_exceeded";t.DeadlineExceeded=n;const r="unauthenticated";t.Unauthenticated=r;const i="permission_denied";t.PermissionDenied=i;const a="not_found";t.NotFound=a;const o="resource_exhausted";t.ResourceExhausted=o;const c="invalid_argument";t.InvalidArgument=c;const s="unimplemented";t.Unimplemented=s;const d="unavailable";t.Unavailable=d;const l="internal_error";t.InternalError=l;const u="unknown_error";t.UnknownError=u;const h="cancelled";t.Cancelled=h;const g="already_exists";t.AlreadyExists=g;const p="failed_precondition";t.FailedPrecondition=p;const m="aborted";t.Aborted=m;const E="out_of_range";t.OutOfRange=E;const f="data_loss";t.DataLoss=f})(Ca||(Ca={}));function uh(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function no(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=uh(e);n!=="unknown_error"&&t.setStatus(n)}function En(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=St(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Oa(t){if(!En())return;const e=dh(t),n=Jt(),r=t.scope?t.scope.getSpan():ro();if(t.onlyIfParent&&!r)return;const i=(t.scope||ce()).clone();return lh(n,{parentSpan:r,spanContext:e,forceTransaction:t.forceTransaction,scope:i})}function ro(){return ce().getSpan()}function lh(t,{parentSpan:e,spanContext:n,forceTransaction:r,scope:i}){if(!En())return;const a=Ye();let o;if(e&&!r)o=e.startChild(n);else if(e){const c=xn(e),{traceId:s,spanId:d}=e.spanContext(),l=Gi(e);o=t.startTransaction(X(A({traceId:s,parentSpanId:d,parentSampled:l},n),{metadata:A({dynamicSamplingContext:c},n.metadata)}))}else{const{traceId:c,dsc:s,parentSpanId:d,sampled:l}=A(A({},a.getPropagationContext()),i.getPropagationContext());o=t.startTransaction(X(A({traceId:c,parentSpanId:d,parentSampled:l},n),{metadata:A({dynamicSamplingContext:s},n.metadata)}))}return i.setSpan(o),hh(o,i,a),o}function dh(t){if(t.startTime){const e=A({},t);return e.startTimestamp=Dr(t.startTime),delete e.startTime,e}return t}const Ra="_sentryScope",Da="_sentryIsolationScope";function hh(t,e,n){t&&(on(t,Da,n),on(t,Ra,e))}function ph(t){return{scope:t[Ra],isolationScope:t[Da]}}const Le="sentry.source",Tn="sentry.sample_rate",Lr="sentry.op",In="sentry.origin",fh="profile_id";class Ma{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Pr{constructor(e={}){this._traceId=e.traceId||At(),this._spanId=e.spanId||At().substring(16),this._startTime=e.startTimestamp||Jn(),this.tags=e.tags?A({},e.tags):{},this.data=e.data?A({},e.data):{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes(A({[In]:e.origin||"manual",[Lr]:e.op},e.attributes)),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?A({},e.measurements):{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[Lr]}set op(e){this.setAttribute(Lr,e)}get origin(){return this._attributes[In]}set origin(e){this.setAttribute(In,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?la:Fd}}startChild(e){const n=new Pr(X(A({},e),{parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId}));n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=Nr(this);if(n.transaction=r,G&&r){const i=e&&e.op||"< unknown op >",a=Ft(n).description||"< unknown name >",o=r.spanContext().spanId,c=`[Tracing] Starting '${i}' span on transaction '${a}' (${o}).`;H.log(c),this._logMessage=c}return n}setTag(e,n){return this.tags=X(A({},this.tags),{[e]:n}),this}setData(e,n){return this.data=X(A({},this.data),{[e]:n}),this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return no(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=Nr(this);if(G&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&H.log(r.replace("Starting","Finishing"))}this._endTime=Dr(e)}toTraceparent(){return Rr(this)}toContext(){return Kt({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return Ki(this)}getSpanJSON(){return Kt({data:this._getData(),description:this._name,op:this._attributes[Lr],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[In],_metrics_summary:void 0,profile_id:this._attributes[fh],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,r=Object.keys(e).length>0,i=Object.keys(n).length>0;if(!(!r&&!i))return r&&i?A(A({},e),n):r?e:n}}class Na extends Pr{constructor(e,n){super(e),this._contexts={},this._hub=n||Jt(),this._name=e.name||"",this._metadata=A({},e.metadata),this._trimEnd=e.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext=A({},r))}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return A(A(A({source:"custom",spanMetadata:{}},this._metadata),this._attributes[Le]&&{source:this._attributes[Le]}),this._attributes[Tn]&&{sampleRate:this._attributes[Tn]})}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(Le,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Ma(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,r=""){this._measurements[e]={value:n,unit:r}}setMetadata(e){this._metadata=A(A({},this._metadata),e)}end(e){const n=Dr(e),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const e=super.toContext();return Kt(X(A({},e),{name:this._name,trimEnd:this._trimEnd}))}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return xn(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(G&&H.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){G&&H.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(d=>d!==this&&Ft(d).timestamp):[];if(this._trimEnd&&r.length>0){const d=r.map(l=>Ft(l).timestamp).filter(Boolean);this._endTime=d.reduce((l,u)=>l>u?l:u)}const{scope:i,isolationScope:a}=ph(this),{metadata:o}=this,{source:c}=o,s=A({contexts:X(A({},this._contexts),{trace:Ki(this)}),spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:A(X(A({},o),{capturedSpanScope:i,capturedSpanIsolationScope:a}),Kt({dynamicSamplingContext:xn(this)})),_metrics_summary:void 0},c&&{transaction_info:{source:c}});return Object.keys(this._measurements).length>0&&(G&&H.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),G&&H.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),s}}const jr={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},mh="finishReason",Cn=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class gh extends Ma{constructor(e,n,r,i){super(i),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=r}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const n=e.end;e.end=(...r)=>(this._popActivity(e.spanContext().spanId),n.apply(e,r)),Ft(e).timestamp===void 0&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class yh extends Na{constructor(e,n,r=jr.idleTimeout,i=jr.finalTimeout,a=jr.heartbeatInterval,o=!1,c=!1){super(e,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=a,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Cn[4],this._autoFinishAllowed=!c,o&&(G&&H.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),c||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Cn[3],this.end())},this._finalTimeout)}end(e){const n=Dr(e);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(mh,this._finishReason),this.spanRecorder){G&&H.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;Ft(r).timestamp||(r.setStatus("cancelled"),r.end(n),G&&H.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:i,timestamp:a}=Ft(r),o=i&&i<n,c=(this._finalTimeout+this._idleTimeout)/1e3,s=a&&i&&a-i<c;if(G){const d=JSON.stringify(r,void 0,2);o?s||H.log("[Tracing] discarding Span since it finished after Transaction final timeout",d):H.log("[Tracing] discarding Span since it happened after Transaction was finished",d)}return o&&s}),G&&H.log("[Tracing] flushing IdleTransaction")}else G&&H.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const n=i=>{this._finished||this._pushActivity(i)},r=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new gh(n,r,this.spanContext().spanId,e),G&&H.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Cn[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(G&&H.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Cn[1],this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),G&&H.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,G&&H.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(G&&H.log(`[Tracing] popActivity ${e}`),delete this.activities[e],G&&H.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=Jn();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Cn[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(G&&H.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Cn[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){G&&H.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Aa(t,e,n){if(!En(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(Tn,Number(t.sampled)),t;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setAttribute(Tn,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof e.tracesSampleRate<"u"?(r=e.tracesSampleRate,t.setAttribute(Tn,Number(r))):(r=1,t.setAttribute(Tn,r)),La(r)?r?(t.sampled=Math.random()<r,t.sampled?(G&&H.log(`[Tracing] starting ${t.op} transaction - ${Ft(t).description}`),t):(G&&H.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):(G&&H.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(G&&H.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function La(t){return ks(t)||!(typeof t=="number"||typeof t=="boolean")?(G&&H.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(G&&H.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function vh(){const t=this.getScope().getSpan();return t?{"sentry-trace":Rr(t)}:{}}function bh(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",a=t.instrumenter||"sentry";i!==a&&(G&&H.error(`A transaction was started with instrumenter=\`${a}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),t.sampled=!1);let o=new Na(t,this);return o=Aa(o,r,A({name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:A(A({},t.data),t.attributes)},e)),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function Pa(t,e,n,r,i,a,o,c=!1){const s=t.getClient(),d=s&&s.getOptions()||{};let l=new yh(e,t,n,r,o,i,c);return l=Aa(l,d,A({name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:A(A({},e.data),e.attributes)},a)),l.isRecording()&&l.initSpanRecorder(d._experiments&&d._experiments.maxSpans),s&&s.emit&&s.emit("startTransaction",l),l}function _h(){const t=Kn();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=bh),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=vh),ch())}function Sh(t,e,n){const r=un();r&&r.setMeasurement(t,e,n)}function wh(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function kh(t,e,n,r){const i=Vi(n),a=A(A({sent_at:new Date().toISOString()},i&&{sdk:i}),!!r&&e&&{dsn:rn(e)}),o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return ze(a,[o])}function xh(t,e,n,r){const i=Vi(n),a=t.type&&t.type!=="replay_event"?t.type:"event";wh(t,n&&n.sdk);const o=oa(t,i,r,e);return delete t.sdkProcessingMetadata,ze(o,[[{type:a},t]])}const Eh="7";function ja(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Th(t){return`${ja(t)}${t.projectId}/envelope/`}function Ih(t,e){return Fl(A({sentry_key:t.publicKey,sentry_version:Eh},e&&{sentry_client:`${e.name}/${e.version}`}))}function Ch(t,e={}){const n=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${Th(t)}?${Ih(t,r)}`}function Oh(t,e){const n=Ds(t);if(!n)return"";const r=`${ja(n)}embed/error-page/`;let i=`dsn=${rn(n)}`;for(const a in e)if(a!=="dsn"&&a!=="onClose")if(a==="user"){const o=e.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(a)}=${encodeURIComponent(e[a])}`;return`${r}?${i}`}const $a=[];function Rh(t){const e={};return t.forEach(n=>{const{name:r}=n,i=e[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.keys(e).map(n=>e[n])}function Dh(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...e,...n]:typeof n=="function"?r=Bs(n(e)):r=e;const i=Rh(r),a=Nh(i,o=>o.name==="Debug");if(a!==-1){const[o]=i.splice(a,1);i.push(o)}return i}function Mh(t,e){const n={};return e.forEach(r=>{r&&Ha(t,r,n)}),n}function Fa(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function Ha(t,e,n){if(n[e.name]){G&&H.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,$a.indexOf(e.name)===-1&&(e.setupOnce(jd,Jt),$a.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),t.on&&typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,a)=>r(i,a,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){const r=e.processEvent.bind(e),i=Object.assign((a,o)=>r(a,o,t),{id:e.name});t.addEventProcessor(i)}G&&H.log(`Integration installed: ${e.name}`)}function Nh(t,e){for(let n=0;n<t.length;n++)if(e(t[n])===!0)return n;return-1}function Ve(t,e){return Object.assign(function(...n){return e(...n)},{id:t})}function Ah(t){let e="";for(const n of t){const r=Object.entries(n.tags),i=r.length>0?`|#${r.map(([a,o])=>`${a}:${o}`).join(",")}`:"";e+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${i}|T${n.timestamp}
`}return e}function Lh(t,e,n,r){const i={sent_at:new Date().toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&e&&(i.dsn=rn(e));const a=Ph(t);return ze(i,[a])}function Ph(t){const e=Ah(t);return[{type:"statsd",length:e.length},e]}const Ua="Not capturing exception because it's already been captured.";class jh{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Ds(e.dsn):G&&H.warn("No DSN provided, client will not send events."),this._dsn){const n=Ch(this._dsn,e);this._transport=e.transport(X(A({recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{url:n}))}}captureException(e,n,r){if(qs(e)){G&&H.log(Ua);return}let i=n&&n.event_id;return this._process(this.eventFromException(e,n).then(a=>this._captureEvent(a,n,r)).then(a=>{i=a})),i}captureMessage(e,n,r,i){let a=r&&r.event_id;const o=Ti(e)?e:String(e),c=Ii(e)?this.eventFromMessage(o,n,r):this.eventFromException(e,r);return this._process(c.then(s=>this._captureEvent(s,r,i)).then(s=>{a=s})),a}captureEvent(e,n,r){if(n&&n.originalException&&qs(n.originalException)){G&&H.log(Ua);return}let i=n&&n.event_id;const a=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,n,a||r).then(o=>{i=o})),i}captureSession(e){typeof e.release!="string"?G&&H.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),cn(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(r=>n.flush(e).then(i=>r&&i))):kn(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(n){return G&&H.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const n=this._integrations[e.name];Ha(this,e,this._integrations),n||Fa(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=xh(e,this._dsn,this._options._metadata,this._options.tunnel);for(const a of n.attachments||[])r=Id(r,Rd(a,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(r);i&&i.then(a=>this.emit("afterSendEvent",e,a),null)}sendSession(e){const n=kh(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const i=`${e}:${n}`;G&&H.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}captureAggregateMetrics(e){G&&H.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const n=Lh(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(e,n){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(n)}emit(e,...n){this._hooks[e]&&this._hooks[e].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=Mh(this,e),Fa(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,n){let r=!1,i=!1;const a=n.exception&&n.exception.values;if(a){i=!0;for(const c of a){const s=c.mechanism;if(s&&s.handled===!1){r=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&r)&&(cn(e,X(A({},r&&{status:"crashed"}),{errors:e.errors||Number(i||r)})),this.captureSession(e))}_isClientDoneProcessing(e){return new se(n=>{let r=0;const i=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(r+=i,e&&r>=e&&(clearInterval(a),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r,i=Ye()){const a=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",e,n),ha(a,e,n,r,this,i).then(c=>{if(c===null)return c;const s=A(A({},i.getPropagationContext()),r?r.getPropagationContext():void 0);if(!(c.contexts&&c.contexts.trace)&&s){const{traceId:d,spanId:l,parentSpanId:u,dsc:h}=s;c.contexts=A({trace:{trace_id:d,span_id:l,parent_span_id:u}},c.contexts);const g=h||Ar(d,this,r);c.sdkProcessingMetadata=A({dynamicSamplingContext:g},c.sdkProcessingMetadata)}return c})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(i=>i.event_id,i=>{if(G){const a=i;a.logLevel==="log"?H.log(a.message):H.warn(a)}})}_processEvent(e,n,r){const i=this.getOptions(),{sampleRate:a}=i,o=Ba(e),c=qa(e),s=e.type||"error",d=`before send for type \`${s}\``;if(c&&typeof a=="number"&&Math.random()>a)return this.recordDroppedEvent("sample_rate","error",e),Bi(new xe(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));const l=s==="replay_event"?"replay":s,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,u).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",l,e),new xe("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;const g=Fh(i,h,n);return $h(g,d)}).then(h=>{if(h===null)throw this.recordDroppedEvent("before_send",l,e),new xe(`${d} returned \`null\`, will not send event.`,"log");const g=r&&r.getSession();!o&&g&&this._updateSessionFromEvent(g,h);const p=h.transaction_info;if(o&&p&&h.transaction!==e.transaction){const m="custom";h.transaction_info=X(A({},p),{source:m})}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof xe?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new xe(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,n=>{G&&H.error("Error while sending event:",n)});G&&H.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[r,i]=n.split(":");return{reason:r,category:i,quantity:e[n]}})}}function $h(t,e){const n=`${e} must return \`null\` or a valid event.`;if(vr(t))return t.then(r=>{if(!yn(r)&&r!==null)throw new xe(n);return r},r=>{throw new xe(`${e} rejected with ${r}`)});if(!yn(t)&&t!==null)throw new xe(n);return t}function Fh(t,e,n){const{beforeSend:r,beforeSendTransaction:i}=t;return qa(e)&&r?r(e,n):Ba(e)&&i?i(e,n):e}function qa(t){return t.type===void 0}function Ba(t){return t.type==="transaction"}function Hh(t){const e=St();!e||!e.addEventProcessor||e.addEventProcessor(t)}function Uh(t,e){e.debug===!0&&(G?H.enable():nn(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ce().update(e.initialScope);const n=new t(e);qh(n),Bh(n)}function qh(t){const e=Jt().getStackTop();e.client=t,e.scope.setClient(t)}function Bh(t){t.init?t.init():t.setupIntegrations&&t.setupIntegrations()}const zh=30;function za(t,e,n=gd(t.bufferSize||zh)){let r={};const i=o=>n.drain(o);function a(o){const c=[];if(ra(o,(u,h)=>{const g=ia(h);if(sa(r,g)){const p=Wa(u,h);t.recordDroppedEvent("ratelimit_backoff",g,p)}else c.push(u)}),c.length===0)return kn();const s=ze(o[0],c),d=u=>{ra(s,(h,g)=>{const p=Wa(h,g);t.recordDroppedEvent(u,ia(g),p)})},l=()=>e({body:Cd(s,t.textEncoder)}).then(u=>(u.statusCode!==void 0&&(u.statusCode<200||u.statusCode>=300)&&G&&H.warn(`Sentry responded with status code ${u.statusCode} to sent event.`),r=aa(r,u),u),u=>{throw d("network_error"),u});return n.add(l).then(u=>u,u=>{if(u instanceof xe)return G&&H.error("Skipped sending event because buffer is full."),d("queue_overflow"),kn();throw u})}return a.__sentry__baseTransport__=!0,{send:a,flush:i}}function Wa(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}function Wh(t,e){const n={sent_at:new Date().toISOString()};e&&(n.dsn=rn(e));const r=t.map(Yh);return ze(n,r)}function Yh(t){return[{type:"span"},t]}function Vh(t,e){const n=e&&Kh(e)?e.getClient():e,r=n&&n.getDsn(),i=n&&n.getOptions().tunnel;return Xh(t,r)||Jh(t,i)}function Jh(t,e){return e?Ya(t)===Ya(e):!1}function Xh(t,e){return e?t.includes(e.host):!1}function Ya(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function Kh(t){return t.getClient!==void 0}function Va(t,e,n=[e],r="npm"){const i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:n.map(a=>({name:`${r}:@sentry/${a}`,version:Qi})),version:Qi}),t._metadata=i}const Gh=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Zh=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Ja="InboundFilters",Qh=(t={})=>({name:Ja,setupOnce(){},processEvent(e,n,r){const i=r.getOptions(),a=tp(t,i);return ep(e,a)?null:e}}),Xa=Qh;Ve(Ja,Xa);function tp(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:Gh],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:Zh],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function ep(t,e){return e.ignoreInternal&&ap(t)?(G&&H.warn(`Event dropped due to being internal Sentry Error.
Event: ${qe(t)}`),!0):np(t,e.ignoreErrors)?(G&&H.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${qe(t)}`),!0):rp(t,e.ignoreTransactions)?(G&&H.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${qe(t)}`),!0):ip(t,e.denyUrls)?(G&&H.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${qe(t)}.
Url: ${$r(t)}`),!0):op(t,e.allowUrls)?!1:(G&&H.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${qe(t)}.
Url: ${$r(t)}`),!0)}function np(t,e){return t.type||!e||!e.length?!1:sp(t).some(n=>bn(n,e))}function rp(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?bn(n,e):!1}function ip(t,e){if(!e||!e.length)return!1;const n=$r(t);return n?bn(n,e):!1}function op(t,e){if(!e||!e.length)return!0;const n=$r(t);return n?bn(n,e):!0}function sp(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch(r){}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),G&&e.length===0&&H.error(`Could not extract message for event ${qe(t)}`),e}function ap(t){try{return t.exception.values[0].type==="SentryError"}catch(e){}return!1}function cp(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function $r(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(n){}return e?cp(e):null}catch(e){return G&&H.error(`Cannot extract url for event ${qe(t)}`),null}}let Ka;const Ga="FunctionToString",Za=new WeakMap,up=()=>({name:Ga,setupOnce(){Ka=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=Di(this),n=Za.has(St())&&e!==void 0?e:this;return Ka.apply(n,t)}}catch(t){}},setup(t){Za.set(t,!0)}}),Qa=up;Ve(Ga,Qa);const Rt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ft=gt;function lp(){ft&&ft.document?ft.document.addEventListener("visibilitychange",()=>{const t=un();if(ft.document.hidden&&t){const e="cancelled",{op:n,status:r}=Ft(t);Rt&&H.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),r||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}}):Rt&&H.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Gn=(t,e,n)=>{let r,i;return a=>{e.value>=0&&(a||n)&&(i=e.value-(r||0),(i||r===void 0)&&(r=e.value,e.delta=i,t(e)))}},dp=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,hp=()=>{const t=ft.performance.timing,e=ft.performance.navigation.type,n={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(const r in t)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(t[r]-t.navigationStart,0));return n},Fr=()=>ft.__WEB_VITALS_POLYFILL__?ft.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||hp()):ft.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],io=()=>{const t=Fr();return t&&t.activationStart||0},Zn=(t,e)=>{const n=Fr();let r="navigate";return n&&(ft.document.prerendering||io()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:dp(),navigationType:r}},On=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(i=>{e(i.getEntries())});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(r){}},Qn=(t,e)=>{const n=r=>{(r.type==="pagehide"||ft.document.visibilityState==="hidden")&&(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},pp=t=>{const e=Zn("CLS",0);let n,r=0,i=[];const a=c=>{c.forEach(s=>{if(!s.hadRecentInput){const d=i[0],l=i[i.length-1];r&&i.length!==0&&s.startTime-l.startTime<1e3&&s.startTime-d.startTime<5e3?(r+=s.value,i.push(s)):(r=s.value,i=[s]),r>e.value&&(e.value=r,e.entries=i,n&&n())}})},o=On("layout-shift",a);if(o){n=Gn(t,e);const c=()=>{a(o.takeRecords()),n(!0)};return Qn(c),c}};let Hr=-1;const fp=()=>ft.document.visibilityState==="hidden"&&!ft.document.prerendering?0:1/0,mp=()=>{Qn(({timeStamp:t})=>{Hr=t},!0)},oo=()=>(Hr<0&&(Hr=fp(),mp()),{get firstHiddenTime(){return Hr}}),gp=t=>{const e=oo(),n=Zn("FID");let r;const i=c=>{c.startTime<e.firstHiddenTime&&(n.value=c.processingStart-c.startTime,n.entries.push(c),r(!0))},a=c=>{c.forEach(i)},o=On("first-input",a);r=Gn(t,n),o&&Qn(()=>{a(o.takeRecords()),o.disconnect()},!0)};let tc=0,so=1/0,Ur=0;const yp=t=>{t.forEach(e=>{e.interactionId&&(so=Math.min(so,e.interactionId),Ur=Math.max(Ur,e.interactionId),tc=Ur?(Ur-so)/7+1:0)})};let ao;const vp=()=>ao?tc:performance.interactionCount||0,bp=()=>{"interactionCount"in performance||ao||(ao=On("event",yp,{type:"event",buffered:!0,durationThreshold:0}))},ec=()=>vp(),nc=10,Pe=[],co={},rc=t=>{const e=Pe[Pe.length-1],n=co[t.interactionId];if(n||Pe.length<nc||t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{const r={id:t.interactionId,latency:t.duration,entries:[t]};co[r.id]=r,Pe.push(r)}Pe.sort((r,i)=>i.latency-r.latency),Pe.splice(nc).forEach(r=>{delete co[r.id]})}},_p=()=>{const t=Math.min(Pe.length-1,Math.floor(ec()/50));return Pe[t]},Sp=(t,e)=>{e=e||{},bp();const n=Zn("INP");let r;const i=o=>{o.forEach(s=>{s.interactionId&&rc(s),s.entryType==="first-input"&&!Pe.some(d=>d.entries.some(l=>s.duration===l.duration&&s.startTime===l.startTime))&&rc(s)});const c=_p();c&&c.latency!==n.value&&(n.value=c.latency,n.entries=c.entries,r())},a=On("event",i,{durationThreshold:e.durationThreshold||40});r=Gn(t,n,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),Qn(()=>{i(a.takeRecords()),n.value<0&&ec()>0&&(n.value=0,n.entries=[]),r(!0)}))},ic={},wp=t=>{const e=oo(),n=Zn("LCP");let r;const i=o=>{const c=o[o.length-1];if(c){const s=Math.max(c.startTime-io(),0);s<e.firstHiddenTime&&(n.value=s,n.entries=[c],r())}},a=On("largest-contentful-paint",i);if(a){r=Gn(t,n);const o=()=>{ic[n.id]||(i(a.takeRecords()),a.disconnect(),ic[n.id]=!0,r(!0))};return["keydown","click"].forEach(c=>{addEventListener(c,o,{once:!0,capture:!0})}),Qn(o,!0),o}},uo=t=>{ft.document&&(ft.document.prerendering?addEventListener("prerenderingchange",()=>uo(t),!0):ft.document.readyState!=="complete"?addEventListener("load",()=>uo(t),!0):setTimeout(t,0))},kp=(t,e)=>{e=e||{};const n=Zn("TTFB"),r=Gn(t,n,e.reportAllChanges);uo(()=>{const i=Fr();if(i){if(n.value=Math.max(i.responseStart-io(),0),n.value<0||n.value>performance.now())return;n.entries=[i],r(!0)}})},tr={},qr={};let oc,sc,ac,cc,uc;function xp(t,e=!1){return er("cls",t,Cp,oc,e)}function lc(t,e=!1){return er("lcp",t,Rp,ac,e)}function Ep(t){return er("ttfb",t,Dp,cc)}function Tp(t){return er("fid",t,Op,sc)}function Ip(t){return er("inp",t,Mp,uc)}function Rn(t,e){return dc(t,e),qr[t]||(Np(t),qr[t]=!0),hc(t,e)}function Dn(t,e){const n=tr[t];if(!(!n||!n.length))for(const r of n)try{r(e)}catch(i){Rt&&H.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Me(r)}
Error:`,i)}}function Cp(){return pp(t=>{Dn("cls",{metric:t}),oc=t})}function Op(){return gp(t=>{Dn("fid",{metric:t}),sc=t})}function Rp(){return wp(t=>{Dn("lcp",{metric:t}),ac=t})}function Dp(){return kp(t=>{Dn("ttfb",{metric:t}),cc=t})}function Mp(){return Sp(t=>{Dn("inp",{metric:t}),uc=t})}function er(t,e,n,r,i=!1){dc(t,e);let a;return qr[t]||(a=n(),qr[t]=!0),r&&e({metric:r}),hc(t,e,i?a:void 0)}function Np(t){const e={};t==="event"&&(e.durationThreshold=0),On(t,n=>{Dn(t,{entries:n})},e)}function dc(t,e){tr[t]=tr[t]||[],tr[t].push(e)}function hc(t,e,n){return()=>{n&&n();const r=tr[t];if(!r)return;const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}function lo(t){return typeof t=="number"&&isFinite(t)}function Mn(t,r){var i=r,{startTimestamp:e}=i,n=pi(i,["startTimestamp"]);return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild(A({startTimestamp:e},n))}const Ap=2147483647;function Bt(t){return t/1e3}function ho(){return ft&&ft.addEventListener&&ft.performance}let pc=0,Lt={},Te,nr;function Lp(){const t=ho();if(t&&ae){t.mark&&ft.performance.mark("sentry-tracing-init");const e=Up(),n=Fp(),r=Hp(),i=qp();return()=>{e(),n(),r(),i()}}return()=>{}}function Pp(){Rn("longtask",({entries:t})=>{for(const e of t){const n=un();if(!n)return;const r=Bt(ae+e.startTime),i=Bt(e.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i})}})}function jp(){Rn("event",({entries:t})=>{for(const e of t){const n=un();if(!n)return;if(e.name==="click"){const r=Bt(ae+e.startTime),i=Bt(e.duration),a={description:Ue(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i},o=Os(e.target);o&&(a.attributes={"ui.component_name":o}),n.startChild(a)}}})}function $p(t){if(ho()&&ae){const e=Bp(t);return()=>{e()}}return()=>{}}function Fp(){return xp(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(Rt&&H.log("[Measurements] Adding CLS"),Lt.cls={value:t.value,unit:""},nr=e)},!0)}function Hp(){return lc(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(Rt&&H.log("[Measurements] Adding LCP"),Lt.lcp={value:t.value,unit:"millisecond"},Te=e)},!0)}function Up(){return Tp(({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=Bt(ae),r=Bt(e.startTime);Rt&&H.log("[Measurements] Adding FID"),Lt.fid={value:t.value,unit:"millisecond"},Lt["mark.fid"]={value:n+r,unit:"second"}})}function qp(){return Ep(({metric:t})=>{t.entries[t.entries.length-1]&&(Rt&&H.log("[Measurements] Adding TTFB"),Lt.ttfb={value:t.value,unit:"millisecond"})})}const fc={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Bp(t){return Ip(({metric:e})=>{if(e.value===void 0)return;const n=e.entries.find(k=>k.duration===e.value&&fc[k.name]!==void 0),r=St();if(!n||!r)return;const i=fc[n.name],a=r.getOptions(),o=Bt(ae+n.startTime),c=Bt(e.value),s=n.interactionId!==void 0?t[n.interactionId]:void 0;if(s===void 0)return;const{routeName:d,parentContext:l,activeTransaction:u,user:h,replayId:g}=s,p=h!==void 0?h.email||h.id||h.ip_address:void 0,m=u!==void 0?u.getProfileId():void 0,E=new Pr({startTimestamp:o,endTimestamp:o+c,op:`ui.interaction.${i}`,name:Ue(n.target),attributes:A(A(A({release:a.release,environment:a.environment,transaction:d},p!==void 0&&p!==""?{user:p}:{}),m!==void 0?{profile_id:m}:{}),g!==void 0?{replay_id:g}:{}),exclusiveTime:e.value,measurements:{inp:{value:e.value,unit:"millisecond"}}}),f=Zp(l,a);if(f&&Math.random()<f){const k=E?Wh([E],r.getDsn()):void 0,y=r&&r.getTransport();y&&k&&y.send(k).then(null,T=>{Rt&&H.error("Error while sending interaction:",T)});return}})}function zp(t){const e=ho();if(!e||!ft.performance.getEntries||!ae)return;Rt&&H.log("[Tracing] Adding & adjusting spans using Performance API");const n=Bt(ae),r=e.getEntries(),{op:i,start_timestamp:a}=Ft(t);if(r.slice(pc).forEach(o=>{const c=Bt(o.startTime),s=Bt(o.duration);if(!(t.op==="navigation"&&a&&n+c<a))switch(o.entryType){case"navigation":{Yp(t,o,n);break}case"mark":case"paint":case"measure":{Wp(t,o,c,s,n);const d=oo(),l=o.startTime<d.firstHiddenTime;o.name==="first-paint"&&l&&(Rt&&H.log("[Measurements] Adding FP"),Lt.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&(Rt&&H.log("[Measurements] Adding FCP"),Lt.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{Jp(t,o,o.name,c,s,n);break}}}),pc=Math.max(r.length-1,0),Xp(t),i==="pageload"){Gp(Lt),["fcp","fp","lcp"].forEach(c=>{if(!Lt[c]||!a||n>=a)return;const s=Lt[c].value,d=n+Bt(s),l=Math.abs((d-a)*1e3),u=l-s;Rt&&H.log(`[Measurements] Normalized ${c} from ${s} to ${l} (${u})`),Lt[c].value=l});const o=Lt["mark.fid"];o&&Lt.fid&&(Mn(t,{description:"first input delay",endTimestamp:o.value+Bt(Lt.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete Lt["mark.fid"]),"fcp"in Lt||delete Lt.cls,Object.keys(Lt).forEach(c=>{Sh(c,Lt[c].value,Lt[c].unit)}),Kp(t)}Te=void 0,nr=void 0,Lt={}}function Wp(t,e,n,r,i){const a=i+n,o=a+r;return Mn(t,{description:e.name,endTimestamp:o,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:a}),a}function Yp(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Br(t,e,r,n)}),Br(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),Br(t,e,"fetch",n,"cache","domainLookupStart"),Br(t,e,"domainLookup",n,"DNS"),Vp(t,e,n)}function Br(t,e,n,r,i,a){const o=a?e[a]:e[`${n}End`],c=e[`${n}Start`];!c||!o||Mn(t,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+Bt(c),endTimestamp:r+Bt(o)})}function Vp(t,e,n){e.responseEnd&&(Mn(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+Bt(e.requestStart),endTimestamp:n+Bt(e.responseEnd)}),Mn(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+Bt(e.responseStart),endTimestamp:n+Bt(e.responseEnd)}))}function Jp(t,e,n,r,i,a){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const o=Ir(n),c={};po(c,e,"transferSize","http.response_transfer_size"),po(c,e,"encodedBodySize","http.response_content_length"),po(c,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(c["resource.render_blocking_status"]=e.renderBlockingStatus),o.protocol&&(c["url.scheme"]=o.protocol.split(":").pop()),o.host&&(c["server.address"]=o.host),c["url.same_origin"]=n.includes(ft.location.origin);const s=a+r,d=s+i;Mn(t,{description:n.replace(ft.location.origin,""),endTimestamp:d,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:s,data:c})}function Xp(t){const e=ft.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),lo(n.rtt)&&(Lt["connection.rtt"]={value:n.rtt,unit:"millisecond"})),lo(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),lo(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function Kp(t){Te&&(Rt&&H.log("[Measurements] Adding LCP Data"),Te.element&&t.setTag("lcp.element",Ue(Te.element)),Te.id&&t.setTag("lcp.id",Te.id),Te.url&&t.setTag("lcp.url",Te.url.trim().slice(0,200)),t.setTag("lcp.size",Te.size)),nr&&nr.sources&&(Rt&&H.log("[Measurements] Adding CLS Data"),nr.sources.forEach((e,n)=>t.setTag(`cls.source.${n+1}`,Ue(e.node))))}function po(t,e,n,r){const i=e[n];i!=null&&i<Ap&&(t[r]=i)}function Gp(t){const e=Fr();if(!e)return;const{responseStart:n,requestStart:r}=e;r<=n&&(Rt&&H.log("[Measurements] Adding TTFB Request Time"),t["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Zp(t,e){if(!En(e))return!1;let n;return t!==void 0&&typeof e.tracesSampler=="function"?n=e.tracesSampler({transactionContext:t,name:t.name,parentSampled:t.parentSampled,attributes:A(A({},t.data),t.attributes),location:ft.location}):t!==void 0&&t.sampled!==void 0?n=t.sampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1,La(n)?n:(Rt&&H.warn("[Tracing] Discarding transaction because of invalid sample rate."),!1)}function Qp(t,e,n,r,i="auto.http.browser"){if(!En()||!t.fetchData)return;const a=e(t.fetchData.url);if(t.endTimestamp&&a){const u=t.fetchData.__span;if(!u)return;const h=r[u];if(h){if(t.response){no(h,t.response.status);const g=t.response&&t.response.headers&&t.response.headers.get("content-length");if(g){const p=parseInt(g);p>0&&h.setAttribute("http.response_content_length",p)}}else t.error&&h.setStatus("internal_error");h.end(),delete r[u]}return}const o=ce(),c=St(),{method:s,url:d}=t.fetchData,l=a?Oa({name:`${s} ${d}`,onlyIfParent:!0,attributes:{url:d,type:"fetch","http.method":s,[In]:i},op:"http.client"}):void 0;if(l&&(t.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l),n(t.fetchData.url)&&c){const u=t.args[0];t.args[1]=t.args[1]||{};const h=t.args[1];h.headers=tf(u,c,o,h,l)}return l}function tf(t,e,n,r,i){const a=i||n.getSpan(),o=Ye(),{traceId:c,spanId:s,sampled:d,dsc:l}=A(A({},o.getPropagationContext()),n.getPropagationContext()),u=a?Rr(a):Wi(c,s,d),h=ea(l||(a?xn(a):Ar(c,e,n))),g=r.headers||(typeof Request<"u"&&De(t,Request)?t.headers:void 0);if(g)if(typeof Headers<"u"&&De(g,Headers)){const p=new Headers(g);return p.append("sentry-trace",u),h&&p.append(zi,h),p}else if(Array.isArray(g)){const p=[...g,["sentry-trace",u]];return h&&p.push([zi,h]),p}else{const p="baggage"in g?g.baggage:void 0,m=[];return Array.isArray(p)?m.push(...p):p&&m.push(p),h&&m.push(h),X(A({},g),{"sentry-trace":u,baggage:m.length>0?m.join(","):void 0})}else return{"sentry-trace":u,baggage:h}}const fo=["localhost",/^\/(?!\/)/],mo={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:fo,tracePropagationTargets:fo};function ef(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:a,enableHTTPTimings:o}=A({traceFetch:mo.traceFetch,traceXHR:mo.traceXHR},t),c=typeof a=="function"?a:l=>!0,s=l=>sf(l,r||i),d={};e&&Fi(l=>{const u=Qp(l,c,s,d);o&&u&&mc(u)}),n&&Ui(l=>{const u=af(l,c,s,d);o&&u&&mc(u)})}function nf(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function mc(t){const{url:e}=Ft(t).data||{};if(!e||typeof e!="string")return;const n=Rn("resource",({entries:r})=>{r.forEach(i=>{nf(i)&&i.name.endsWith(e)&&(of(i).forEach(a=>t.setAttribute(...a)),setTimeout(n))})})}function rf(t){let e="unknown",n="unknown",r="";for(const i of t){if(i==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(i))){e=r==="h"?"http":r,n=t.split(r)[1];break}r+=i}return r===t&&(e=r),{name:e,version:n}}function Ie(t=0){return((ae||performance.timeOrigin)+t)/1e3}function of(t){const{name:e,version:n}=rf(t.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",e]),ae?[...r,["http.request.redirect_start",Ie(t.redirectStart)],["http.request.fetch_start",Ie(t.fetchStart)],["http.request.domain_lookup_start",Ie(t.domainLookupStart)],["http.request.domain_lookup_end",Ie(t.domainLookupEnd)],["http.request.connect_start",Ie(t.connectStart)],["http.request.secure_connection_start",Ie(t.secureConnectionStart)],["http.request.connection_end",Ie(t.connectEnd)],["http.request.request_start",Ie(t.requestStart)],["http.request.response_start",Ie(t.responseStart)],["http.request.response_end",Ie(t.responseEnd)]]:r}function sf(t,e){return bn(t,e||fo)}function af(t,e,n,r){const i=t.xhr,a=i&&i[Be];if(!En()||!i||i.__sentry_own_request__||!a)return;const o=e(a.url);if(t.endTimestamp&&o){const u=i.__sentry_xhr_span_id__;if(!u)return;const h=r[u];h&&a.status_code!==void 0&&(no(h,a.status_code),h.end(),delete r[u]);return}const c=ce(),s=Ye(),d=o?Oa({name:`${a.method} ${a.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":a.method,url:a.url,[In]:"auto.http.browser"},op:"http.client"}):void 0;d&&(i.__sentry_xhr_span_id__=d.spanContext().spanId,r[i.__sentry_xhr_span_id__]=d);const l=St();if(i.setRequestHeader&&n(a.url)&&l){const{traceId:u,spanId:h,sampled:g,dsc:p}=A(A({},s.getPropagationContext()),c.getPropagationContext()),m=d?Rr(d):Wi(u,h,g),E=ea(p||(d?xn(d):Ar(u,l,c)));cf(i,m,E)}return d}function cf(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(zi,n)}catch(r){}}const uf="BrowserTracing",lf=A(X(A({},jr),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,_experiments:{}}),mo),df=(t={})=>{const e=Rt?!!(t.tracePropagationTargets||t.tracingOrigins):!1;_h(),!t.tracePropagationTargets&&t.tracingOrigins&&(t.tracePropagationTargets=t.tracingOrigins);const n=A(A({},lf),t),r=Lp(),i={};n.enableInp&&$p(i),n.enableLongTask&&Pp(),n._experiments.enableInteractions&&jp();const a={name:void 0,context:void 0};function o(c){const s=Jt(),{beforeStartSpan:d,idleTimeout:l,finalTimeout:u,heartbeatInterval:h}=n,g=c.op==="pageload";let p;if(g){const k=g?gc("sentry-trace"):"",y=g?gc("baggage"):void 0,{traceId:T,dsc:_,parentSpanId:x,sampled:w}=Td(k,y);p=X(A({traceId:T,parentSpanId:x,parentSampled:w},c),{metadata:X(A({},c.metadata),{dynamicSamplingContext:_}),trimEnd:!0})}else p=A({trimEnd:!0},c);const m=d?d(p):p;m.metadata=m.name!==p.name?X(A({},m.metadata),{source:"custom"}):m.metadata,a.name=m.name,a.context=m,m.sampled===!1&&Rt&&H.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),Rt&&H.log(`[Tracing] Starting ${m.op} transaction on scope`);const{location:E}=ft,f=Pa(s,m,l,u,!0,{location:E},h,g);return g&&ft.document&&(ft.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(ft.document.readyState)&&f.sendAutoFinishSignal()}),["interactive","complete"].includes(ft.document.readyState)&&f.sendAutoFinishSignal()),f.registerBeforeFinishCallback(k=>{r(),zp(k)}),f}return{name:uf,setupOnce:()=>{},afterAllSetup(c){const s=c.getOptions(),{markBackgroundSpan:d,traceFetch:l,traceXHR:u,shouldCreateSpanForRequest:h,enableHTTPTimings:g,_experiments:p}=n,m=s&&s.tracePropagationTargets,E=m||n.tracePropagationTargets;Rt&&e&&m&&H.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let f,k=ft.location&&ft.location.href;if(c.on&&(c.on("startNavigationSpan",y=>{f&&(Rt&&H.log(`[Tracing] Finishing current transaction with op: ${Ft(f).op}`),f.end()),f=o(A({op:"navigation"},y))}),c.on("startPageLoadSpan",y=>{f&&(Rt&&H.log(`[Tracing] Finishing current transaction with op: ${Ft(f).op}`),f.end()),f=o(A({op:"pageload"},y))})),n.instrumentPageLoad&&c.emit&&ft.location){const y={name:ft.location.pathname,startTimestamp:ae?ae/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Le]:"url"}};hf(c,y)}n.instrumentNavigation&&c.emit&&ft.location&&Tr(({to:y,from:T})=>{if(T===void 0&&k&&k.indexOf(y)!==-1){k=void 0;return}if(T!==y){k=void 0;const _={name:ft.location.pathname,origin:"auto.navigation.browser",attributes:{[Le]:"url"}};pf(c,_)}}),d&&lp(),p.enableInteractions&&ff(n,a),n.enableInp&&gf(i,a),ef({traceFetch:l,traceXHR:u,tracePropagationTargets:E,shouldCreateSpanForRequest:h,enableHTTPTimings:g})},options:n}};function hf(t,e){if(!t.emit)return;t.emit("startPageLoadSpan",e);const n=ro();return(n&&Ft(n).op)==="pageload"?n:void 0}function pf(t,e){if(!t.emit)return;t.emit("startNavigationSpan",e);const n=ro();return(n&&Ft(n).op)==="navigation"?n:void 0}function gc(t){const e=Ml(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function ff(t,e){let n;const r=()=>{const{idleTimeout:i,finalTimeout:a,heartbeatInterval:o}=t,c="ui.action.click",s=un();if(s&&s.op&&["navigation","pageload"].includes(s.op)){Rt&&H.warn(`[Tracing] Did not create ${c} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!e.name){Rt&&H.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}const{location:d}=ft,l={name:e.name,op:c,trimEnd:!0,data:{[Le]:e.context?yf(e.context):"url"}};n=Pa(Jt(),l,i,a,!0,{location:d},o)};["click"].forEach(i=>{addEventListener(i,r,{once:!1,capture:!0})})}function mf(t){return"duration"in t}const yc=10;function gf(t,e){const n=({entries:r})=>{const i=St(),a=i!==void 0&&i.getIntegrationByName!==void 0?i.getIntegrationByName("Replay"):void 0,o=a!==void 0?a.getReplayId():void 0,c=un(),s=ce(),d=s!==void 0?s.getUser():void 0;r.forEach(l=>{if(mf(l)){const u=l.interactionId;if(u===void 0)return;const h=t[u],g=l.duration,p=l.startTime,m=Object.keys(t),E=m.length>0?m.reduce((f,k)=>t[f].duration<t[k].duration?f:k):void 0;if(l.entryType==="first-input"&&m.map(f=>t[f]).some(f=>f.duration===g&&f.startTime===p)||!u)return;if(h)h.duration=Math.max(h.duration,g);else if(m.length<yc||E===void 0||g>t[E].duration){const f=e.name,k=e.context;f&&k&&(E&&Object.keys(t).length>=yc&&delete t[E],t[u]={routeName:f,duration:g,parentContext:k,user:d,activeTransaction:c,replayId:o,startTime:p})}}})};Rn("event",n),Rn("first-input",n)}function yf(t){const e=t.attributes&&t.attributes[Le],n=t.data&&t.data[Le],r=t.metadata&&t.metadata.source;return e||n||r}const vt=gt;let go=0;function vc(){return go>0}function vf(){go++,setTimeout(()=>{go--})}function Nn(t,e={},n){if(typeof t!="function")return t;try{const i=t.__sentry_wrapped__;if(i)return i;if(Di(t))return t}catch(i){return t}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const a=i.map(o=>Nn(o,e));return t.apply(this,a)}catch(a){throw vf(),ma(o=>{o.addEventProcessor(c=>(e.mechanism&&(Ai(c,void 0,void 0),Wn(c,e.mechanism)),c.extra=X(A({},c.extra),{arguments:i}),c)),Mr(a)}),a}};try{for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch(i){}Ms(r,t),on(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch(i){}return r}const de=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function bc(t,e){const n=vo(t,e),r={type:e&&e.name,value:wf(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function bf(t,e,n,r){const i=St(),a=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:yr(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:Ef(e,{isUnhandledRejection:r})}]},extra:{__serialized__:Zs(e,a)}};if(n){const c=vo(t,n);c.length&&(o.exception.values[0].stacktrace={frames:c})}return o}function yo(t,e){return{exception:{values:[bc(t,e)]}}}function vo(t,e){const n=e.stacktrace||e.stack||"",r=Sf(e);try{return t(n,r)}catch(i){}return[]}const _f=/Minified React error #\d+;/i;function Sf(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(_f.test(t.message))return 1}return 0}function wf(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function kf(t,e,n,r){const i=n&&n.syntheticException||void 0,a=bo(t,e,i,r);return Wn(a),a.level="error",n&&n.event_id&&(a.event_id=n.event_id),kn(a)}function xf(t,e,n="info",r,i){const a=r&&r.syntheticException||void 0,o=_o(t,e,a,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),kn(o)}function bo(t,e,n,r,i){let a;if(Ei(e)&&e.error)return yo(t,e.error);if(ws(e)||wl(e)){const o=e;if("stack"in e)a=yo(t,e);else{const c=o.name||(ws(o)?"DOMError":"DOMException"),s=o.message?`${c}: ${o.message}`:c;a=_o(t,s,n,r),Ai(a,s)}return"code"in o&&(a.tags=X(A({},a.tags),{"DOMException.code":`${o.code}`})),a}return xi(e)?yo(t,e):yn(e)||yr(e)?(a=bf(t,e,n,i),Wn(a,{synthetic:!0}),a):(a=_o(t,e,n,r),Ai(a,`${e}`,void 0),Wn(a,{synthetic:!0}),a)}function _o(t,e,n,r){const i={};if(r&&n){const a=vo(t,n);a.length&&(i.exception={values:[{value:e,stacktrace:{frames:a}}]})}if(Ti(e)){const{__sentry_template_string__:a,__sentry_template_values__:o}=e;return i.logentry={message:a,params:o},i}return i.message=e,i}function Ef(t,{isUnhandledRejection:e}){const n=Hl(t),r=e?"promise rejection":"exception";return Ei(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:yr(t)?`Event \`${Tf(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Tf(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(e){}}function If(t,{metadata:e,tunnel:n,dsn:r}){const i=A(A({event_id:t.event_id,sent_at:new Date().toISOString()},e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}}),!!n&&!!r&&{dsn:rn(r)}),a=Cf(t);return ze(i,[a])}function Cf(t){return[{type:"user_report"},t]}class Of extends jh{constructor(e){const n=vt.SENTRY_SDK_SOURCE||cd();Va(e,"browser",["browser"],n),super(e),e.sendClientReports&&vt.document&&vt.document.addEventListener("visibilitychange",()=>{vt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return kf(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return xf(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){de&&H.warn("SDK not enabled, will not capture user feedback.");return}const n=If(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){de&&H.log("No outcomes to send");return}if(!this._dsn){de&&H.log("No dsn provided, will not send outcomes");return}de&&H.log("Sending outcomes:",e);const n=Md(e,this._options.tunnel&&rn(this._dsn));this._sendEnvelope(n)}}let rr;function Rf(){if(rr)return rr;if($i(vt.fetch))return rr=vt.fetch.bind(vt);const t=vt.document;let e=vt.fetch;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(n){de&&H.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return rr=e.bind(vt)}function Df(){rr=void 0}function Mf(t,e=Rf()){let n=0,r=0;function i(a){const o=a.body.length;n+=o,r++;const c=A({body:a.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15},t.fetchOptions);try{return e(t.url,c).then(s=>(n-=o,r--,{statusCode:s.status,headers:{"x-sentry-rate-limits":s.headers.get("X-Sentry-Rate-Limits"),"retry-after":s.headers.get("Retry-After")}}))}catch(s){return Df(),n-=o,r--,Bi(s)}}return za(t,i)}const Nf=4;function Af(t){function e(n){return new se((r,i)=>{const a=new XMLHttpRequest;a.onerror=i,a.onreadystatechange=()=>{a.readyState===Nf&&r({statusCode:a.status,headers:{"x-sentry-rate-limits":a.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":a.getResponseHeader("Retry-After")}})},a.open("POST",t.url);for(const o in t.headers)Object.prototype.hasOwnProperty.call(t.headers,o)&&a.setRequestHeader(o,t.headers[o]);a.send(n.body)})}return za(t,e)}const zr="?",Lf=30,Pf=40,jf=50;function So(t,e,n,r){const i={filename:t,function:e,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const $f=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ff=/\((\S*)(?::(\d+))(?::(\d+))\)/,Hf=t=>{const e=$f.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const i=Ff.exec(e[2]);i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3])}const[n,r]=_c(e[1]||zr,e[2]);return So(r,n,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},Uf=[Lf,Hf],qf=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Bf=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,zf=t=>{const e=qf.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=Bf.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let n=e[3],r=e[1]||zr;return[r,n]=_c(r,n),So(n,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Wf=[jf,zf],Yf=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Vf=t=>{const e=Yf.exec(t);return e?So(e[2],e[1]||zr,+e[3],e[4]?+e[4]:void 0):void 0},Jf=[Pf,Vf],Xf=[Uf,Wf,Jf],Kf=Fs(...Xf),_c=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:zr,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Wr=1024,Sc="Breadcrumbs",Gf=(t={})=>{const e=A({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t);return{name:Sc,setupOnce(){},setup(n){e.console&&zl(tm(n)),e.dom&&Ws(Qf(n,e.dom)),e.xhr&&Ui(em(n)),e.fetch&&Fi(nm(n)),e.history&&Tr(rm(n)),e.sentry&&n.on&&n.on("beforeSendEvent",Zf(n))}}},wc=Gf;Ve(Sc,wc);function Zf(t){return function(e){St()===t&&We({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:qe(e)},{event:e})}}function Qf(t,e){return function(n){if(St()!==t)return;let r,i,a=typeof e=="object"?e.serializeAttribute:void 0,o=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;o&&o>Wr&&(de&&H.warn(`\`dom.maxStringLength\` cannot exceed ${Wr}, but a value of ${o} was configured. Sentry will use ${Wr} instead.`),o=Wr),typeof a=="string"&&(a=[a]);try{const s=n.event,d=im(s)?s.target:s;r=Ue(d,{keyAttrs:a,maxStringLength:o}),i=Os(d)}catch(s){r="<unknown>"}if(r.length===0)return;const c={category:`ui.${n.name}`,message:r};i&&(c.data={"ui.component_name":i}),We(c,{event:n.event,name:n.name,global:n.global})}}function tm(t){return function(e){if(St()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:vd(e.level),message:Es(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)n.message=`Assertion failed: ${Es(e.args.slice(1)," ")||"console.assert"}`,n.data.arguments=e.args.slice(1);else return;We(n,{input:e.args,level:e.level})}}function em(t){return function(e){if(St()!==t)return;const{startTimestamp:n,endTimestamp:r}=e,i=e.xhr[Be];if(!n||!r||!i)return;const{method:a,url:o,status_code:c,body:s}=i,d={method:a,url:o,status_code:c},l={xhr:e.xhr,input:s,startTimestamp:n,endTimestamp:r};We({category:"xhr",data:d,type:"http"},l)}}function nm(t){return function(e){if(St()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&!(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"))if(e.error){const i=e.fetchData,a={data:e.error,input:e.args,startTimestamp:n,endTimestamp:r};We({category:"fetch",data:i,level:"error",type:"http"},a)}else{const i=e.response,a=X(A({},e.fetchData),{status_code:i&&i.status}),o={input:e.args,response:i,startTimestamp:n,endTimestamp:r};We({category:"fetch",data:a,type:"http"},o)}}}function rm(t){return function(e){if(St()!==t)return;let n=e.from,r=e.to;const i=Ir(vt.location.href);let a=n?Ir(n):void 0;const o=Ir(r);(!a||!a.path)&&(a=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),We({category:"navigation",data:{from:n,to:r}})}}function im(t){return!!t&&!!t.target}const kc="Dedupe",om=()=>{let t;return{name:kc,setupOnce(){},processEvent(e){if(e.type)return e;try{if(sm(e,t))return de&&H.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return t=e}}},xc=om;Ve(kc,xc);function sm(t,e){return e?!!(am(t,e)||cm(t,e)):!1}function am(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Tc(t,e)||!Ec(t,e))}function cm(t,e){const n=Ic(e),r=Ic(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Tc(t,e)||!Ec(t,e))}function Ec(t,e){let n=Cc(t),r=Cc(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const a=r[i],o=n[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function Tc(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch(i){return!1}}function Ic(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Cc(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(n){return}}const Oc="GlobalHandlers",um=(t={})=>{const e=A({onerror:!0,onunhandledrejection:!0},t);return{name:Oc,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(lm(n),Mc("onerror")),e.onunhandledrejection&&(dm(n),Mc("onunhandledrejection"))}}},Rc=um;Ve(Oc,Rc);function lm(t){Xs(e=>{const{stackParser:n,attachStacktrace:r}=Nc();if(St()!==t||vc())return;const{msg:i,url:a,line:o,column:c,error:s}=e,d=s===void 0&&ke(i)?fm(i,a,o,c):Dc(bo(n,s||i,void 0,r,!1),a,o,c);d.level="error",fa(d,{originalException:s,mechanism:{handled:!1,type:"onerror"}})})}function dm(t){Ks(e=>{const{stackParser:n,attachStacktrace:r}=Nc();if(St()!==t||vc())return;const i=hm(e),a=Ii(i)?pm(i):bo(n,i,void 0,r,!0);a.level="error",fa(a,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function hm(t){if(Ii(t))return t;const e=t;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(n){}return t}function pm(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function fm(t,e,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let a=Ei(t)?t.message:t,o="Error";const c=a.match(i);return c&&(o=c[1],a=c[2]),Dc({exception:{values:[{type:o,value:a}]}},e,n,r)}function Dc(t,e,n,r){const i=t.exception=t.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},c=o.stacktrace=o.stacktrace||{},s=c.frames=c.frames||[],d=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,u=ke(e)&&e.length>0?e:Dl();return s.length===0&&s.push({colno:d,filename:u,function:"?",in_app:!0,lineno:l}),t}function Mc(t){de&&H.log(`Global Handler attached: ${t}`)}function Nc(){const t=St();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Ac="HttpContext",mm=()=>({name:Ac,setupOnce(){},preprocessEvent(t){if(!vt.navigator&&!vt.location&&!vt.document)return;const e=t.request&&t.request.url||vt.location&&vt.location.href,{referrer:n}=vt.document||{},{userAgent:r}=vt.navigator||{},i=A(A(A({},t.request&&t.request.headers),n&&{Referer:n}),r&&{"User-Agent":r}),a=X(A(A({},t.request),e&&{url:e}),{headers:i});t.request=a}}),Lc=mm;Ve(Ac,Lc);const gm="cause",ym=5,Pc="LinkedErrors",vm=(t={})=>{const e=t.limit||ym,n=t.key||gm;return{name:Pc,setupOnce(){},preprocessEvent(r,i,a){const o=a.getOptions();Il(bc,o.stackParser,o.maxValueLength,n,e,r,i)}}},jc=vm;Ve(Pc,jc);const bm=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],$c="TryCatch",_m=(t={})=>{const e=A({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t);return{name:$c,setupOnce(){e.setTimeout&&Yt(vt,"setTimeout",Hc),e.setInterval&&Yt(vt,"setInterval",Hc),e.requestAnimationFrame&&Yt(vt,"requestAnimationFrame",Sm),e.XMLHttpRequest&&"XMLHttpRequest"in vt&&Yt(XMLHttpRequest.prototype,"send",wm);const n=e.eventTarget;n&&(Array.isArray(n)?n:bm).forEach(km)}}},Fc=_m;Ve($c,Fc);function Hc(t){return function(...e){const n=e[0];return e[0]=Nn(n,{mechanism:{data:{function:Me(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Sm(t){return function(e){return t.apply(this,[Nn(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Me(t)},handled:!1,type:"instrument"}})])}}function wm(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&Yt(n,r,function(i){const a={mechanism:{data:{function:r,handler:Me(i)},handled:!1,type:"instrument"}},o=Di(i);return o&&(a.mechanism.data.handler=Me(o)),Nn(i,a)})}),t.apply(this,e)}}function km(t){const e=vt,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Yt(n,"addEventListener",function(r){return function(i,a,o){try{typeof a.handleEvent=="function"&&(a.handleEvent=Nn(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Me(a),target:t},handled:!1,type:"instrument"}}))}catch(c){}return r.apply(this,[i,Nn(a,{mechanism:{data:{function:"addEventListener",handler:Me(a),target:t},handled:!1,type:"instrument"}}),o])}}),Yt(n,"removeEventListener",function(r){return function(i,a,o){const c=a;try{const s=c&&c.__sentry_wrapped__;s&&r.call(this,i,s,o)}catch(s){}return r.call(this,i,c,o)}}))}const xm=[Xa(),Qa(),Fc(),wc(),Rc(),jc(),xc(),Lc()];function Em(t){return[...xm]}function Tm(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=Em()),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),vt.SENTRY_RELEASE&&vt.SENTRY_RELEASE.id&&(t.release=vt.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);const e=X(A({},t),{stackParser:ql(t.stackParser||Kf),integrations:Dh(t),transport:t.transport||(Vs()?Mf:Af)});Uh(Of,e),t.autoSessionTracking&&Im()}const Uc=(t={},e=Jt())=>{if(!vt.document){de&&H.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=e.getStackTop(),i=t.dsn||n&&n.getDsn();if(!i){de&&H.error("DSN not configured for showReportDialog call");return}r&&(t.user=A(A({},r.getUser()),t.user)),t.eventId||(t.eventId=e.lastEventId());const a=vt.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=Oh(i,t),t.onLoad&&(a.onload=t.onLoad);const{onClose:o}=t;if(o){const s=d=>{if(d.data==="__sentry_reportdialog_closed__")try{o()}finally{vt.removeEventListener("message",s)}};vt.addEventListener("message",s)}const c=vt.document.head||vt.document.body;c?c.appendChild(a):de&&H.error("Not injecting report dialog. No injection point found in HTML")};function Im(){if(typeof vt.document>"u"){de&&H.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}ga({ignoreDuration:!0}),ba(),Tr(({from:t,to:e})=>{t!==void 0&&t!==e&&(ga({ignoreDuration:!0}),ba())})}const Ct=gt,wo="sentryReplaySession",Cm="replay_event",ko="Unable to send Replay",Om=3e5,Rm=9e5,Dm=5e3,Mm=5500,Nm=6e4,Am=5e3,Lm=3,qc=15e4,Yr=5e3,Pm=3e3,jm=300,xo=2e7,$m=4999,Fm=15e3,Bc=36e5;function Hm(t,e){return t!=null?t:e()}function Vr(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],a=t[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=a(n)):(i==="call"||i==="optionalCall")&&(n=a((...o)=>n.call(e,...o)),e=void 0)}return n}var zt;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(zt||(zt={}));function Um(t){return t.nodeType===t.ELEMENT_NODE}function ir(t){const e=Vr([t,"optionalAccess",n=>n.host]);return Vr([e,"optionalAccess",n=>n.shadowRoot])===t}function or(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function qm(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t}function Bm(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}function Jr(t){try{const e=t.rules||t.cssRules;return e?qm(Array.from(e,zc).join("")):null}catch(e){return null}}function zc(t){let e;if(Wm(t))try{e=Jr(t.styleSheet)||Bm(t)}catch(n){}else if(Ym(t)&&t.selectorText.includes(":"))return zm(t.cssText);return e||t.cssText}function zm(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function Wm(t){return"styleSheet"in t}function Ym(t){return"selectorText"in t}class Wc{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const n=Vr([this,"access",r=>r.getMeta,"call",r=>r(e),"optionalAccess",r=>r.id]);return Hm(n,()=>-1)}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,n){const r=n.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,n)}replace(e,n){const r=this.getNode(e);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(e,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Vm(){return new Wc}function Xr({maskInputOptions:t,tagName:e,type:n}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||n&&t[n]||n==="password"||e==="INPUT"&&!n&&t.text)}function sr({isMasked:t,element:e,value:n,maskInputFn:r}){let i=n||"";return t?(r&&(i=r(i,e)),"*".repeat(i.length)):i}function An(t){return t.toLowerCase()}function Eo(t){return t.toUpperCase()}const Yc="__rrweb_original__";function Jm(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let r=0;r<t.width;r+=n)for(let i=0;i<t.height;i+=n){const a=e.getImageData,o=Yc in a?a[Yc]:a;if(new Uint32Array(o.call(e,r,i,Math.min(n,t.width-r),Math.min(n,t.height-i)).data.buffer).some(c=>c!==0))return!1}return!0}function To(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?An(e):null}function Kr(t,e,n){return e==="INPUT"&&(n==="radio"||n==="checkbox")?t.getAttribute("value")||"":t.value}let Xm=1;const Km=new RegExp("[^a-z0-9-_:]"),ar=-2;function Io(){return Xm++}function Gm(t){if(t instanceof HTMLFormElement)return"form";const e=An(t.tagName);return Km.test(e)?"div":e}function Zm(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let Ln,Vc;const Qm=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,tg=/^(?:[a-z+]+:)?\/\//i,eg=/^www\..*/i,ng=/^(data:)([^,]*),(.*)/i;function Gr(t,e){return(t||"").replace(Qm,(n,r,i,a,o,c)=>{const s=i||o||c,d=r||a||"";if(!s)return n;if(tg.test(s)||eg.test(s))return`url(${d}${s}${d})`;if(ng.test(s))return`url(${d}${s}${d})`;if(s[0]==="/")return`url(${d}${Zm(e)+s}${d})`;const l=e.split("/"),u=s.split("/");l.pop();for(const h of u)h!=="."&&(h===".."?l.pop():l.push(h));return`url(${d}${l.join("/")}${d})`})}const rg=/^[^ \t\n\r\u000c]+/,ig=/^[, \t\n\r\u000c]+/;function og(t,e){if(e.trim()==="")return e;let n=0;function r(a){let o;const c=a.exec(e.substring(n));return c?(o=c[0],n+=o.length,o):""}const i=[];for(;r(ig),!(n>=e.length);){let a=r(rg);if(a.slice(-1)===",")a=Zr(t,a.substring(0,a.length-1)),i.push(a);else{let o="";a=Zr(t,a);let c=!1;for(;;){const s=e.charAt(n);if(s===""){i.push((a+o).trim());break}else if(c)s===")"&&(c=!1);else if(s===","){n+=1,i.push((a+o).trim());break}else s==="("&&(c=!0);o+=s,n+=1}}}return i.join(", ")}function Zr(t,e){if(!e||e.trim()==="")return e;const n=t.createElement("a");return n.href=e,n.href}function sg(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function Co(){const t=document.createElement("a");return t.href="",t.href}function Jc(t,e,n,r,i,a){return r&&(n==="src"||n==="href"&&!(e==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(e==="table"||e==="td"||e==="th")?Zr(t,r):n==="srcset"?og(t,r):n==="style"?Gr(r,Co()):e==="object"&&n==="data"?Zr(t,r):typeof a=="function"?a(n,r,i):r)}function Xc(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}function ag(t,e,n,r){try{if(r&&t.matches(r))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let i=t.classList.length;i--;){const a=t.classList[i];if(e.test(a))return!0}if(n)return t.matches(n)}catch(i){}return!1}function cg(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}function ln(t,e,n=1/0,r=0){return!t||t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:ln(t.parentNode,e,n,r+1)}function Pn(t,e){return n=>{const r=n;if(r===null)return!1;try{if(t){if(typeof t=="string"){if(r.matches(`.${t}`))return!0}else if(cg(r,t))return!0}return!!(e&&r.matches(e))}catch(i){return!1}}}function jn(t,e,n,r,i,a){try{const o=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const d=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(d))return!0}let c=-1,s=-1;if(a){if(s=ln(o,Pn(r,i)),s<0)return!0;c=ln(o,Pn(e,n),s>=0?s:1/0)}else{if(c=ln(o,Pn(e,n)),c<0)return!1;s=ln(o,Pn(r,i),c>=0?c:1/0)}return c>=0?s>=0?c<=s:!0:s>=0?!1:!!a}catch(o){}return!!a}function ug(t,e,n){const r=t.contentWindow;if(!r)return;let i=!1,a;try{a=r.document.readyState}catch(c){return}if(a!=="complete"){const c=setTimeout(()=>{i||(e(),i=!0)},n);t.addEventListener("load",()=>{clearTimeout(c),i=!0,e()});return}const o="about:blank";if(r.location.href!==o||t.src===o||t.src==="")return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function lg(t,e,n){let r=!1,i;try{i=t.sheet}catch(o){return}if(i)return;const a=setTimeout(()=>{r||(e(),r=!0)},n);t.addEventListener("load",()=>{clearTimeout(a),r=!0,e()})}function dg(t,e){const{doc:n,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:c,maskAttributeFn:s,maskTextClass:d,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:h,inlineStylesheet:g,maskInputOptions:p={},maskTextFn:m,maskInputFn:E,dataURLOptions:f={},inlineImages:k,recordCanvas:y,keepIframeSrcFn:T,newlyAddedElement:_=!1}=e,x=hg(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:zt.Document,childNodes:[],compatMode:t.compatMode}:{type:zt.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:zt.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:x};case t.ELEMENT_NODE:return fg(t,{doc:n,blockClass:i,blockSelector:a,unblockSelector:o,inlineStylesheet:g,maskAttributeFn:s,maskInputOptions:p,maskInputFn:E,dataURLOptions:f,inlineImages:k,recordCanvas:y,keepIframeSrcFn:T,newlyAddedElement:_,rootId:x,maskAllText:c,maskTextClass:d,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:h});case t.TEXT_NODE:return pg(t,{maskAllText:c,maskTextClass:d,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:h,maskTextFn:m,maskInputOptions:p,maskInputFn:E,rootId:x});case t.CDATA_SECTION_NODE:return{type:zt.CDATA,textContent:"",rootId:x};case t.COMMENT_NODE:return{type:zt.Comment,textContent:t.textContent||"",rootId:x};default:return!1}}function hg(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return n===1?void 0:n}function pg(t,e){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:a,unmaskTextSelector:o,maskTextFn:c,maskInputOptions:s,maskInputFn:d,rootId:l}=e,u=t.parentNode&&t.parentNode.tagName;let h=t.textContent;const g=u==="STYLE"?!0:void 0,p=u==="SCRIPT"?!0:void 0,m=u==="TEXTAREA"?!0:void 0;if(g&&h){try{t.nextSibling||t.previousSibling||Vr([t,"access",f=>f.parentNode,"access",f=>f.sheet,"optionalAccess",f=>f.cssRules])&&(h=Jr(t.parentNode.sheet))}catch(f){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${f}`,t)}h=Gr(h,Co())}p&&(h="SCRIPT_PLACEHOLDER");const E=jn(t,r,a,i,o,n);if(!g&&!p&&!m&&h&&E&&(h=c?c(h):h.replace(/[\S]/g,"*")),m&&h&&(s.textarea||E)&&(h=d?d(h,t.parentNode):h.replace(/[\S]/g,"*")),u==="OPTION"&&h){const f=Xr({type:null,tagName:u,maskInputOptions:s});h=sr({isMasked:jn(t,r,a,i,o,f),element:t,value:h,maskInputFn:d})}return{type:zt.Text,textContent:h||"",isStyle:g,rootId:l}}function fg(t,e){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:a,inlineStylesheet:o,maskInputOptions:c={},maskAttributeFn:s,maskInputFn:d,dataURLOptions:l={},inlineImages:u,recordCanvas:h,keepIframeSrcFn:g,newlyAddedElement:p=!1,rootId:m,maskAllText:E,maskTextClass:f,unmaskTextClass:k,maskTextSelector:y,unmaskTextSelector:T}=e,_=ag(t,r,i,a),x=Gm(t);let w={};const C=t.attributes.length;for(let b=0;b<C;b++){const v=t.attributes[b];v.name&&!Xc(x,v.name,v.value)&&(w[v.name]=Jc(n,x,An(v.name),v.value,t,s))}if(x==="link"&&o){const b=Array.from(n.styleSheets).find(I=>I.href===t.href);let v=null;b&&(v=Jr(b)),v&&(delete w.rel,delete w.href,w._cssText=Gr(v,b.href))}if(x==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const b=Jr(t.sheet);b&&(w._cssText=Gr(b,Co()))}if(x==="input"||x==="textarea"||x==="select"||x==="option"){const b=t,v=To(b),I=Kr(b,Eo(x),v),R=b.checked;if(v!=="submit"&&v!=="button"&&I){const O=jn(b,f,y,k,T,Xr({type:v,tagName:Eo(x),maskInputOptions:c}));w.value=sr({isMasked:O,element:b,value:I,maskInputFn:d})}R&&(w.checked=R)}if(x==="option"&&(t.selected&&!c.select?w.selected=!0:delete w.selected),x==="canvas"&&h){if(t.__context==="2d")Jm(t)||(w.rr_dataURL=t.toDataURL(l.type,l.quality));else if(!("__context"in t)){const b=t.toDataURL(l.type,l.quality),v=document.createElement("canvas");v.width=t.width,v.height=t.height;const I=v.toDataURL(l.type,l.quality);b!==I&&(w.rr_dataURL=b)}}if(x==="img"&&u){Ln||(Ln=n.createElement("canvas"),Vc=Ln.getContext("2d"));const b=t,v=b.crossOrigin;b.crossOrigin="anonymous";const I=()=>{b.removeEventListener("load",I);try{Ln.width=b.naturalWidth,Ln.height=b.naturalHeight,Vc.drawImage(b,0,0),w.rr_dataURL=Ln.toDataURL(l.type,l.quality)}catch(R){console.warn(`Cannot inline img src=${b.currentSrc}! Error: ${R}`)}v?w.crossOrigin=v:b.removeAttribute("crossorigin")};b.complete&&b.naturalWidth!==0?I():b.addEventListener("load",I)}if((x==="audio"||x==="video")&&(w.rr_mediaState=t.paused?"paused":"played",w.rr_mediaCurrentTime=t.currentTime),p||(t.scrollLeft&&(w.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(w.rr_scrollTop=t.scrollTop)),_){const{width:b,height:v}=t.getBoundingClientRect();w={class:w.class,rr_width:`${b}px`,rr_height:`${v}px`}}x==="iframe"&&!g(w.src)&&(t.contentDocument||(w.rr_src=w.src),delete w.src);let S;try{customElements.get(x)&&(S=!0)}catch(b){}return{type:zt.Element,tagName:x,attributes:w,childNodes:[],isSVG:sg(t)||void 0,needBlock:_,rootId:m,isCustom:S}}function Ot(t){return t==null?"":t.toLowerCase()}function mg(t,e){return!!(e.comment&&t.type===zt.Comment||t.type===zt.Element&&(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js"))||e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(Ot(t.attributes.name).match(/^msapplication-tile(image|color)$/)||Ot(t.attributes.name)==="application-name"||Ot(t.attributes.rel)==="icon"||Ot(t.attributes.rel)==="apple-touch-icon"||Ot(t.attributes.rel)==="shortcut icon"))||t.tagName==="meta"&&(e.headMetaDescKeywords&&Ot(t.attributes.name).match(/^description|keywords$/)||e.headMetaSocial&&(Ot(t.attributes.property).match(/^(og|twitter|fb):/)||Ot(t.attributes.name).match(/^(og|twitter):/)||Ot(t.attributes.name)==="pinterest")||e.headMetaRobots&&(Ot(t.attributes.name)==="robots"||Ot(t.attributes.name)==="googlebot"||Ot(t.attributes.name)==="bingbot")||e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0||e.headMetaAuthorship&&(Ot(t.attributes.name)==="author"||Ot(t.attributes.name)==="generator"||Ot(t.attributes.name)==="framework"||Ot(t.attributes.name)==="publisher"||Ot(t.attributes.name)==="progid"||Ot(t.attributes.property).match(/^article:/)||Ot(t.attributes.property).match(/^product:/))||e.headMetaVerification&&(Ot(t.attributes.name)==="google-site-verification"||Ot(t.attributes.name)==="yandex-verification"||Ot(t.attributes.name)==="csrf-token"||Ot(t.attributes.name)==="p:domain_verify"||Ot(t.attributes.name)==="verify-v1"||Ot(t.attributes.name)==="verification"||Ot(t.attributes.name)==="shopify-checkout-api-token"))))}function $n(t,e){const{doc:n,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:c,maskTextClass:s,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:u,skipChild:h=!1,inlineStylesheet:g=!0,maskInputOptions:p={},maskAttributeFn:m,maskTextFn:E,maskInputFn:f,slimDOMOptions:k,dataURLOptions:y={},inlineImages:T=!1,recordCanvas:_=!1,onSerialize:x,onIframeLoad:w,iframeLoadTimeout:C=5e3,onStylesheetLoad:S,stylesheetLoadTimeout:b=5e3,keepIframeSrcFn:v=()=>!1,newlyAddedElement:I=!1}=e;let{preserveWhiteSpace:R=!0}=e;const O=dg(t,{doc:n,mirror:r,blockClass:i,blockSelector:a,maskAllText:c,unblockSelector:o,maskTextClass:s,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:u,inlineStylesheet:g,maskInputOptions:p,maskAttributeFn:m,maskTextFn:E,maskInputFn:f,dataURLOptions:y,inlineImages:T,recordCanvas:_,keepIframeSrcFn:v,newlyAddedElement:I});if(!O)return console.warn(t,"not serialized"),null;let D;r.hasNode(t)?D=r.getId(t):mg(O,k)||!R&&O.type===zt.Text&&!O.isStyle&&!O.textContent.replace(/^\s+|\s+$/gm,"").length?D=ar:D=Io();const M=Object.assign(O,{id:D});if(r.add(t,M),D===ar)return null;x&&x(t);let L=!h;if(M.type===zt.Element){L=L&&!M.needBlock,delete M.needBlock;const P=t.shadowRoot;P&&or(P)&&(M.isShadowHost=!0)}if((M.type===zt.Document||M.type===zt.Element)&&L){k.headWhitespace&&M.type===zt.Element&&M.tagName==="head"&&(R=!1);const P={doc:n,mirror:r,blockClass:i,blockSelector:a,maskAllText:c,unblockSelector:o,maskTextClass:s,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:u,skipChild:h,inlineStylesheet:g,maskInputOptions:p,maskAttributeFn:m,maskTextFn:E,maskInputFn:f,slimDOMOptions:k,dataURLOptions:y,inlineImages:T,recordCanvas:_,preserveWhiteSpace:R,onSerialize:x,onIframeLoad:w,iframeLoadTimeout:C,onStylesheetLoad:S,stylesheetLoadTimeout:b,keepIframeSrcFn:v};for(const F of Array.from(t.childNodes)){const N=$n(F,P);N&&M.childNodes.push(N)}if(Um(t)&&t.shadowRoot)for(const F of Array.from(t.shadowRoot.childNodes)){const N=$n(F,P);N&&(or(t.shadowRoot)&&(N.isShadow=!0),M.childNodes.push(N))}}return t.parentNode&&ir(t.parentNode)&&or(t.parentNode)&&(M.isShadow=!0),M.type===zt.Element&&M.tagName==="iframe"&&ug(t,()=>{const P=t.contentDocument;if(P&&w){const F=$n(P,{doc:P,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:c,maskTextClass:s,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:g,maskInputOptions:p,maskAttributeFn:m,maskTextFn:E,maskInputFn:f,slimDOMOptions:k,dataURLOptions:y,inlineImages:T,recordCanvas:_,preserveWhiteSpace:R,onSerialize:x,onIframeLoad:w,iframeLoadTimeout:C,onStylesheetLoad:S,stylesheetLoadTimeout:b,keepIframeSrcFn:v});F&&w(t,F)}},C),M.type===zt.Element&&M.tagName==="link"&&M.attributes.rel==="stylesheet"&&lg(t,()=>{if(S){const P=$n(t,{doc:n,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:c,maskTextClass:s,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:g,maskInputOptions:p,maskAttributeFn:m,maskTextFn:E,maskInputFn:f,slimDOMOptions:k,dataURLOptions:y,inlineImages:T,recordCanvas:_,preserveWhiteSpace:R,onSerialize:x,onIframeLoad:w,iframeLoadTimeout:C,onStylesheetLoad:S,stylesheetLoadTimeout:b,keepIframeSrcFn:v});P&&S(t,P)}},b),M}function gg(t,e){const{mirror:n=new Wc,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:a=null,maskAllText:o=!1,maskTextClass:c="rr-mask",unmaskTextClass:s=null,maskTextSelector:d=null,unmaskTextSelector:l=null,inlineStylesheet:u=!0,inlineImages:h=!1,recordCanvas:g=!1,maskAllInputs:p=!1,maskAttributeFn:m,maskTextFn:E,maskInputFn:f,slimDOM:k=!1,dataURLOptions:y,preserveWhiteSpace:T,onSerialize:_,onIframeLoad:x,iframeLoadTimeout:w,onStylesheetLoad:C,stylesheetLoadTimeout:S,keepIframeSrcFn:b=()=>!1}=e||{};return $n(t,{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,maskAllText:o,maskTextClass:c,unmaskTextClass:s,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:u,maskInputOptions:p===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:p===!1?{}:p,maskAttributeFn:m,maskTextFn:E,maskInputFn:f,slimDOMOptions:k===!0||k==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:k==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:k===!1?{}:k,dataURLOptions:y,inlineImages:h,recordCanvas:g,preserveWhiteSpace:T,onSerialize:_,onIframeLoad:x,iframeLoadTimeout:w,onStylesheetLoad:C,stylesheetLoadTimeout:S,keepIframeSrcFn:b,newlyAddedElement:!1})}function Je(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],a=t[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=a(n)):(i==="call"||i==="optionalCall")&&(n=a((...o)=>n.call(e,...o)),e=void 0)}return n}function Gt(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const Fn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Kc={map:{},getId(){return console.error(Fn),-1},getNode(){return console.error(Fn),null},removeNodeFromMap(){console.error(Fn)},has(){return console.error(Fn),!1},reset(){console.error(Fn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Kc=new Proxy(Kc,{get(t,e,n){return e==="map"&&console.error(Fn),Reflect.get(t,e,n)}}));function cr(t,e,n={}){let r=null,i=0;return function(...a){const o=Date.now();!i&&n.leading===!1&&(i=o);const c=e-(o-i),s=this;c<=0||c>e?(r&&(clearTimeout(r),r=null),i=o,t.apply(s,a)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{i=n.leading===!1?0:Date.now(),r=null,t.apply(s,a)},c))}}function Gc(t,e,n,r,i=window){const a=i.Object.getOwnPropertyDescriptor(t,e);return i.Object.defineProperty(t,e,r?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),a&&a.set&&a.set.call(this,o)}}),()=>Gc(t,e,a||{},!0)}function Oo(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=i,()=>{t[e]=r}}catch(r){return()=>{}}}let Qr=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Qr=()=>new Date().getTime());function Zc(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:Je([e,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Je([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Je([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:Je([e,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Je([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Je([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function Qc(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function tu(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ge(t,e,n,r,i){if(!t)return!1;const a=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(!a)return!1;const o=Pn(e,n);if(!i){const d=r&&a.matches(r);return o(a)&&!d}const c=ln(a,o);let s=-1;return c<0?!1:(r&&(s=ln(a,Pn(null,r))),c>-1&&s<0?!0:c<s)}function yg(t,e){return e.getId(t)!==-1}function Ro(t,e){return e.getId(t)===ar}function eu(t,e){if(ir(t))return!1;const n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?eu(t.parentNode,e):!0:!0}function Do(t){return!!t.changedTouches}function vg(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let n=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function nu(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function ru(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function Mo(t){return!!Je([t,"optionalAccess",e=>e.shadowRoot])}class bg{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return Pd(this.styleIDMap.get(e),()=>-1)}has(e){return this.styleIDMap.has(e)}add(e,n){if(this.has(e))return this.getId(e);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function iu(t){let e=null;return Je([t,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function _g(t){let e=t,n;for(;n=iu(e);)e=n;return e}function Sg(t){const e=t.ownerDocument;if(!e)return!1;const n=_g(t);return e.contains(n)}function ou(t){const e=t.ownerDocument;return e?e.contains(t)||Sg(t):!1}let No;function wg(){if(No)return No;const t=window.document;let e=window.requestAnimationFrame;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.requestAnimationFrame&&(e=r.requestAnimationFrame),t.head.removeChild(n)}catch(n){}return No=e.bind(window)}function kg(...t){return wg()(...t)}var dt=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(dt||{}),ht=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(ht||{}),Zt=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Zt||{}),je=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(je||{});function xg(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],a=t[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=a(n)):(i==="call"||i==="optionalCall")&&(n=a((...o)=>n.call(e,...o)),e=void 0)}return n}function su(t){return"__ln"in t}class Eg{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<e;r++)n=xg([n,"optionalAccess",i=>i.next])||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&su(e.previousSibling)){const r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&su(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const au=(t,e)=>`${t}@${e}`;class Tg{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],n=new Set,r=new Eg,i=s=>{let d=s,l=ar;for(;l===ar;)d=d&&d.nextSibling,l=d&&this.mirror.getId(d);return l},a=s=>{if(!s.parentNode||!ou(s))return;const d=ir(s.parentNode)?this.mirror.getId(iu(s)):this.mirror.getId(s.parentNode),l=i(s);if(d===-1||l===-1)return r.addNode(s);const u=$n(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:h=>{nu(h,this.mirror)&&this.iframeManager.addIframe(h),ru(h,this.mirror)&&this.stylesheetManager.trackLinkElement(h),Mo(s)&&this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(h,g)=>{this.iframeManager.attachIframe(h,g),this.shadowDomManager.observeAttachShadow(h)},onStylesheetLoad:(h,g)=>{this.stylesheetManager.attachLinkElement(h,g)}});u&&(e.push({parentId:d,nextId:l,node:u}),n.add(u.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const s of this.movedSet)cu(this.removes,s,this.mirror)&&!this.movedSet.has(s.parentNode)||a(s);for(const s of this.addedSet)!lu(this.droppedSet,s)&&!cu(this.removes,s,this.mirror)||lu(this.movedSet,s)?a(s):this.droppedSet.add(s);let o=null;for(;r.length;){let s=null;if(o){const d=this.mirror.getId(o.value.parentNode),l=i(o.value);d!==-1&&l!==-1&&(s=o)}if(!s){let d=r.tail;for(;d;){const l=d;if(d=d.previous,l){const u=this.mirror.getId(l.value.parentNode);if(i(l.value)===-1)continue;if(u!==-1){s=l;break}else{const h=l.value;if(h.parentNode&&h.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const g=h.parentNode.host;if(this.mirror.getId(g)!==-1){s=l;break}}}}}}if(!s){for(;r.head;)r.removeNode(r.head.value);break}o=s.previous,r.removeNode(s.value),a(s.value)}const c={texts:this.texts.map(s=>({id:this.mirror.getId(s.node),value:s.value})).filter(s=>!n.has(s.id)).filter(s=>this.mirror.has(s.id)),attributes:this.attributes.map(s=>{const{attributes:d}=s;if(typeof d.style=="string"){const l=JSON.stringify(s.styleDiff),u=JSON.stringify(s._unchangedStyles);l.length<d.style.length&&(l+u).split("var(").length===d.style.split("var(").length&&(d.style=s.styleDiff)}return{id:this.mirror.getId(s.node),attributes:d}}).filter(s=>!n.has(s.id)).filter(s=>this.mirror.has(s.id)),removes:this.removes,adds:e};!c.texts.length&&!c.attributes.length&&!c.removes.length&&!c.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(c))},this.processMutation=e=>{if(Ro(e.target,this.mirror))return;let n;try{n=document.implementation.createHTMLDocument()}catch(r){n=this.doc}switch(e.type){case"characterData":{const r=e.target.textContent;!ge(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==e.oldValue&&this.texts.push({value:jn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:e.target});break}case"attributes":{const r=e.target;let i=e.attributeName,a=e.target.getAttribute(i);if(i==="value"){const c=To(r),s=r.tagName;a=Kr(r,s,c);const d=Xr({maskInputOptions:this.maskInputOptions,tagName:s,type:c}),l=jn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,d);a=sr({isMasked:l,element:r,value:a,maskInputFn:this.maskInputFn})}if(ge(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||a===e.oldValue)return;let o=this.attributes.find(c=>c.node===e.target);if(r.tagName==="IFRAME"&&i==="src"&&!this.keepIframeSrcFn(a))if(!r.contentDocument)i="rr_src";else return;if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o)),i==="type"&&r.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Xc(r.tagName,i)&&(o.attributes[i]=Jc(this.doc,An(r.tagName),An(i),a,r,this.maskAttributeFn),i==="style")){const c=n.createElement("span");e.oldValue&&c.setAttribute("style",e.oldValue);for(const s of Array.from(r.style)){const d=r.style.getPropertyValue(s),l=r.style.getPropertyPriority(s);d!==c.style.getPropertyValue(s)||l!==c.style.getPropertyPriority(s)?l===""?o.styleDiff[s]=d:o.styleDiff[s]=[d,l]:o._unchangedStyles[s]=[d,l]}for(const s of Array.from(c.style))r.style.getPropertyValue(s)===""&&(o.styleDiff[s]=!1)}break}case"childList":{if(ge(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(r=>this.genAdds(r,e.target)),e.removedNodes.forEach(r=>{const i=this.mirror.getId(r),a=ir(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);ge(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ro(r,this.mirror)||!yg(r,this.mirror)||(this.addedSet.has(r)?(Ao(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(e.target)&&i===-1||eu(e.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[au(i,a)]?Ao(this.movedSet,r):this.removes.push({parentId:a,id:i,isShadow:ir(e.target)&&or(e.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(e,n)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(Ro(e,this.mirror))return;this.movedSet.add(e);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[au(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);ge(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(r=>this.genAdds(r)),Mo(e)&&e.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ao(t,e){t.delete(e),e.childNodes.forEach(n=>Ao(t,n))}function cu(t,e,n){return t.length===0?!1:uu(t,e,n)}function uu(t,e,n){const{parentNode:r}=e;if(!r)return!1;const i=n.getId(r);return t.some(a=>a.id===i)?!0:uu(t,r,n)}function lu(t,e){return t.size===0?!1:du(t,e)}function du(t,e){const{parentNode:n}=e;return n?t.has(n)?!0:du(t,n):!1}let ur;function Ig(t){ur=t}function Cg(){ur=void 0}const yt=t=>ur?(...e)=>{try{return t(...e)}catch(n){if(ur&&ur(n)===!0)return()=>{};throw n}}:t;function Ce(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],a=t[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=a(n)):(i==="call"||i==="optionalCall")&&(n=a((...o)=>n.call(e,...o)),e=void 0)}return n}const Hn=[];function lr(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(e){}return t&&t.target}function hu(t,e){const n=new Tg;Hn.push(n),n.init(t);let r=window.MutationObserver||window.__rrMutationObserver;const i=Ce([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);i&&window[i]&&(r=window[i]);const a=new r(yt(o=>{t.onMutation&&t.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return a.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Og({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(e.mousemove===!1)return()=>{};const i=typeof e.mousemove=="number"?e.mousemove:50,a=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let o=[],c;const s=cr(yt(u=>{const h=Date.now()-c;t(o.map(g=>(g.timeOffset-=h,g)),u),o=[],c=null}),a),d=yt(cr(yt(u=>{const h=lr(u),{clientX:g,clientY:p}=Do(u)?u.changedTouches[0]:u;c||(c=Qr()),o.push({x:g,y:p,id:r.getId(h),timeOffset:Qr()-c}),s(typeof DragEvent<"u"&&u instanceof DragEvent?ht.Drag:u instanceof MouseEvent?ht.MouseMove:ht.TouchMove)}),i,{trailing:!1})),l=[Gt("mousemove",d,n),Gt("touchmove",d,n),Gt("drag",d,n)];return yt(()=>{l.forEach(u=>u())})}function Rg({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const c=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,s=[];let d=null;const l=u=>h=>{const g=lr(h);if(ge(g,r,i,a,!0))return;let p=null,m=u;if("pointerType"in h){switch(h.pointerType){case"mouse":p=je.Mouse;break;case"touch":p=je.Touch;break;case"pen":p=je.Pen;break}p===je.Touch?Zt[u]===Zt.MouseDown?m="TouchStart":Zt[u]===Zt.MouseUp&&(m="TouchEnd"):je.Pen}else Do(h)&&(p=je.Touch);p!==null?(d=p,(m.startsWith("Touch")&&p===je.Touch||m.startsWith("Mouse")&&p===je.Mouse)&&(p=null)):Zt[u]===Zt.Click&&(p=d,d=null);const E=Do(h)?h.changedTouches[0]:h;if(!E)return;const f=n.getId(g),{clientX:k,clientY:y}=E;yt(t)(A({type:Zt[m],id:f,x:k,y},p!==null&&{pointerType:p}))};return Object.keys(Zt).filter(u=>Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&c[u]!==!1).forEach(u=>{let h=An(u);const g=l(u);if(window.PointerEvent)switch(Zt[u]){case Zt.MouseDown:case Zt.MouseUp:h=h.replace("mouse","pointer");break;case Zt.TouchStart:case Zt.TouchEnd:return}s.push(Gt(h,g,e))}),yt(()=>{s.forEach(u=>u())})}function pu({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,sampling:o}){const c=yt(cr(yt(s=>{const d=lr(s);if(!d||ge(d,r,i,a,!0))return;const l=n.getId(d);if(d===e&&e.defaultView){const u=Zc(e.defaultView);t({id:l,x:u.left,y:u.top})}else t({id:l,x:d.scrollLeft,y:d.scrollTop})}),o.scroll||100));return Gt("scroll",c,e)}function Dg({viewportResizeCb:t},{win:e}){let n=-1,r=-1;const i=yt(cr(yt(()=>{const a=Qc(),o=tu();(n!==a||r!==o)&&(t({width:Number(o),height:Number(a)}),n=a,r=o)}),200));return Gt("resize",i,e)}const Mg=["INPUT","TEXTAREA","SELECT"],fu=new WeakMap;function Ng({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,ignoreClass:o,ignoreSelector:c,maskInputOptions:s,maskInputFn:d,sampling:l,userTriggeredOnInput:u,maskTextClass:h,unmaskTextClass:g,maskTextSelector:p,unmaskTextSelector:m}){function E(x){let w=lr(x);const C=x.isTrusted,S=w&&Eo(w.tagName);if(S==="OPTION"&&(w=w.parentElement),!w||!S||Mg.indexOf(S)<0||ge(w,r,i,a,!0))return;const b=w;if(b.classList.contains(o)||c&&b.matches(c))return;const v=To(w);let I=Kr(b,S,v),R=!1;const O=Xr({maskInputOptions:s,tagName:S,type:v}),D=jn(w,h,p,g,m,O);(v==="radio"||v==="checkbox")&&(R=w.checked),I=sr({isMasked:D,element:w,value:I,maskInputFn:d}),f(w,u?{text:I,isChecked:R,userTriggered:C}:{text:I,isChecked:R});const M=w.name;v==="radio"&&M&&R&&e.querySelectorAll(`input[type="radio"][name="${M}"]`).forEach(L=>{if(L!==w){const P=sr({isMasked:D,element:L,value:Kr(L,S,v),maskInputFn:d});f(L,u?{text:P,isChecked:!R,userTriggered:!1}:{text:P,isChecked:!R})}})}function f(x,w){const C=fu.get(x);if(!C||C.text!==w.text||C.isChecked!==w.isChecked){fu.set(x,w);const S=n.getId(x);yt(t)(X(A({},w),{id:S}))}}const k=(l.input==="last"?["change"]:["input","change"]).map(x=>Gt(x,yt(E),e)),y=e.defaultView;if(!y)return()=>{k.forEach(x=>x())};const T=y.Object.getOwnPropertyDescriptor(y.HTMLInputElement.prototype,"value"),_=[[y.HTMLInputElement.prototype,"value"],[y.HTMLInputElement.prototype,"checked"],[y.HTMLSelectElement.prototype,"value"],[y.HTMLTextAreaElement.prototype,"value"],[y.HTMLSelectElement.prototype,"selectedIndex"],[y.HTMLOptionElement.prototype,"selected"]];return T&&T.set&&k.push(..._.map(x=>Gc(x[0],x[1],{set(){yt(E)({target:this,isTrusted:!1})}},!1,y))),yt(()=>{k.forEach(x=>x())})}function ti(t){const e=[];function n(r,i){if(ei("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||ei("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||ei("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||ei("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const a=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(a)}else if(r.parentStyleSheet){const a=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(a)}return i}return n(t,e)}function Xe(t,e,n){let r,i;return t?(t.ownerNode?r=e.getId(t.ownerNode):i=n.getId(t),{styleId:i,id:r}):{}}function Ag({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:yt((l,u,h)=>{const[g,p]=h,{id:m,styleId:E}=Xe(u,e,n.styleMirror);return(m&&m!==-1||E&&E!==-1)&&t({id:m,styleId:E,adds:[{rule:g,index:p}]}),l.apply(u,h)})});const a=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:yt((l,u,h)=>{const[g]=h,{id:p,styleId:m}=Xe(u,e,n.styleMirror);return(p&&p!==-1||m&&m!==-1)&&t({id:p,styleId:m,removes:[{index:g}]}),l.apply(u,h)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:yt((l,u,h)=>{const[g]=h,{id:p,styleId:m}=Xe(u,e,n.styleMirror);return(p&&p!==-1||m&&m!==-1)&&t({id:p,styleId:m,replace:g}),l.apply(u,h)})}));let c;r.CSSStyleSheet.prototype.replaceSync&&(c=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:yt((l,u,h)=>{const[g]=h,{id:p,styleId:m}=Xe(u,e,n.styleMirror);return(p&&p!==-1||m&&m!==-1)&&t({id:p,styleId:m,replaceSync:g}),l.apply(u,h)})}));const s={};ni("CSSGroupingRule")?s.CSSGroupingRule=r.CSSGroupingRule:(ni("CSSMediaRule")&&(s.CSSMediaRule=r.CSSMediaRule),ni("CSSConditionRule")&&(s.CSSConditionRule=r.CSSConditionRule),ni("CSSSupportsRule")&&(s.CSSSupportsRule=r.CSSSupportsRule));const d={};return Object.entries(s).forEach(([l,u])=>{d[l]={insertRule:u.prototype.insertRule,deleteRule:u.prototype.deleteRule},u.prototype.insertRule=new Proxy(d[l].insertRule,{apply:yt((h,g,p)=>{const[m,E]=p,{id:f,styleId:k}=Xe(g.parentStyleSheet,e,n.styleMirror);return(f&&f!==-1||k&&k!==-1)&&t({id:f,styleId:k,adds:[{rule:m,index:[...ti(g),E||0]}]}),h.apply(g,p)})}),u.prototype.deleteRule=new Proxy(d[l].deleteRule,{apply:yt((h,g,p)=>{const[m]=p,{id:E,styleId:f}=Xe(g.parentStyleSheet,e,n.styleMirror);return(E&&E!==-1||f&&f!==-1)&&t({id:E,styleId:f,removes:[{index:[...ti(g),m]}]}),h.apply(g,p)})})}),yt(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=a,o&&(r.CSSStyleSheet.prototype.replace=o),c&&(r.CSSStyleSheet.prototype.replaceSync=c),Object.entries(s).forEach(([l,u])=>{u.prototype.insertRule=d[l].insertRule,u.prototype.deleteRule=d[l].deleteRule})})}function mu({mirror:t,stylesheetManager:e},n){let r=null;n.nodeName==="#document"?r=t.getId(n):r=t.getId(n.host);const i=n.nodeName==="#document"?Ce([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):Ce([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),a=Ce([i,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(Ce([i,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!a?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get(){return Ce([a,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const c=Ce([a,"access",s=>s.set,"optionalAccess",s=>s.call,"call",s=>s(this,o)]);if(r!==null&&r!==-1)try{e.adoptStyleSheets(o,r)}catch(s){}return c}}),yt(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:a.set})}))}function Lg({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const a=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:yt((c,s,d)=>{const[l,u,h]=d;if(n.has(l))return a.apply(s,[l,u,h]);const{id:g,styleId:p}=Xe(Ce([s,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),e,r.styleMirror);return(g&&g!==-1||p&&p!==-1)&&t({id:g,styleId:p,set:{property:l,value:u,priority:h},index:ti(s.parentRule)}),c.apply(s,d)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:yt((c,s,d)=>{const[l]=d;if(n.has(l))return o.apply(s,[l]);const{id:u,styleId:h}=Xe(Ce([s,"access",g=>g.parentRule,"optionalAccess",g=>g.parentStyleSheet]),e,r.styleMirror);return(u&&u!==-1||h&&h!==-1)&&t({id:u,styleId:h,remove:{property:l},index:ti(s.parentRule)}),c.apply(s,d)})}),yt(()=>{i.CSSStyleDeclaration.prototype.setProperty=a,i.CSSStyleDeclaration.prototype.removeProperty=o})}function Pg({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:i,sampling:a,doc:o}){const c=yt(d=>cr(yt(l=>{const u=lr(l);if(!u||ge(u,e,n,r,!0))return;const{currentTime:h,volume:g,muted:p,playbackRate:m}=u;t({type:d,id:i.getId(u),currentTime:h,volume:g,muted:p,playbackRate:m})}),a.media||500)),s=[Gt("play",c(0),o),Gt("pause",c(1),o),Gt("seeked",c(2),o),Gt("volumechange",c(3),o),Gt("ratechange",c(4),o)];return yt(()=>{s.forEach(d=>d())})}function jg({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,a=n.FontFace;n.FontFace=function(c,s,d){const l=new a(c,s,d);return i.set(l,{family:c,buffer:typeof s!="string",descriptors:d,fontSource:typeof s=="string"?s:JSON.stringify(Array.from(new Uint8Array(s)))}),l};const o=Oo(e.fonts,"add",function(c){return function(s){return setTimeout(yt(()=>{const d=i.get(s);d&&(t(d),i.delete(s))}),0),c.apply(this,[s])}});return r.push(()=>{n.FontFace=a}),r.push(o),yt(()=>{r.forEach(c=>c())})}function $g(t){const{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,selectionCb:o}=t;let c=!0;const s=yt(()=>{const d=e.getSelection();if(!d||c&&Ce([d,"optionalAccess",h=>h.isCollapsed]))return;c=d.isCollapsed||!1;const l=[],u=d.rangeCount||0;for(let h=0;h<u;h++){const g=d.getRangeAt(h),{startContainer:p,startOffset:m,endContainer:E,endOffset:f}=g;ge(p,r,i,a,!0)||ge(E,r,i,a,!0)||l.push({start:n.getId(p),startOffset:m,end:n.getId(E),endOffset:f})}o({ranges:l})});return s(),Gt("selectionchange",s)}function Fg({doc:t,customElementCb:e}){const n=t.defaultView;return!n||!n.customElements?()=>{}:Oo(n.customElements,"define",function(r){return function(i,a,o){try{e({define:{name:i}})}catch(c){}return r.apply(this,[i,a,o])}})}function Hg(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};const r=hu(t,t.doc),i=Og(t),a=Rg(t),o=pu(t),c=Dg(t,{win:n}),s=Ng(t),d=Pg(t),l=Ag(t,{win:n}),u=mu(t,t.doc),h=Lg(t,{win:n}),g=t.collectFonts?jg(t):()=>{},p=$g(t),m=Fg(t),E=[];for(const f of t.plugins)E.push(f.observer(f.callback,n,f.options));return yt(()=>{Hn.forEach(f=>f.reset()),r.disconnect(),i(),a(),o(),c(),s(),d(),l(),u(),h(),g(),p(),m(),E.forEach(f=>f())})}function ei(t){return typeof window[t]<"u"}function ni(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Lo{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,n,r,i){const a=r||this.getIdToRemoteIdMap(e),o=i||this.getRemoteIdToIdMap(e);let c=a.get(n);return c||(c=this.generateIdFn(),a.set(n,c),o.set(c,n)),c}getIds(e,n){const r=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return n.map(a=>this.getId(e,a,r,i))}getRemoteId(e,n,r){const i=r||this.getRemoteIdToIdMap(e);return typeof n!="number"?n:i.get(n)||-1}getRemoteIds(e,n){const r=this.getRemoteIdToIdMap(e);return n.map(i=>this.getRemoteId(e,i,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let n=this.iframeIdToRemoteIdMap.get(e);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(e,n)),n}getRemoteIdToIdMap(e){let n=this.iframeRemoteIdToIdMap.get(e);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(e,n)),n}}function gu(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],a=t[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=a(n)):(i==="call"||i==="optionalCall")&&(n=a((...o)=>n.call(e,...o)),e=void 0)}return n}class Ug{constructor(){this.crossOriginIframeMirror=new Lo(Io),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class qg{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Lo(Io),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Lo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),gu([this,"access",r=>r.loadListener,"optionalCall",r=>r(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const n=e;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!e.source)return;const r=this.crossOriginIframeMap.get(e.source);if(!r)return;const i=this.transformCrossOriginEvent(r,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(e,n){switch(n.type){case dt.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(n.data.node,e);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:dt.IncrementalSnapshot,data:{source:ht.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case dt.Meta:case dt.Load:case dt.DomContentLoaded:return!1;case dt.Plugin:return n;case dt.Custom:return this.replaceIds(n.data.payload,e,["id","parentId","previousId","nextId"]),n;case dt.IncrementalSnapshot:switch(n.data.source){case ht.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,e);const i=this.crossOriginIframeRootIdMap.get(e);i&&this.patchRootIdOnNode(r.node,i)}),n.data.removes.forEach(r=>{this.replaceIds(r,e,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,e,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case ht.Drag:case ht.TouchMove:case ht.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case ht.ViewportResize:return!1;case ht.MediaInteraction:case ht.MouseInteraction:case ht.Scroll:case ht.CanvasMutation:case ht.Input:return this.replaceIds(n.data,e,["id"]),n;case ht.StyleSheetRule:case ht.StyleDeclaration:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleId"]),n;case ht.Font:return n;case ht.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,e,["start","end"])}),n;case ht.AdoptedStyleSheet:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleIds"]),gu([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(i=>{this.replaceStyleIds(i,e,["styleId"])})]),n}}return!1}replace(e,n,r,i){for(const a of i)!Array.isArray(n[a])&&typeof n[a]!="number"||(Array.isArray(n[a])?n[a]=e.getIds(r,n[a]):n[a]=e.getId(r,n[a]));return n}replaceIds(e,n,r){return this.replace(this.crossOriginIframeMirror,e,n,r)}replaceStyleIds(e,n,r){return this.replace(this.crossOriginIframeStyleMirror,e,n,r)}replaceIdOnNode(e,n){this.replaceIds(e,n,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(e,n){e.type!==zt.Document&&!e.rootId&&(e.rootId=n),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Bg{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class zg{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,n){if(!or(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);const r=hu(X(A({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(pu(X(A({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(mu({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,n){const r=this;this.restoreHandlers.push(Oo(e.prototype,"attachShadow",function(i){return function(a){const o=i.call(this,a);return this.shadowRoot&&ou(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(n){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class yu{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class Wg{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new bg,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,n){if(e.length===0)return;const r={id:n,styleIds:[]},i=[];for(const a of e){let o;this.styleMirror.has(a)?o=this.styleMirror.getId(a):(o=this.styleMirror.add(a),i.push({styleId:o,rules:Array.from(a.rules||CSSRule,(c,s)=>({rule:zc(c),index:s}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Yg{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){kg(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(e,n){const r=this.nodeMap.get(e);return r&&Array.from(r).some(i=>i!==n)}add(e,n){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function Ht(t){const e=t;return e.timestamp=Qr(),e}let ri;const ye=Vm();function Ke(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:a=null,unblockSelector:o=null,ignoreClass:c="rr-ignore",ignoreSelector:s=null,maskAllText:d=!1,maskTextClass:l="rr-mask",unmaskTextClass:u=null,maskTextSelector:h=null,unmaskTextSelector:g=null,inlineStylesheet:p=!0,maskAllInputs:m,maskInputOptions:E,slimDOMOptions:f,maskAttributeFn:k,maskInputFn:y,maskTextFn:T,packFn:_,sampling:x={},dataURLOptions:w={},mousemoveWait:C,recordCanvas:S=!1,recordCrossOriginIframes:b=!1,recordAfter:v=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:I=!1,collectFonts:R=!1,inlineImages:O=!1,plugins:D,keepIframeSrcFn:M=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:P,onMutation:F,getCanvasManager:N}=t;Ig(P);const $=b?window.parent===window:!0;let j=!1;if(!$)try{window.parent.document&&(j=!1)}catch(lt){j=!0}if($&&!e)throw new Error("emit function is required");C!==void 0&&x.mousemove===void 0&&(x.mousemove=C),ye.reset();const U=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:E!==void 0?E:{},z=f===!0||f==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:f==="all",headMetaDescKeywords:f==="all"}:f||{};vg();let Y,Z=0;const J=lt=>{for(const ve of D||[])ve.eventProcessor&&(lt=ve.eventProcessor(lt));return _&&!j&&(lt=_(lt)),lt},V=(lt,ve)=>{if(Ji([Hn,"access",bt=>bt[0],"optionalAccess",bt=>bt.isFrozen,"call",bt=>bt()])&&lt.type!==dt.FullSnapshot&&!(lt.type===dt.IncrementalSnapshot&&lt.data.source===ht.Mutation)&&Hn.forEach(bt=>bt.unfreeze()),$)Ji([e,"optionalCall",bt=>bt(J(lt),ve)]);else if(j){const bt={type:"rrweb",event:J(lt),origin:window.location.origin,isCheckout:ve};window.parent.postMessage(bt,"*")}if(lt.type===dt.FullSnapshot)Y=lt,Z=0;else if(lt.type===dt.IncrementalSnapshot){if(lt.data.source===ht.Mutation&&lt.data.isAttachIframe)return;Z++;const bt=r&&Z>=r,be=n&&Y&&lt.timestamp-Y.timestamp>n;(bt||be)&&Xo(!0)}},at=lt=>{V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.Mutation},lt)}))},tt=lt=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.Scroll},lt)})),xt=lt=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.CanvasMutation},lt)})),Ut=lt=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.AdoptedStyleSheet},lt)})),te=new Wg({mutationCb:at,adoptedStyleSheetCb:Ut}),dn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Ug:new qg({mirror:ye,mutationCb:at,stylesheetManager:te,recordCrossOriginIframes:b,wrappedEmit:V});for(const lt of D||[])lt.getMirror&&lt.getMirror({nodeMirror:ye,crossOriginIframeMirror:dn.crossOriginIframeMirror,crossOriginIframeStyleMirror:dn.crossOriginIframeStyleMirror});const Jo=new Yg,el=Jg(N,{mirror:ye,win:window,mutationCb:lt=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.CanvasMutation},lt)})),recordCanvas:S,blockClass:i,blockSelector:a,unblockSelector:o,sampling:x.canvas,dataURLOptions:w,errorHandler:P}),di=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Bg:new zg({mutationCb:at,scrollCb:tt,bypassOptions:{onMutation:F,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:d,maskTextClass:l,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:g,inlineStylesheet:p,maskInputOptions:U,dataURLOptions:w,maskAttributeFn:k,maskTextFn:T,maskInputFn:y,recordCanvas:S,inlineImages:O,sampling:x,slimDOMOptions:z,iframeManager:dn,stylesheetManager:te,canvasManager:el,keepIframeSrcFn:M,processedNodeManager:Jo},mirror:ye}),Xo=(lt=!1)=>{V(Ht({type:dt.Meta,data:{href:window.location.href,width:tu(),height:Qc()}}),lt),te.reset(),di.init(),Hn.forEach(bt=>bt.lock());const ve=gg(document,{mirror:ye,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:d,maskTextClass:l,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:g,inlineStylesheet:p,maskAllInputs:U,maskAttributeFn:k,maskInputFn:y,maskTextFn:T,slimDOM:z,dataURLOptions:w,recordCanvas:S,inlineImages:O,onSerialize:bt=>{nu(bt,ye)&&dn.addIframe(bt),ru(bt,ye)&&te.trackLinkElement(bt),Mo(bt)&&di.addShadowRoot(bt.shadowRoot,document)},onIframeLoad:(bt,be)=>{dn.attachIframe(bt,be),di.observeAttachShadow(bt)},onStylesheetLoad:(bt,be)=>{te.attachLinkElement(bt,be)},keepIframeSrcFn:M});if(!ve)return console.warn("Failed to snapshot the document");V(Ht({type:dt.FullSnapshot,data:{node:ve,initialOffset:Zc(window)}})),Hn.forEach(bt=>bt.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&te.adoptStyleSheets(document.adoptedStyleSheets,ye.getId(document))};ri=Xo;try{const lt=[],ve=be=>yt(Hg)({onMutation:F,mutationCb:at,mousemoveCb:(Et,hn)=>V(Ht({type:dt.IncrementalSnapshot,data:{source:hn,positions:Et}})),mouseInteractionCb:Et=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.MouseInteraction},Et)})),scrollCb:tt,viewportResizeCb:Et=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.ViewportResize},Et)})),inputCb:Et=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.Input},Et)})),mediaInteractionCb:Et=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.MediaInteraction},Et)})),styleSheetRuleCb:Et=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.StyleSheetRule},Et)})),styleDeclarationCb:Et=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.StyleDeclaration},Et)})),canvasMutationCb:xt,fontCb:Et=>V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.Font},Et)})),selectionCb:Et=>{V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.Selection},Et)}))},customElementCb:Et=>{V(Ht({type:dt.IncrementalSnapshot,data:A({source:ht.CustomElement},Et)}))},blockClass:i,ignoreClass:c,ignoreSelector:s,maskAllText:d,maskTextClass:l,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:g,maskInputOptions:U,inlineStylesheet:p,sampling:x,recordCanvas:S,inlineImages:O,userTriggeredOnInput:I,collectFonts:R,doc:be,maskAttributeFn:k,maskInputFn:y,maskTextFn:T,keepIframeSrcFn:M,blockSelector:a,unblockSelector:o,slimDOMOptions:z,dataURLOptions:w,mirror:ye,iframeManager:dn,stylesheetManager:te,shadowDomManager:di,processedNodeManager:Jo,canvasManager:el,ignoreCSSAttributes:L,plugins:Ji([D,"optionalAccess",Et=>Et.filter,"call",Et=>Et(hn=>hn.observer),"optionalAccess",Et=>Et.map,"call",Et=>Et(hn=>({observer:hn.observer,options:hn.options,callback:ab=>V(Ht({type:dt.Plugin,data:{plugin:hn.name,payload:ab}}))}))])||[]},{});dn.addLoadListener(be=>{try{lt.push(ve(be.contentDocument))}catch(Et){console.warn(Et)}});const bt=()=>{Xo(),lt.push(ve(document))};return document.readyState==="interactive"||document.readyState==="complete"?bt():(lt.push(Gt("DOMContentLoaded",()=>{V(Ht({type:dt.DomContentLoaded,data:{}})),v==="DOMContentLoaded"&&bt()})),lt.push(Gt("load",()=>{V(Ht({type:dt.Load,data:{}})),v==="load"&&bt()},window))),()=>{lt.forEach(be=>be()),Jo.destroy(),ri=void 0,Cg()}}catch(lt){console.warn(lt)}}function Vg(t){if(!ri)throw new Error("please take full snapshot after start recording");ri(t)}Ke.mirror=ye,Ke.takeFullSnapshot=Vg;function Jg(t,e){try{return t?t(e):new yu}catch(n){return console.warn("Unable to initialize CanvasManager"),new yu}}const Xg=3,Kg=5;function Po(t){return t>9999999999?t:t*1e3}function jo(t){return t>9999999999?t/1e3:t}function dr(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:dt.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ee(e,10,1e3)}}),e.category==="console")))}const Gg="button,a";function vu(t){return t.closest(Gg)||t}function bu(t){const e=_u(t);return!e||!(e instanceof Element)?e:vu(e)}function _u(t){return Zg(t)?t.target:t}function Zg(t){return typeof t=="object"&&!!t&&"target"in t}let Ge;function Qg(t){return Ge||(Ge=[],ty()),Ge.push(t),()=>{const e=Ge?Ge.indexOf(t):-1;e>-1&&Ge.splice(e,1)}}function ty(){Yt(Ct,"open",function(t){return function(...e){if(Ge)try{Ge.forEach(n=>n())}catch(n){}return t.apply(Ct,e)}})}function ey(t,e,n){t.handleClick(e,n)}class ny{constructor(e,n,r=dr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const e=Qg(()=>{this._lastMutation=Su()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,n){if(iy(n,this._ignoreSelector)||!oy(e))return;const r={timestamp:jo(e.timestamp),clickBreadcrumb:e,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=jo(e)}registerScroll(e=Date.now()){this._lastScroll=jo(e)}registerClick(e){const n=vu(e);this._handleMultiClick(n)}_handleMultiClick(e){this._getClicks(e).forEach(n=>{n.clickCount++})}_getClicks(e){return this._clicks.filter(n=>n.node===e)}_checkClicks(){const e=[],n=Su();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&e.push(r)});for(const r of e){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const n=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,i=e.mutationAfter&&e.mutationAfter<=this._threshold,a=!r&&!i,{clickCount:o,clickBreadcrumb:c}=e;if(a){const s=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,d=s<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.slowClickDetected",data:X(A({},c.data),{url:Ct.location.href,route:n.getCurrentRoute(),timeAfterClickMs:s,endReason:d,clickCount:o||1})};this._addBreadcrumbEvent(n,l);return}if(o>1){const s={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.multiClick",data:X(A({},c.data),{url:Ct.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0})};this._addBreadcrumbEvent(n,s)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const ry=["A","BUTTON","INPUT"];function iy(t,e){return!!(!ry.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function oy(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function Su(){return Date.now()/1e3}function sy(t,e){try{if(!ay(e))return;const{source:n}=e.data;if(n===ht.Mutation&&t.registerMutation(e.timestamp),n===ht.Scroll&&t.registerScroll(e.timestamp),cy(e)){const{type:r,id:i}=e.data,a=Ke.mirror.getNode(i);a instanceof HTMLElement&&r===Zt.Click&&t.registerClick(a)}}catch(n){}}function ay(t){return t.type===Xg}function cy(t){return t.data.source===ht.MouseInteraction}function Oe(t){return A({timestamp:Date.now()/1e3,type:"default"},t)}var ii;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(ii||(ii={}));const uy=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function ly(t){const e={};for(const n in t)if(uy.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),e[r]=t[n]}return e}const dy=t=>e=>{if(!t.isEnabled())return;const n=hy(e);if(!n)return;const r=e.name==="click",i=r?e.event:void 0;r&&t.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&ey(t.clickDetector,n,bu(e.event)),dr(t,n)};function wu(t,e){const n=Ke.mirror.getId(t),r=n&&Ke.mirror.getNode(n),i=r&&Ke.mirror.getMeta(r),a=i&&fy(i)?i:null;return{message:e,data:a?{nodeId:n,node:{id:n,tagName:a.tagName,textContent:Array.from(a.childNodes).map(o=>o.type===ii.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:ly(a.attributes)}}:{}}}function hy(t){const{target:e,message:n}=py(t);return Oe(A({category:`ui.${t.name}`},wu(e,n)))}function py(t){const e=t.name==="click";let n,r=null;try{r=e?bu(t.event):_u(t.event),n=Ue(r,{maxStringLength:200})||"<unknown>"}catch(i){n="<unknown>"}return{target:r,message:n}}function fy(t){return t.type===ii.Element}function my(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=gy(e);n&&dr(t,n)}function gy(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:i,key:a,target:o}=t;if(!o||yy(o)||!a)return null;const c=e||r||i,s=a.length===1;if(!c&&s)return null;const d=Ue(o,{maxStringLength:200})||"<unknown>",l=wu(o,d);return Oe({category:"ui.keyDown",message:d,data:X(A({},l.data),{metaKey:e,shiftKey:n,ctrlKey:r,altKey:i,key:a})})}function yy(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const ku={resource:wy,paint:_y,navigation:Sy};function vy(t){return t.map(by).filter(Boolean)}function by(t){return ku[t.entryType]?ku[t.entryType](t):null}function Un(t){return((ae||Ct.performance.timeOrigin)+t)/1e3}function _y(t){const{duration:e,entryType:n,name:r,startTime:i}=t,a=Un(i);return{type:n,name:r,start:a,end:a+e,data:void 0}}function Sy(t){const{entryType:e,name:n,decodedBodySize:r,duration:i,domComplete:a,encodedBodySize:o,domContentLoadedEventStart:c,domContentLoadedEventEnd:s,domInteractive:d,loadEventStart:l,loadEventEnd:u,redirectCount:h,startTime:g,transferSize:p,type:m}=t;return i===0?null:{type:`${e}.${m}`,start:Un(g),end:Un(a),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:d,domContentLoadedEventStart:c,domContentLoadedEventEnd:s,loadEventStart:l,loadEventEnd:u,domComplete:a,redirectCount:h}}}function wy(t){const{entryType:e,initiatorType:n,name:r,responseEnd:i,startTime:a,decodedBodySize:o,encodedBodySize:c,responseStatus:s,transferSize:d}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:Un(a),end:Un(i),name:r,data:{size:d,statusCode:s,decodedBodySize:o,encodedBodySize:c}}}function ky(t){const e=t.entries,n=e[e.length-1],r=n?n.element:void 0,i=t.value,a=Un(i);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:a,end:a,data:{value:i,size:i,nodeId:r?Ke.mirror.getId(r):void 0}}}function xy(t){function e(i){t.performanceEntries.includes(i)||t.performanceEntries.push(i)}function n({entries:i}){i.forEach(e)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(Rn(i,n))}),r.push(lc(({metric:i})=>{t.replayPerformanceEntries.push(ky(i))})),()=>{r.forEach(i=>i())}}const Tt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ey='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Ty(){const t=new Blob([Ey]);return URL.createObjectURL(t)}function Qt(t,e){Tt&&(H.info(t),e&&xu(t))}function qn(t,e){Tt&&(H.info(t),e&&setTimeout(()=>{xu(t)},0))}function xu(t){We({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class $o extends Error{constructor(){super(`Event buffer exceeded maximum size of ${xo}.`)}}class Eu{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(e){return Nt(this,null,function*(){const n=JSON.stringify(e).length;if(this._totalSize+=n,this._totalSize>xo)throw new $o;this.events.push(e)})}finish(){return new Promise(e=>{const n=this.events;this.clear(),e(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(n=>n.timestamp).sort()[0];return e?Po(e):null}}class Iy{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Qt("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const r=this._getAndIncrementId();return new Promise((i,a)=>{const o=({data:c})=>{const s=c;if(s.method===e&&s.id===r){if(this._worker.removeEventListener("message",o),!s.success){Tt&&H.error("[Replay]",s.response),a(new Error("Error in compression worker"));return}i(s.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class Cy{constructor(e){this._worker=new Iy(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const n=Po(e.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(e);return this._totalSize+=r.length,this._totalSize>xo?Promise.reject(new $o):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{Tt&&H.warn('[Replay] Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}_finishRequest(){return Nt(this,null,function*(){const e=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e})}}class Oy{constructor(e){this._fallback=new Eu,this._compression=new Cy(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}finish(){return Nt(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return Nt(this,null,function*(){try{yield this._compression.ensureReady()}catch(e){Qt("[Replay] Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return Nt(this,null,function*(){const{events:e,hasCheckout:n}=this._fallback,r=[];for(const i of e)r.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._used=this._compression;try{yield Promise.all(r)}catch(i){Tt&&H.warn("[Replay] Failed to add events when switching buffers.",i)}})}}function Ry({useCompression:t,workerUrl:e}){if(t&&window.Worker){const n=Dy(e);if(n)return n}return Qt("[Replay] Using simple buffer"),new Eu}function Dy(t){try{const e=t||My();if(!e)return;Qt(`[Replay] Using compression worker${t?` from ${t}`:""}`);const n=new Worker(e);return new Oy(n)}catch(e){Qt("[Replay] Failed to create compression worker")}}function My(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Ty():""}function Fo(){try{return"sessionStorage"in Ct&&!!Ct.sessionStorage}catch(t){return!1}}function Ny(t){Ay(),t.session=void 0}function Ay(){if(Fo())try{Ct.sessionStorage.removeItem(wo)}catch(t){}}function Tu(t){return t===void 0?!1:Math.random()<t}function Iu(t){const e=Date.now(),n=t.id||At(),r=t.started||e,i=t.lastActivity||e,a=t.segmentId||0,o=t.sampled,c=t.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:a,sampled:o,previousSessionId:c}}function Ho(t){if(Fo())try{Ct.sessionStorage.setItem(wo,JSON.stringify(t))}catch(e){}}function Ly(t,e){return Tu(t)?"session":e?"buffer":!1}function Cu({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const i=Ly(t,e),a=Iu({sampled:i,previousSessionId:r});return n&&Ho(a),a}function Py(t){if(!Fo())return null;try{const e=Ct.sessionStorage.getItem(wo);if(!e)return null;const n=JSON.parse(e);return qn("[Replay] Loading existing session",t),Iu(n)}catch(e){return null}}function Uo(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function Ou(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return Uo(t.started,e,r)||Uo(t.lastActivity,n,r)}function Ru(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!(!Ou(t,{sessionIdleExpire:e,maxReplayDuration:n})||t.sampled==="buffer"&&t.segmentId===0)}function qo({traceInternals:t,sessionIdleExpire:e,maxReplayDuration:n,previousSessionId:r},i){const a=i.stickySession&&Py(t);return a?Ru(a,{sessionIdleExpire:e,maxReplayDuration:n})?(qn("[Replay] Session in sessionStorage is expired, creating new one..."),Cu(i,{previousSessionId:a.id})):a:(qn("[Replay] Creating new session",t),Cu(i,{previousSessionId:r}))}function jy(t){return t.type===dt.Custom}function Bo(t,e,n){return Mu(t,e)?(Du(t,e,n),!0):!1}function $y(t,e,n){return Mu(t,e)?Du(t,e,n):Promise.resolve(null)}function Du(t,e,n){return Nt(this,null,function*(){if(!t.eventBuffer)return null;try{n&&t.recordingMode==="buffer"&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const r=t.getOptions(),i=Fy(e,r.beforeAddRecordingEvent);return i?yield t.eventBuffer.addEvent(i):void 0}catch(r){const i=r&&r instanceof $o?"addEventSizeExceeded":"addEvent";Tt&&H.error(r),yield t.stop({reason:i});const a=St();a&&a.recordDroppedEvent("internal_sdk_error","replay")}})}function Mu(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=Po(e.timestamp);return n+t.timeouts.sessionIdlePause<Date.now()?!1:n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(Qt(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1):!0}function Fy(t,e){try{if(typeof e=="function"&&jy(t))return e(t)}catch(n){return Tt&&H.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return t}function zo(t){return!t.type}function Wo(t){return t.type==="transaction"}function Hy(t){return t.type==="replay_event"}function Nu(t){return t.type==="feedback"}function Au(t){const e=By();return(n,r)=>{if(!t.isEnabled()||!zo(n)&&!Wo(n))return;const i=r&&r.statusCode;if(!(e&&(!i||i<200||i>=300))){if(Wo(n)){Uy(t,n);return}qy(t,n)}}}function Uy(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}function qy(t,e){const n=t.getContext();if(e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();typeof r=="function"&&!r(e)||setTimeout(()=>{t.sendBufferedReplayOrFlush()})}function By(){const t=St();if(!t)return!1;const e=t.getTransport();return e&&e.send.__sentry__baseTransport__||!1}function zy(t){return e=>{!t.isEnabled()||!zo(e)||Wy(t,e)}}function Wy(t,e){const n=e.exception&&e.exception.values&&e.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Oe({category:"replay.hydrate-error"});dr(t,r)}}function Yy(t,e){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:!!(e.originalException&&e.originalException.__rrweb__)}function Vy(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:dt.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function Jy(t,e){return t.recordingMode!=="buffer"||e.message===ko||!e.exception||e.type?!1:Tu(t.getOptions().errorSampleRate)}function Xy(t,e=!1){const n=e?Au(t):void 0;return Object.assign((r,i)=>t.isEnabled()?Hy(r)?(delete r.breadcrumbs,r):!zo(r)&&!Wo(r)&&!Nu(r)||!t.checkAndHandleExpiredSession()?r:Nu(r)?(t.flush(),r.contexts.feedback.replay_id=t.getSessionId(),Vy(t,r),r):Yy(r,i)&&!t.getOptions()._experiments.captureExceptions?(Tt&&H.log("[Replay] Ignoring error from rrweb internals",r),null):((Jy(t,r)||t.recordingMode==="session")&&(r.tags=X(A({},r.tags),{replayId:t.getSessionId()})),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function oi(t,e){return e.map(({type:n,start:r,end:i,name:a,data:o})=>{const c=t.throttledAddEvent({type:dt.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:a,startTimestamp:r,endTimestamp:i,data:o}}});return typeof c=="string"?Promise.resolve(null):c})}function Ky(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}function Gy(t){return e=>{if(!t.isEnabled())return;const n=Ky(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(oi(t,[n]),!1)))}}function Zy(t,e){return Tt&&t.getOptions()._experiments.traceInternals?!1:Vh(e,St())}function si(t,e){t.isEnabled()&&e!==null&&(Zy(t,e.name)||t.addUpdate(()=>(oi(t,[e]),!0)))}function Qy(t){const{startTimestamp:e,endTimestamp:n,fetchData:r,response:i}=t;if(!n)return null;const{method:a,url:o}=r;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:o,data:{method:a,statusCode:i?i.status:void 0}}}function tv(t){return e=>{if(!t.isEnabled())return;const n=Qy(e);si(t,n)}}function ev(t){const{startTimestamp:e,endTimestamp:n,xhr:r}=t,i=r[Be];if(!e||!n||!i)return null;const{method:a,url:o,status_code:c}=i;return o===void 0?null:{type:"resource.xhr",name:o,start:e/1e3,end:n/1e3,data:{method:a,statusCode:c}}}function nv(t){return e=>{if(!t.isEnabled())return;const n=ev(e);si(t,n)}}function ai(t,e){if(t)try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=$u(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(n){}}function Lu(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Pu(t){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[$u(t)];if(!t)return[void 0]}catch(e){return Tt&&H.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Tt&&H.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function ci(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n=A({},t._meta),r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function ju(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:a,statusCode:o,request:c,response:s}=e;return{type:t,start:n/1e3,end:r/1e3,name:i,data:Kt({method:a,statusCode:o,request:c,response:s})}}function hr(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function Ze(t,e,n){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:i,warnings:a}=rv(n);return r.body=i,a&&a.length>0&&(r._meta={warnings:a}),r}function Yo(t,e){return Object.keys(t).reduce((n,r)=>{const i=r.toLowerCase();return e.includes(i)&&t[r]&&(n[i]=t[r]),n},{})}function $u(t){return new URLSearchParams(t).toString()}function rv(t){if(!t||typeof t!="string")return{body:t};const e=t.length>qc,n=iv(t);if(e){const r=t.slice(0,qc);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch(r){}return{body:t}}function iv(t){const e=t[0],n=t[t.length-1];return e==="["&&n==="]"||e==="{"&&n==="}"}function ui(t,e){const n=ov(t);return bn(n,e)}function ov(t,e=Ct.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(Ct.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;return!t.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}function sv(t,e,n){return Nt(this,null,function*(){try{const r=yield cv(t,e,n),i=ju("resource.fetch",r);si(n.replay,i)}catch(r){Tt&&H.error("[Replay] Failed to capture fetch breadcrumb",r)}})}function av(t,e,n){const{input:r,response:i}=e,a=r?Fu(r):void 0,o=ai(a,n.textEncoder),c=i?Lu(i.headers.get("content-length")):void 0;o!==void 0&&(t.data.request_body_size=o),c!==void 0&&(t.data.response_body_size=c)}function cv(t,e,n){return Nt(this,null,function*(){const r=Date.now(),{startTimestamp:i=r,endTimestamp:a=r}=e,{url:o,method:c,status_code:s=0,request_body_size:d,response_body_size:l}=t.data,u=ui(o,n.networkDetailAllowUrls)&&!ui(o,n.networkDetailDenyUrls),h=u?uv(n,e.input,d):hr(d),g=yield lv(u,n,e.response,l);return{startTimestamp:i,endTimestamp:a,url:o,method:c,statusCode:s,request:h,response:g}})}function uv({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const i=n?pv(n,e):{};if(!t)return Ze(i,r,void 0);const a=Fu(n),[o,c]=Pu(a),s=Ze(i,r,o);return c?ci(s,c):s}function lv(o,c,s,d){return Nt(this,arguments,function*(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:r},i,a){if(!t&&a!==void 0)return hr(a);const l=i?Hu(i.headers,r):{};if(!i||!e&&a!==void 0)return Ze(l,a,void 0);const[u,h]=yield hv(i),g=dv(u,{networkCaptureBodies:e,textEncoder:n,responseBodySize:a,captureDetails:t,headers:l});return h?ci(g,h):g})}function dv(t,{networkCaptureBodies:e,textEncoder:n,responseBodySize:r,captureDetails:i,headers:a}){try{const o=t&&t.length&&r===void 0?ai(t,n):r;return i?e?Ze(a,o,t):Ze(a,o,void 0):hr(o)}catch(o){return Tt&&H.warn("[Replay] Failed to serialize response body",o),Ze(a,r,void 0)}}function hv(t){return Nt(this,null,function*(){const e=fv(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[yield mv(e)]}catch(n){return Tt&&H.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}})}function Fu(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function Hu(t,e){const n={};return e.forEach(r=>{t.get(r)&&(n[r]=t.get(r))}),n}function pv(t,e){return t.length===1&&typeof t[0]!="string"?Uu(t[0],e):t.length===2?Uu(t[1],e):{}}function Uu(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?Hu(n,e):Array.isArray(n)?{}:Yo(n,e):{}}function fv(t){try{return t.clone()}catch(e){Tt&&H.warn("[Replay] Failed to clone response body",e)}}function mv(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);gv(t).then(i=>e(i),i=>n(i)).finally(()=>clearTimeout(r))})}function gv(t){return Nt(this,null,function*(){return yield t.text()})}function yv(t,e,n){return Nt(this,null,function*(){try{const r=bv(t,e,n),i=ju("resource.xhr",r);si(n.replay,i)}catch(r){Tt&&H.error("[Replay] Failed to capture xhr breadcrumb",r)}})}function vv(t,e,n){const{xhr:r,input:i}=e;if(!r)return;const a=ai(i,n.textEncoder),o=r.getResponseHeader("content-length")?Lu(r.getResponseHeader("content-length")):kv(r.response,r.responseType,n.textEncoder);a!==void 0&&(t.data.request_body_size=a),o!==void 0&&(t.data.response_body_size=o)}function bv(t,e,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:a=r,input:o,xhr:c}=e,{url:s,method:d,status_code:l=0,request_body_size:u,response_body_size:h}=t.data;if(!s)return null;if(!c||!ui(s,n.networkDetailAllowUrls)||ui(s,n.networkDetailDenyUrls)){const x=hr(u),w=hr(h);return{startTimestamp:i,endTimestamp:a,url:s,method:d,statusCode:l,request:x,response:w}}const g=c[Be],p=g?Yo(g.request_headers,n.networkRequestHeaders):{},m=Yo(_v(c),n.networkResponseHeaders),[E,f]=n.networkCaptureBodies?Pu(o):[void 0],[k,y]=n.networkCaptureBodies?Sv(c):[void 0],T=Ze(p,u,E),_=Ze(m,h,k);return{startTimestamp:i,endTimestamp:a,url:s,method:d,statusCode:l,request:f?ci(T,f):T,response:y?ci(_,y):_}}function _v(t){const e=t.getAllResponseHeaders();return e?e.split(`\r
`).reduce((n,r)=>{const[i,a]=r.split(": ");return n[i.toLowerCase()]=a,n},{}):{}}function Sv(t){const e=[];try{return[t.responseText]}catch(n){e.push(n)}try{return wv(t.response,t.responseType)}catch(n){e.push(n)}return Tt&&H.warn("[Replay] Failed to get xhr response body",...e),[void 0]}function wv(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(n){return Tt&&H.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Tt&&H.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function kv(t,e,n){try{const r=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return ai(r,n)}catch(r){return}}function xv(t){const e=St();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:a,networkRequestHeaders:o,networkResponseHeaders:c}=t.getOptions(),s={replay:t,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:a,networkRequestHeaders:o,networkResponseHeaders:c};e&&e.on?e.on("beforeAddBreadcrumb",(d,l)=>Ev(s,d,l)):(Fi(tv(t)),Ui(nv(t)))}catch(n){}}function Ev(t,e,n){if(e.data)try{Tv(e)&&Cv(n)&&(vv(e,n,t),yv(e,n,t)),Iv(e)&&Ov(n)&&(av(e,n,t),sv(e,n,t))}catch(r){Tt&&H.warn("Error when enriching network breadcrumb")}}function Tv(t){return t.category==="xhr"}function Iv(t){return t.category==="fetch"}function Cv(t){return t&&t.xhr}function Ov(t){return t&&t.response}let qu=null;function Rv(t){return!!t.category}const Dv=t=>e=>{if(!t.isEnabled())return;const n=Mv(e);n&&dr(t,n)};function Mv(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();return qu===e||!e||(qu=e,!Rv(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))?null:e.category==="console"?Nv(e):Oe(e)}function Nv(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||e.length===0)return Oe(t);let n=!1;const r=e.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>Yr?(n=!0,`${i.slice(0,Yr)}\u2026`):i;if(typeof i=="object")try{const a=Ee(i,7);return JSON.stringify(a).length>Yr?(n=!0,`${JSON.stringify(a,null,2).slice(0,Yr)}\u2026`):a}catch(a){}return i});return Oe(X(A({},t),{data:A(X(A({},t.data),{arguments:r}),n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function Av(t){const e=ce(),n=St();e.addScopeListener(Dv(t)),Ws(dy(t)),Tr(Gy(t)),xv(t);const r=Xy(t,!Bu(n));n&&n.addEventProcessor?n.addEventProcessor(r):Hh(r),Bu(n)&&(n.on("beforeSendEvent",zy(t)),n.on("afterSendEvent",Au(t)),n.on("createDsc",i=>{const a=t.getSessionId();a&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(i.replay_id=a)}),n.on("startTransaction",i=>{t.lastTransaction=i}),n.on("finishTransaction",i=>{t.lastTransaction=i}),n.on("beforeSendFeedback",(i,a)=>{const o=t.getSessionId();a&&a.includeReplay&&t.isEnabled()&&o&&i.contexts&&i.contexts.feedback&&(i.contexts.feedback.replay_id=o)}))}function Bu(t){return!!(t&&t.on)}function Lv(t){return Nt(this,null,function*(){try{return Promise.all(oi(t,[Pv(Ct.performance.memory)]))}catch(e){return[]}})}function Pv(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function jv(t,e,n){let r,i,a;const o=n&&n.maxWait?Math.max(n.maxWait,e):0;function c(){return s(),r=t(),r}function s(){i!==void 0&&clearTimeout(i),a!==void 0&&clearTimeout(a),i=a=void 0}function d(){return i!==void 0||a!==void 0?c():r}function l(){return i&&clearTimeout(i),i=setTimeout(c,e),o&&a===void 0&&(a=setTimeout(c,o)),r}return l.cancel=s,l.flush=d,l}function $v(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession()){Tt&&H.warn("[Replay] Received replay event after session expired.");return}const i=r||!e;e=!0,t.clickDetector&&sy(t.clickDetector,n),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&i&&t.setInitialState(),!Bo(t,n,i))return!0;if(!i)return!1;if(Hv(t,i),t.session&&t.session.previousSessionId)return!0;if(t.recordingMode==="buffer"&&t.session&&t.eventBuffer){const a=t.eventBuffer.getEarliestTimestamp();a&&(Qt(`[Replay] Updating session start time to earliest event in buffer to ${new Date(a)}`,t.getOptions()._experiments.traceInternals),t.session.started=a,t.getOptions().stickySession&&Ho(t.session))}return t.recordingMode==="session"&&t.flush(),!0})}}function Fv(t){const e=t.getOptions();return{type:dt.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function Hv(t,e){!e||!t.session||t.session.segmentId!==0||Bo(t,Fv(t),!1)}function Uv(t,e,n,r){return ze(oa(t,Vi(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function qv({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+t.length),n.set(i),n.set(t,i.length)}return n}function Bv(i){return Nt(this,arguments,function*({client:t,scope:e,replayId:n,event:r}){const a=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,o={event_id:n,integrations:a};t.emit&&t.emit("preprocessEvent",r,o);const c=yield ha(t.getOptions(),r,o,e,t,Ye());if(!c)return null;c.platform=c.platform||"javascript";const s=t.getSdkMetadata&&t.getSdkMetadata(),{name:d,version:l}=s&&s.sdk||{};return c.sdk=X(A({},c.sdk),{name:d||"sentry.javascript.unknown",version:l||"0.0.0"}),c})}function zv(o){return Nt(this,arguments,function*({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:i,session:a}){const c=qv({recordingData:t,headers:{segment_id:n}}),{urls:s,errorIds:d,traceIds:l,initialTimestamp:u}=r,h=St(),g=ce(),p=h&&h.getTransport(),m=h&&h.getDsn();if(!h||!p||!m||!a.sampled)return;const E={type:Cm,replay_start_timestamp:u/1e3,timestamp:i/1e3,error_ids:d,trace_ids:l,urls:s,replay_id:e,segment_id:n,replay_type:a.sampled},f=yield Bv({scope:g,client:h,replayId:e,event:E});if(!f){h.recordDroppedEvent("event_processor","replay",E),Qt("An event processor returned `null`, will not send event.");return}delete f.sdkProcessingMetadata;const k=Uv(f,c,m,h.getOptions().tunnel);let y;try{y=yield p.send(k)}catch(_){const x=new Error(ko);try{x.cause=_}catch(w){}throw x}if(!y)return y;if(typeof y.statusCode=="number"&&(y.statusCode<200||y.statusCode>=300))throw new zu(y.statusCode);const T=aa({},y);if(sa(T,"replay"))throw new Wu(T);return y})}class zu extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Wu extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}function Yu(n){return Nt(this,arguments,function*(t,e={count:0,interval:Am}){const{recordingData:r,options:i}=t;if(r.length)try{return yield zv(t),!0}catch(a){if(a instanceof zu||a instanceof Wu)throw a;if(Gd("Replays",{_retryCount:e.count}),Tt&&i._experiments&&i._experiments.captureExceptions&&Mr(a),e.count>=Lm){const o=new Error(`${ko} - max retries exceeded`);try{o.cause=a}catch(c){}throw o}return e.interval*=++e.count,new Promise((o,c)=>{setTimeout(()=>Nt(this,null,function*(){try{yield Yu(t,e),o(!0)}catch(s){c(s)}}),e.interval)})}})}const Vu="__THROTTLED",Wv="__SKIPPED";function Yv(t,e,n){const r=new Map,i=c=>{const s=c-n;r.forEach((d,l)=>{l<s&&r.delete(l)})},a=()=>[...r.values()].reduce((c,s)=>c+s,0);let o=!1;return(...c)=>{const s=Math.floor(Date.now()/1e3);if(i(s),a()>=e){const l=o;return o=!0,l?Wv:Vu}o=!1;const d=r.get(s)||0;return r.set(s,d+1),t(...c)}}class Qe{constructor({options:e,recordingOptions:n}){Qe.prototype.__init.call(this),Qe.prototype.__init2.call(this),Qe.prototype.__init3.call(this),Qe.prototype.__init4.call(this),Qe.prototype.__init5.call(this),Qe.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Om,sessionIdleExpire:Rm},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=jv(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Yv((o,c)=>$y(this,o,c),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),a=r?{threshold:Math.min(Pm,r),timeout:r,scrollTimeout:jm,ignoreSelector:i?i.join(","):""}:void 0;a&&(this.clickDetector=new ny(this,a))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(e),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",qn(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");qn("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const e=qo({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");qn("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=qo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Ke(A(X(A(A({},this._recordingOptions),this.recordingMode==="buffer"&&{checkoutEveryNms:Nm}),{emit:$v(this),onMutation:this._onMutationHandler}),e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}stop(){return Nt(this,arguments,function*({forceFlush:e=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{Qt(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&(yield this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Ny(this)}catch(r){this._handleException(r)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Qt("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Qt("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush(){return Nt(this,arguments,function*({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Qt("[Replay] Converting buffer to session",this._options._experiments.traceInternals),yield this.flushImmediate();const r=this.stopRecording();!e||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())})}addUpdate(e){const n=e();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Uo(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${Ct.location.pathname}${Ct.location.hash}${Ct.location.search}`,n=`${Ct.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(e,n){const r=this._throttledAddEvent(e,n);if(r===Vu){const i=Oe({category:"replay.throttled"});this.addUpdate(()=>!Bo(this,{type:Kg,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const e=this.lastTransaction||ce().getTransaction(),n=(e&&Ft(e).data||{})[Le];if(!(!e||!n||!["route","custom"].includes(n)))return Ft(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Ry({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){Tt&&H.error("[Replay]",e),Tt&&this._options._experiments&&this._options._experiments.captureExceptions&&Mr(e)}_initializeSessionForSampling(e){const n=this._options.errorSampleRate>0,r=qo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const e=this.session;return Ru(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}_refreshSession(e){return Nt(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(e.id))})}_addListeners(){try{Ct.document.addEventListener("visibilitychange",this._handleVisibilityChange),Ct.addEventListener("blur",this._handleWindowBlur),Ct.addEventListener("focus",this._handleWindowFocus),Ct.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Av(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=xy(this)}_removeListeners(){try{Ct.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Ct.removeEventListener("blur",this._handleWindowBlur),Ct.removeEventListener("focus",this._handleWindowFocus),Ct.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{Ct.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Oe({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Oe({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{my(this,e)}}_doChangeToBackgroundTasks(e){!this.session||Ou(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(this.session){if(!this.checkAndHandleExpiredSession()){Qt("[Replay] Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:dt.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){const e=vy(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(oi(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:n}=this;if(!e||!n||e.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}_runFlush(){return Nt(this,null,function*(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){Tt&&H.error("[Replay] No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(yield Lv(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const a=yield this.eventBuffer.finish();yield Yu({replayId:e,recordingData:a,segmentId:i,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=St();r&&r.recordDroppedEvent("send_error","replay")}})}__init5(){this._flush=(...n)=>Nt(this,[...n],function*({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){Tt&&H.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const r=this.session.started,i=Date.now()-r;this._debouncedFlush.cancel();const a=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(a||o){Qt(`[Replay] Session duration (${Math.floor(i/1e3)}s) is too ${a?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),a&&this._debouncedFlush();return}const c=this.eventBuffer;if(c&&this.session.segmentId===0&&!c.hasCheckout&&Qt("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),yield this._flushLock,this._flushLock=void 0;return}try{yield this._flushLock}catch(s){Tt&&H.error(s)}finally{this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&Ho(this.session)}__init6(){this._onMutationHandler=e=>{const n=e.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,a=r&&n>r;if(n>i||a){const o=Oe({category:"replay.mutations",data:{count:n,limit:a}});this._createCustomBreadcrumb(o)}return a?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function pr(t,e,n,r){const i=typeof r=="string"?r.split(","):[],a=[...t,...i,...e];return typeof n<"u"&&(typeof n=="string"&&a.push(`.${n}`),nn(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),a.join(",")}function Vv({mask:t,unmask:e,block:n,unblock:r,ignore:i,blockClass:a,blockSelector:o,maskTextClass:c,maskTextSelector:s,ignoreClass:d}){const l=['base[href="/"]'],u=pr(t,[".sentry-mask","[data-sentry-mask]"],c,s),h=pr(e,[".sentry-unmask","[data-sentry-unmask]"]),g={maskTextSelector:u,unmaskTextSelector:h,blockSelector:pr(n,[".sentry-block","[data-sentry-block]",...l],a,o),unblockSelector:pr(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:pr(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],d)};return a instanceof RegExp&&(g.blockClass=a),c instanceof RegExp&&(g.maskTextClass=c),g}function Jv({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:i,value:a}){return!r||i.unmaskTextSelector&&t.matches(i.unmaskTextSelector)?a:n.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?a.replace(/[\S]/g,"*"):a}const Ju='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Xv=["content-length","content-type","accept"];let Xu=!1;const Kv=t=>new li(t);class li{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=Dm,flushMaxDelay:n=Mm,minReplayDuration:r=$m,maxReplayDuration:i=Bc,stickySession:a=!0,useCompression:o=!0,workerUrl:c,_experiments:s={},sessionSampleRate:d,errorSampleRate:l,maskAllText:u=!0,maskAllInputs:h=!0,blockAllMedia:g=!0,mutationBreadcrumbLimit:p=750,mutationLimit:m=1e4,slowClickTimeout:E=7e3,slowClickIgnoreSelectors:f=[],networkDetailAllowUrls:k=[],networkDetailDenyUrls:y=[],networkCaptureBodies:T=!0,networkRequestHeaders:_=[],networkResponseHeaders:x=[],mask:w=[],maskAttributes:C=["title","placeholder"],unmask:S=[],block:b=[],unblock:v=[],ignore:I=[],maskFn:R,beforeAddRecordingEvent:O,beforeErrorSampling:D,blockClass:M,blockSelector:L,maskInputOptions:P,maskTextClass:F,maskTextSelector:N,ignoreClass:$}={}){this.name=li.id;const j=Vv({mask:w,unmask:S,block:b,unblock:v,ignore:I,blockClass:M,blockSelector:L,maskTextClass:F,maskTextSelector:N,ignoreClass:$});if(this._recordingOptions=X(A({maskAllInputs:h,maskAllText:u,maskInputOptions:X(A({},P||{}),{password:!0}),maskTextFn:R,maskInputFn:R,maskAttributeFn:(U,z,Y)=>Jv({maskAttributes:C,maskAllText:u,privacyOptions:j,key:U,value:z,el:Y})},j),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:U=>{try{U.__rrweb__=!0}catch(z){}}}),this._initialOptions={flushMinDelay:e,flushMaxDelay:n,minReplayDuration:Math.min(r,Fm),maxReplayDuration:Math.min(i,Bc),stickySession:a,sessionSampleRate:d,errorSampleRate:l,useCompression:o,workerUrl:c,blockAllMedia:g,maskAllInputs:h,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:m,slowClickTimeout:E,slowClickIgnoreSelectors:f,networkDetailAllowUrls:k,networkDetailDenyUrls:y,networkCaptureBodies:T,networkRequestHeaders:Ku(_),networkResponseHeaders:Ku(x),beforeAddRecordingEvent:O,beforeErrorSampling:D,_experiments:s},typeof d=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${d} })`),this._initialOptions.sessionSampleRate=d),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Ju}`:Ju),this._isInitialized&&Gs())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Xu}set _isInitialized(e){Xu=e}setupOnce(){Gs()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(e)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=Gv(this._initialOptions);this._replay=new Qe({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const e=St().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}li.__initStatic();function Gv(t){const e=St(),n=e&&e.getOptions(),r=A({sessionSampleRate:0,errorSampleRate:0},Kt(t));return n?(t.sessionSampleRate==null&&t.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&nn(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(nn(()=>{console.warn("SDK client is not available.")}),r)}function Ku(t){return[...Xv,...t.map(e=>e.toLowerCase())]}function Zv(t){const e=A({},t);Va(e,"react"),Tm(e)}var Gu=as,Qv={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Zu={};Zu[Gu.ForwardRef]=Qv,Zu[Gu.Memo]=tb;const eb=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function nb(t){const e=t.match(/^([^.]+)/);return e!==null&&parseInt(e[0])>=17}const Qu={componentStack:null,error:null,eventId:null};function rb(t,e){const n=new WeakMap;function r(i,a){if(!n.has(i)){if(i.cause)return n.set(i,!0),r(i.cause,a);i.cause=a}}r(t,e)}class Vo extends it.Component{constructor(e){super(e),Vo.prototype.__init.call(this),this.state=Qu,this._openFallbackReportDialog=!0;const n=St();n&&n.on&&e.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&Uc(X(A({},e.dialogOptions),{eventId:this._lastEventId}))}))}componentDidCatch(e,{componentStack:n}){const{beforeCapture:r,onError:i,showDialog:a,dialogOptions:o}=this.props;ma(c=>{if(nb(it.version)&&xi(e)){const d=new Error(e.message);d.name=`React ErrorBoundary ${e.name}`,d.stack=n,rb(e,d)}r&&r(c,e,n);const s=Mr(e,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});i&&i(e,n,s),a&&(this._lastEventId=s,this._openFallbackReportDialog&&Uc(X(A({},o),{eventId:s}))),this.setState({error:e,componentStack:n,eventId:s})})}componentDidMount(){const{onMount:e}=this.props;e&&e()}componentWillUnmount(){const{error:e,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(e,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:e}=this.props,{error:n,componentStack:r,eventId:i}=this.state;e&&e(n,r,i),this.setState(Qu)}}render(){const{fallback:e,children:n}=this.props,r=this.state;if(r.error){let i;return typeof e=="function"?i=e({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=e,it.isValidElement(i)?i:(e&&eb&&H.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function ib(){return ut.jsx("h2",{children:"Something went wrong."})}function ob(t){(0,it.useLayoutEffect)(()=>(sessionStorage.getItem("sentryInitialized")||(Zv(A({integrations:[df(),Kv({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,maxBreadcrumbs:50},t)),sessionStorage.setItem("sentryInitialized","true")),()=>{}),[t])}const tl=({children:t,sentryOptions:e,fallback:n})=>(ob(e),ut.jsx(Vo,{fallback:n||ib,children:t})),sb=({fundebug:t,rollbar:e,sentry:n,children:r,className:i,config:a})=>{const{monitorType:o,config:c}=K(),s=A(A({},c),a),d=(()=>{switch(o){case"fundebug":return ut.jsx($t,X(A({},s),{children:t||r}));case"rollbar":return ut.jsx(_s,X(A({},s),{children:e||r}));case"sentry":return ut.jsx(tl,X(A({},s),{children:n||r}));default:return ut.jsxs(ut.Fragment,{children:[ut.jsx($t,X(A({},s),{children:t||r})),ut.jsx(_s,X(A({},s),{children:e||r})),ut.jsx(tl,X(A({},s),{children:n||r}))]})}})();return ut.jsx("div",{className:i,children:d})}}}]);
}());