{"version":3,"file":"193.js","sources":["webpack://shark/./src/pages/table/index.tsx"],"sourcesContent":["import {\n  Button,\n  Col,\n  Form,\n  Input,\n  InputNumber,\n  Modal,\n  Row,\n  Space,\n  Table,\n  Tag,\n  message,\n} from 'antd'\nimport type { ColumnsType } from 'antd/es/table'\nimport axios from 'axios'\nimport type { FC, SetStateAction } from 'react'\nimport { useEffect, useState } from 'react'\n\nexport interface DataType {\n  key: string\n  name: string\n  age: number\n  address: string\n  tags: string[]\n}\n\nconst TablePage: FC = () => {\n  const [messageApi, contextHolder] = message.useMessage()\n\n  const [open, setOpen] = useState(false)\n  const [confirmLoading, setConfirmLoading] = useState(false)\n  const [modalText, setModalText] = useState('Content of the modal')\n  const showModal = (record: DataType) => {\n    setModalText(`确定要删除 ${record.name} 吗?`)\n    setOpen(true)\n  }\n\n  const handleOk = () => {\n    messageApi.open({\n      type: 'success',\n      content: `删除成功`,\n      duration: 1,\n    })\n    setConfirmLoading(true)\n    setTimeout(() => {\n      setOpen(false)\n      setConfirmLoading(false)\n    }, 2000)\n  }\n\n  const handleCancel = () => {\n    console.log('Clicked cancel button')\n    setOpen(false)\n  }\n  const columns: ColumnsType<DataType> = [\n    {\n      title: '名称',\n      dataIndex: 'name',\n      key: 'name',\n      align: 'center',\n      render: text => <a>{text}</a>,\n    },\n    {\n      title: '年龄',\n      dataIndex: 'age',\n      align: 'center',\n      key: 'age',\n    },\n    {\n      title: '地址',\n      align: 'center',\n      dataIndex: 'address',\n      key: 'address',\n    },\n    {\n      title: '城市',\n      key: 'tags',\n      align: 'center',\n      dataIndex: 'tags',\n      render: (_, { tags, id }) => (\n        <>\n          {tags.map((tag) => {\n            let color = tag.length > 5 ? 'geekblue' : 'green'\n            if (tag === 'loser')\n              color = 'volcano'\n            return (\n              <Tag color={color} key={tag + id}>\n                {tag}\n              </Tag>\n            )\n          })}\n        </>\n      ),\n    },\n    {\n      title: '操作',\n      key: 'action',\n      align: 'center',\n      render: (_, record) => (\n        <Space size=\"middle\">\n          <Button type=\"primary\">编辑</Button>\n          <Button\n            danger\n            type=\"primary\"\n            onClick={() => {\n              showModal(record)\n            }}\n          >\n            删除\n          </Button>\n        </Space>\n      ),\n    },\n  ]\n  const [data, setData] = useState<DataType[]>([])\n  const asyncFetch = () => {\n    axios\n      .get('/api/table')\n      .then((json: { data: { data: SetStateAction<DataType[]> } }) => {\n        setData(json.data.data)\n      })\n      .catch((error: any) => {\n        console.log('fetch data failed', error)\n      })\n  }\n\n  useEffect(() => {\n    asyncFetch()\n  }, [])\n  return (\n    <div>\n      {contextHolder}\n      <Modal\n        title=\"删除确认\"\n        open={open}\n        onOk={handleOk}\n        cancelText=\"取消\"\n        okText=\"确认\"\n        confirmLoading={confirmLoading}\n        onCancel={handleCancel}\n      >\n        <p>{modalText}</p>\n      </Modal>\n      <Form\n        size=\"large\"\n        className=\"dark:bg-[rgb(33,41,70)] bg-white p-[24px] rounded-md\"\n      >\n        <Row gutter={24}>\n          <Col className=\"w-[100%]\" lg={24} xl={8}>\n            <Form.Item name=\"name\" label=\"名称\">\n              <Input />\n            </Form.Item>\n          </Col>\n          <Col className=\"w-[100%]\" lg={24} xl={8}>\n            <Form.Item name=\"age\" label=\"年龄\">\n              <InputNumber style={{ width: '100%' }} />\n            </Form.Item>\n          </Col>\n          <Col className=\"w-[100%] text-right\" lg={24} xl={8}>\n            <Space>\n              <Button type=\"primary\">搜索</Button>\n              <Button>清除</Button>\n            </Space>\n          </Col>\n        </Row>\n      </Form>\n      <div className=\"mt-[16px] dark:bg-[rgb(33,41,70)] rounded-md\">\n        <Table\n          scroll={{ x: true }}\n          columns={columns}\n          dataSource={data}\n          className=\"bg-transparent\"\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default TablePage\n"],"names":["messageApi","contextHolder","message","open","setOpen","useState","confirmLoading","setConfirmLoading","modalText","setModalText","showModal","record","name","columns","title","dataIndex","key","align","render","text","_","tags","id","map","tag","color","length","Tag","Space","size","Button","type","danger","onClick","data","setData","asyncFetch","then","json","catch","error","console","log","useEffect","Modal","onOk","content","duration","setTimeout","cancelText","okText","onCancel","Form","className","Row","gutter","Col","lg","xl","label","Input","InputNumber","style","width","Table","scroll","x","dataSource"],"mappings":"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"}